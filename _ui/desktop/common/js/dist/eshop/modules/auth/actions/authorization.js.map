{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/auth/actions/authorization.js"],
    "names": ["loveLeadProcess", "getState", "TransactionProcessType", "RETENTION", "OfferType", "VOICE_LDF", "doSmsAuthorization", "dispatch", "isWWW", "clientContext", "process", "loggedData", "console", "log", "isAccountSelected", "accountCode", "isOnlineCookie", "isCartEmpty", "authorizationRequired", "type", "ACTIONS", "AUTHORIZATION_ADD_TO_CART_AFTER", "value", "MNP", "MIGRATION_PRE_POST", "MIGRATION_NJU_POST_TO_POST", "AUTHORIZATION_MODAL_FOR_PROCESS_ON", "setShowSection", "ShowSectionName", "MSISDN", "AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_ON", "CHECK_IS_CUSTOMER", "INSTALMENT_SALES_OF_GOODS", "ACTIVATION", "showMobileAccountSelection", "isProcessWithAccountVerification", "doSmsAccountVerification", "setPeselAndAddressVerificationEnabled", "isEnabled", "IS_PESEL_AND_ADDRESS_VERIFICATION_ENABLED", "doRegisterBillingAccountPopupB2B", "DO_REGISTER_BILLING_ACCOUNT_POPUP_B2B", "registerBillingAccountPopupToPubSub", "PubSub", "subscribe", "CONFIG_ACTIONS", "CUSTOMER_SELECTED", "OPL", "UI", "fire", "EVENTS", "modules", "basket", "counter", "update", "showRetentionAlertModal", "AUTHORIZATION_CHOOSE_ACCOUNT_ON", "ACCOUNT", "showMobileAccountChange", "setMSISDN", "msisdn", "AUTHORIZATION_MSISDN_OR_LOGIN", "logIn", "chooseExistingAccount", "safeLogOut", "AUTHORIZATION_LOGOUT_CONFIRMATION_MODAL_ON", "hideLogoutConfirmationModal", "AUTHORIZATION_LOGOUT_CONFIRMATION_MODAL_OFF", "AUTHORIZATION_RETENTION_ALERT_MODAL_ON", "hideProcessAlertModal", "AUTHORIZATION_RETENTION_ALERT_MODAL_OFF", "setSelectedBillingAccountId", "accountId", "SET_SELECTED_BILLING_ACCOUNT_ID", "showMessage", "msg", "SHOW_MESSAGE", "text", "showError", "section", "AUTHORIZATION_SHOW_SECTION", "showProgress", "clearMessage", "setIsLoading", "isLoading", "AUTHORIZATION_IS_LOADING_ON", "AUTHORIZATION_IS_LOADING_OFF", "setIncompatibleMarket", "incompatibleMarket", "market", "MARKET_IS_INCOMPATIBLE", "payload", "MARKET_IS_COMPATIBLE", "ommitAccountAuth", "AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_OFF", "CLIENT_CONTEXT_DISABLED", "clearStayLoveRetentionMSISDN", "USE_DEFAULT_PROCESS", "use", "USE_DEFAULT_LOYALTY", "STAY_LOVE_RETENTION_MSISDN", "stayLove", "authorizationSuccess", "lovePaths", "window", "location", "pathname", "isStayLoveQuestionNecessary", "account", "sbg", "hasLove", "continueWithODF", "STAY_LOVE", "AUTHORIZATION_MODAL_FOR_PROCESS_OFF", "includes", "accountIdentifySuccess", "AUTHORIZATION_CHOOSE_ACCOUNT_OFF", "showProcessChangedModal", "FIX_PROCESS_CHANGED", "useExisting", "AUTHORIZATION_CHOOSE_ACCOUNT_EXISTING", "AUTHORIZATION_CHOOSE_ACCOUNT_NEW", "closeAuthModal", "authorizationFailure", "warn", "accountChoosen", "setAccountByMsisdn", "SET_ACCOUNT_BY_MSISDN", "setSalesChannel", "channel", "SET_SALES_CHANNEL"],
    "mappings": "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",
    "sourcesContent": ["import * as ACTIONS from \"../actionTypes\";\nimport * as CONFIG_ACTIONS from \"eshop/modules/configurator/actionTypes\";\nimport FixRemoteApi from \"eshop/modules/fix/remoteApi\";\nimport {addToCart, addInstallmentSalesOfGoodsToCart} from \"eshop/modules/configurator/actions/cart\";\nimport {\n    getClientContext,\n    getMarketContext,\n    getSelectedProcessTypeValue,\n} from \"eshop/modules/configurator/selectors/filters\";\nimport {\n    addToCartAfterAuth,\n    getAuthorizationForAccountIdentifyModalVisibility,\n    getAuthorizationForProcessModalVisibility,\n    getIsOnlineCookie,\n    getLoggedCustomerData,\n    getSalesChannel,\n    isCartChanged,\n    getWwwCimIdBasedOfferSelectorProcesses,\n    getLovePaths,\n    getMSISDN,\n    getStayLoveRetentionMSISDN,\n    isLovePage,\n} from \"eshop/modules/auth/selectors/authorization\";\nimport {\n    bodyLoaderHide,\n    bodyLoaderShow,\n    dismissAuthErrors,\n    dismissCvErrors,\n    doCheckoutStepNoRedirect,\n    processChanged,\n} from \"eshop/modules/checkout/actions/app\";\nimport {getIsCustomerDataStep, shouldShowModalAfterProcessChanged} from \"eshop/modules/checkout/selectors\";\nimport {isCartFix} from \"eshop/modules/cart/selectors\"\n\nimport {\n    clearCartCustomerRequested,\n    requestCartCustomerData,\n    subscribeCustomerSelected,\n} from \"eshop/modules/checkout/actions/data\";\n\nimport {requestLoggedCustomerData} from \"eshop/modules/auth/actions/api\";\nimport {fetchCart, fetchMiniCart} from \"eshop/modules/cart/actions/cart\";\nimport {whenAvailable} from \"eshop/modules/checkout/utils/utils\";\nimport {updateAddress} from \"eshop/modules/fix/actions/wwt\"\nimport {isLandingPage,isPreLandingPage} from \"eshop/modules/fix/selectors/root\";\nimport {hasRetention} from \"eshop/modules/cart/selectors\";\nimport {setOfferType} from \"eshop/modules/simfree/actions/app\"\nimport {isProductDetailsPage, isProductListPage,isAccessoryListPage} from \"eshop/modules/simfree/selectors\"\n\n\nimport {\n    searchCustomerPerformed,\n} from \"eshop/modules/magnum2/actions/magnum\";\nimport {wasSearchCustomerPerformed} from \"eshop/modules/magnum2/selectors\"\nimport {getSelectedSoftBundleGroup} from \"eshop/modules/simfree/selectors\";\nimport {isLogged} from \"../selectors/authorization\";\nimport TransactionProcessType from \"../../core/constants/TransactionProcessTypeEnum\";\nimport ShowSectionName from \"../../core/constants/ShowSectionNameEnum\";\nimport {getSelectedOfferType} from \"../../configurator/selectors/filters\";\nimport OfferType from \"../../core/constants/OfferTypeEnum\";\nimport {isDuet} from \"eshop/modules/simfree/selectors\";\n\nconst loveLeadProcess = getState => {\n    return getMarketContext(getState()) === \"B2B\" &&\n        !isLogged(getState()) &&\n        getSelectedProcessTypeValue(getState()) !== TransactionProcessType.RETENTION &&\n        getSelectedOfferType(getState()) === OfferType.VOICE_LDF &&\n        (isLovePage() || isProductListPage() || isProductDetailsPage() || isAccessoryListPage());\n};\n\nexport const doSmsAuthorization = () => (dispatch, getState) => {\n    let isWWW = \"WWW\" === getSalesChannel(getState());\n    let clientContext = getClientContext(getState());\n    let process = getSelectedProcessTypeValue(getState());\n    let loggedData = getLoggedCustomerData(getState());\n    console.log(loggedData);\n    let isAccountSelected = loggedData && loggedData.accountCode;\n    let isOnlineCookie = loggedData && loggedData.isOnlineCookie;\n    let isCartEmpty = loggedData ? loggedData.isCartEmpty : true;\n\n    let authorizationRequired = false;\n    console.log(\"Authorization routine:\");\n    console.log(\"Process=\", process);\n    console.log(\"isAccountSelected:\", isAccountSelected);\n    console.log(\"clientContext:\", clientContext);\n    console.log(\"isCartEmpty:\", isCartEmpty);\n    console.log(\"isOnlineCookie:\", isOnlineCookie);\n    console.log(\"getAuthorizationForProcessModalVisibility\");\n    console.log(getAuthorizationForProcessModalVisibility(getState()));\n    console.log(loggedData);\n    dispatch({type: ACTIONS.AUTHORIZATION_ADD_TO_CART_AFTER, value: true});\n    if(getStayLoveRetentionMSISDN(getState())){\n        dispatch(addToCart());\n        return ;\n    }\n\n\n\n    if (isWWW) {\n        if (process === TransactionProcessType.MNP ||\n            process === TransactionProcessType.MIGRATION_PRE_POST ||\n            process === TransactionProcessType.MIGRATION_NJU_POST_TO_POST ||\n            process === TransactionProcessType.RETENTION)\n        {//auth check\n            dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_PROCESS_ON});\n            dispatch(setShowSection(ShowSectionName.MSISDN));\n            authorizationRequired = true\n        }\n        if (loveLeadProcess(getState)) {\n            dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_ON});\n            dispatch(setShowSection(ShowSectionName.CHECK_IS_CUSTOMER));\n            authorizationRequired = true;\n            return;\n        }\n        console.log(\"authorizationRequired:\", authorizationRequired);\n        if ((\n                clientContext && !isDuet(getState()) ||\n                isOnlineCookie ||\n                process === TransactionProcessType.INSTALMENT_SALES_OF_GOODS\n            ) &&\n            (\n                !isAccountSelected ||\n                process === TransactionProcessType.INSTALMENT_SALES_OF_GOODS &&\n                isAccountSelected === \"0\"\n            )) {\n            if (\n                process === TransactionProcessType.MNP ||\n                process === TransactionProcessType.MIGRATION_PRE_POST ||\n                process === TransactionProcessType.MIGRATION_NJU_POST_TO_POST ||\n                process === TransactionProcessType.ACTIVATION ||\n                process === TransactionProcessType.INSTALMENT_SALES_OF_GOODS\n            ) {//account check\n                authorizationRequired = true;\n                if (!isOnlineCookie) {\n                    dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_ON});\n                    dispatch(setShowSection(ShowSectionName.MSISDN));\n                } else {\n                    if (!getAuthorizationForProcessModalVisibility(getState()))\n                        dispatch(showMobileAccountSelection());\n                }\n            }\n        }\n    }\n    if (!authorizationRequired) {\n        if(process === TransactionProcessType.INSTALMENT_SALES_OF_GOODS){\n            dispatch(addInstallmentSalesOfGoodsToCart());\n        } else {\n            dispatch(addToCart());\n        }\n    }\n};\n\nconst isProcessWithAccountVerification = process => {\n    return process === TransactionProcessType.MNP ||\n        process === TransactionProcessType.MIGRATION_PRE_POST ||\n        process === TransactionProcessType.ACTIVATION ||\n        process === TransactionProcessType.INSTALMENT_SALES_OF_GOODS;\n};\n\nexport const doSmsAccountVerification = () => (dispatch, getState) => {\n    let clientContext = getClientContext(getState());\n    let process = getSelectedProcessTypeValue(getState());\n    let loggedData = getLoggedCustomerData(getState());\n    let isAccountSelected = loggedData && loggedData.accountCode;\n    let isOnlineCookie = loggedData && loggedData.isOnlineCookie;\n\n    dispatch({type: ACTIONS.AUTHORIZATION_ADD_TO_CART_AFTER, value: true});\n    if ((clientContext || isOnlineCookie) && !isAccountSelected && isProcessWithAccountVerification(process)) {//account check\n        if (!isOnlineCookie) {\n            dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_ON});\n            dispatch(setShowSection(ShowSectionName.MSISDN));\n        } else {\n            if (!getAuthorizationForProcessModalVisibility(getState())) {\n                dispatch(showMobileAccountSelection());\n            }\n        }\n    } else {\n        dispatch(addToCart());\n    }\n};\n\nexport const setPeselAndAddressVerificationEnabled = isEnabled => dispatch =>{\n    dispatch({type:ACTIONS.IS_PESEL_AND_ADDRESS_VERIFICATION_ENABLED,isEnabled})\n};\n\nexport const doRegisterBillingAccountPopupB2B = () => (dispatch) => {\n    dispatch({type: ACTIONS.DO_REGISTER_BILLING_ACCOUNT_POPUP_B2B});\n};\n\nexport const registerBillingAccountPopupToPubSub = () => (dispatch,getState) => {\n    whenAvailable(\"PubSub\", () => {\n        console.log(\"registerBillingAccountPopupToPubSub\");\n\n        PubSub.subscribe(\"UXEvent.CustomerService.SearchCustomer.NotFound\", () => {\n            console.log(\"Customer not found\");\n                if(wasSearchCustomerPerformed(getState())) {\n                    dispatch({type: CONFIG_ACTIONS.CUSTOMER_SELECTED});\n                }\n                dispatch(requestLoggedCustomerData());\n                dispatch(fetchMiniCart());\n                dispatch(fetchCart());\n                OPL.UI.fire(OPL.UI.EVENTS.modules.basket.counter.update, 0, 'header');\n\n\n        });\n        PubSub.subscribe(\"UXEvent.CustomerService.SearchCustomer.Search\", () => {\n            dispatch(searchCustomerPerformed());\n            dispatch(requestLoggedCustomerData());\n            dispatch(fetchMiniCart());\n            dispatch(fetchCart());\n            OPL.UI.fire(OPL.UI.EVENTS.modules.basket.counter.update, 0, 'header');\n        });\n        dispatch(doRegisterBillingAccountPopupB2B());\n        dispatch(subscribeCustomerSelected());\n    });\n};\n\nexport const showMobileAccountSelection = () => (dispatch, getState) => {\n    console.log(\"showMobileAccountSelection\");\n    if (hasRetention(getState())) {\n        dispatch(showRetentionAlertModal());\n        return;\n    }\n    dispatch({type: ACTIONS.AUTHORIZATION_CHOOSE_ACCOUNT_ON});\n    dispatch(setShowSection(ShowSectionName.ACCOUNT));\n};\n\nexport const showMobileAccountChange = () => (dispatch, getState) => {\n    console.log(\"showMobileAccountChange\");\n    if (hasRetention(getState())) {\n        console.log(\"showRetentionAlertModal\");\n        dispatch(showRetentionAlertModal());\n    } else{\n        dispatch(showMobileAccountSelection());\n    }\n};\n\n\nexport const setMSISDN = msisdn => (dispatch, getState) => {\n    dispatch({type: ACTIONS.AUTHORIZATION_MSISDN_OR_LOGIN, msisdn})\n\n};\nexport const logIn = () => (dispatch, getState) => {\n    dispatch(chooseExistingAccount(false));\n    dispatch(setShowSection(ShowSectionName.MSISDN));\n    dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_ON});\n};\nexport const safeLogOut = () => (dispatch, getState) => {\n    dispatch({type: ACTIONS.AUTHORIZATION_LOGOUT_CONFIRMATION_MODAL_ON})\n};\nexport const hideLogoutConfirmationModal = () => (dispatch, getState) => {\n    dispatch({type: ACTIONS.AUTHORIZATION_LOGOUT_CONFIRMATION_MODAL_OFF})\n\n};\n\nexport const showRetentionAlertModal = () => (dispatch, getState) => {\n    dispatch({type: ACTIONS.AUTHORIZATION_RETENTION_ALERT_MODAL_ON})\n};\n\nexport const hideProcessAlertModal = () => (dispatch, getState) => {\n    dispatch({type: ACTIONS.AUTHORIZATION_RETENTION_ALERT_MODAL_OFF})\n};\n\nexport const setSelectedBillingAccountId = accountId => (dispatch, getState) => {\n    dispatch({\n        type: ACTIONS.SET_SELECTED_BILLING_ACCOUNT_ID,\n        accountId: accountId,\n    });\n    dispatch(requestLoggedCustomerData());\n\n};\n\nexport const showMessage = msg => (dispatch, getState) => {\n    dispatch({\n        type: ACTIONS.SHOW_MESSAGE,\n        msg: {\n            text: msg,\n            type: \"info\",\n        },\n    })\n};\nexport const showError = msg => (dispatch, getState) => {\n    dispatch({\n        type: ACTIONS.SHOW_MESSAGE,\n        msg: {\n            text: msg,\n            type: \"error\",\n        },\n    })\n};\n\nexport const setShowSection = section => (dispatch, getState) => {\n    dispatch({\n        type: ACTIONS.AUTHORIZATION_SHOW_SECTION,\n        section,\n    })\n};\nexport const showProgress = msg => (dispatch, getState) => {\n    dispatch({\n        type: ACTIONS.SHOW_MESSAGE,\n        msg: {\n            text: msg,\n            type: \"progress\",\n        },\n    })\n};\nexport const clearMessage = () => (dispatch, getState) => {\n    dispatch({type: ACTIONS.SHOW_MESSAGE, msg: \"\"})\n};\nexport const setIsLoading = isLoading => (dispatch, getState) => {\n    if (isLoading)\n        dispatch({\n            type: ACTIONS.AUTHORIZATION_IS_LOADING_ON,\n        });\n    else\n        dispatch({\n            type: ACTIONS.AUTHORIZATION_IS_LOADING_OFF,\n        })\n};\n//isMarketIncompatible?? first arg\nexport const setIncompatibleMarket = (incompatibleMarket, market) => (dispatch, getState) => {\n    if (incompatibleMarket)\n        dispatch({\n            type: ACTIONS.MARKET_IS_INCOMPATIBLE,\n            payload: market,\n        });\n    else\n        dispatch({\n            type: ACTIONS.MARKET_IS_COMPATIBLE,\n        })\n};\nexport const ommitAccountAuth = () => (dispatch, getState) => {\n    dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_OFF});\n    dispatch(setIsLoading(false));\n    dispatch(showMessage(\"\"));\n    dispatch({type: CONFIG_ACTIONS.CLIENT_CONTEXT_DISABLED});\n    dispatch(addToCart());\n\n};\n\n\nexport const clearStayLoveRetentionMSISDN = () => dispatch =>{\n    dispatch({type: CONFIG_ACTIONS.USE_DEFAULT_PROCESS, use: true});\n    dispatch({type: CONFIG_ACTIONS.USE_DEFAULT_LOYALTY, use: true});\n    dispatch({type:ACTIONS.STAY_LOVE_RETENTION_MSISDN,msisdn:\"\"});\n\n};\nexport const stayLove = () =>(dispatch,getState) =>{\n    dispatch({type:ACTIONS.STAY_LOVE_RETENTION_MSISDN,msisdn:getMSISDN(getState())});\n    if(isProductListPage(getState()) || isProductDetailsPage(getState()) || isAccessoryListPage(getState())){\n        //zmiana kontekstu oferty\n        dispatch({type: CONFIG_ACTIONS.USE_DEFAULT_PROCESS, use: false});\n        dispatch({type: CONFIG_ACTIONS.USE_DEFAULT_LOYALTY, use: false});\n        dispatch(setOfferType(\"VOICE_LDF\"));\n        dispatch({type: ACTIONS.AUTHORIZATION_ADD_TO_CART_AFTER, value: false});\n        dispatch(authorizationSuccess());\n        return;\n    }\n    const lovePaths = getLovePaths();\n    window.location.pathname = lovePaths[0];\n\n\n};\nconst isStayLoveQuestionNecessary = (account,sbg) => {\n    console.log(\"STAY LOVE? \",account);\n    return account && account.hasLove && sbg!==\"LDF\";\n\n};\nexport const authorizationSuccess = (continueWithODF=false,account=null) => (dispatch, getState) => {\n    console.log(\"authorizationSuccess\",continueWithODF);\n    console.log(\"authorizationSuccess\",account);\n    dispatch(dismissAuthErrors());\n    dispatch(clearMessage());\n    dispatch(setIsLoading(false));\n    if(!continueWithODF && isStayLoveQuestionNecessary(account,getSelectedSoftBundleGroup(getState()))){\n        dispatch(setShowSection(ShowSectionName.STAY_LOVE));\n\n        return;\n    }\n    dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_PROCESS_OFF});\n\n    if (!getAuthorizationForAccountIdentifyModalVisibility(getState()) || getWwwCimIdBasedOfferSelectorProcesses().includes(getSelectedProcessTypeValue(getState()))) {\n        dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_OFF});\n        if(addToCartAfterAuth(getState())) {\n            dispatch(addToCart());\n        }\n        dispatch({type: ACTIONS.AUTHORIZATION_ADD_TO_CART_AFTER, value: false});\n\n    } else {\n        dispatch(setShowSection(ShowSectionName.MSISDN));\n\n    }\n};\nexport const accountIdentifySuccess = () => (dispatch, getState) => {\n    console.log(\"Konto znalezione\");\n    OPL.UI.fire('modules.header.reloadRightMenu');\n    dispatch(setIsLoading(false));\n    dispatch(clearMessage());\n\n    dispatch({type: ACTIONS.AUTHORIZATION_CHOOSE_ACCOUNT_OFF});\n    dispatch({type: ACTIONS.AUTHORIZATION_IS_LOADING_OFF});\n    dispatch(dismissAuthErrors());\n    if (isLandingPage(getState()) &&!isPreLandingPage(getState())) {//for fix\n        dispatch(updateAddress({}, null, true));\n    }\n    if (addToCartAfterAuth(getState())) {\n\n        console.log(\"AUTH SUCCESS addToCart\");\n        dispatch(addToCart());\n        dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_OFF});\n        dispatch({type: ACTIONS.AUTHORIZATION_ADD_TO_CART_AFTER, value: false});\n    } else {\n        console.log(\"AUTH SUCCESS reloadCustomerInfo\");\n        dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_OFF});\n        dispatch(dismissCvErrors());\n        dispatch({type: ACTIONS.AUTHORIZATION_CHOOSE_ACCOUNT_OFF});\n        dispatch(clearCartCustomerRequested());\n        dispatch(requestLoggedCustomerData());\n        dispatch(clearMessage());\n        console.log(\"TU\");\n        const showProcessChangedModal = shouldShowModalAfterProcessChanged(getState());\n        dispatch(requestCartCustomerData());\n        if (showProcessChangedModal) {\n            dispatch(setShowSection(ShowSectionName.FIX_PROCESS_CHANGED));\n        }\n    }\n    dispatch(fetchMiniCart());\n    dispatch(fetchCart());\n};\n\nexport const chooseExistingAccount = useExisting => dispatch => {\n    console.log(\"chooseExistingAccount \", useExisting);\n    if (useExisting == \"true\") {\n        dispatch({type: ACTIONS.AUTHORIZATION_CHOOSE_ACCOUNT_EXISTING});\n    }\n    else {\n        dispatch({type: ACTIONS.AUTHORIZATION_CHOOSE_ACCOUNT_NEW});\n    }\n};\n\nexport const closeAuthModal = () => dispatch => {\n    dispatch({type: ACTIONS.AUTHORIZATION_CHOOSE_ACCOUNT_OFF});\n    dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_ACCOUNT_IDENTIFY_OFF});\n    dispatch({type: ACTIONS.AUTHORIZATION_MODAL_FOR_PROCESS_OFF});\n    dispatch({type: ACTIONS.AUTHORIZATION_IS_LOADING_OFF});\n    dispatch({type: ACTIONS.SHOW_MESSAGE, msg: \"\"});\n};\nexport const authorizationFailure = () => dispatch => {\n    console.warn('authorization failed or canceled');\n    dispatch(closeAuthModal());\n};\nexport const accountChoosen = accountCode => dispatch => {\n    console.log(\"accountChoosen \", accountCode);\n    dispatch(closeAuthModal());\n};\n\nexport const setAccountByMsisdn = account => dispatch => {\n    console.log(\"setAccountByMsisdn\");\n    dispatch({type: ACTIONS.SET_ACCOUNT_BY_MSISDN, account});\n};\n\nexport const setSalesChannel = channel => dispatch => {\n    dispatch({type: ACTIONS.SET_SALES_CHANNEL, channel});\n};\n\n"],
    "file": "authorization.js"
}