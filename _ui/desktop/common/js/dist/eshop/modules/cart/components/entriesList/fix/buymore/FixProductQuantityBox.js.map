{
    "version": 3,
    "sources": ["../../../../../../../../../es6/eshop/modules/cart/components/entriesList/fix/buymore/FixProductQuantityBox.jsx"],
    "names": ["FixProductQuantityBox", "props", "event", "productToAdd", "vas", "groupedProducts", "find", "p", "presentation", "selected", "onSelectionChanged", "id", "propositionId", "selectedGroupedProductsIds", "filter", "map", "productToRemove", "isRemovable", "configurables", "product", "outlineStyle", "warningMessage", "outline", "Outline", "WARN", "borderDescription", "INFO", "maxQuantity", "length", "minQuantity", "mandatory", "quantity", "disabledAddClass", "disabledRemoveClass", "borderDescriptionHtml", "__html", "hasBorder", "marginTop", "zIndex", "net", "remove", "add", "getSectionHeader", "Component", "propTypes", "PropTypes", "shape", "title", "string", "paymentDescriptions", "monthlyPayments", "array", "onRemoveWarning", "idx", "oneOfType", "number", "func", "onClickWrapped"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {PropTypes} from \"prop-types\";\nimport {RwdPriceBox} from \"eshop/modules/cart/components/entriesList/shared/PriceBoxes\";\nimport {Section, Trigger} from \"eshop/modules/core/components/ui/Expander\";\nimport {LCol, LRow} from \"./Utils\";\nimport UniversalProductDetails from \"./FixProductDetails\";\nimport {GraphicCell, NameCell, PriceCell} from \"./modalFragments/FixInputFragments\";\nimport Outline from \"../../../../../core/enum/Outline\";\nimport {isMandatory} from \"../../utils/ConfigurableUtils\";\n\nexport default class FixProductQuantityBox extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    getSectionHeader() {\n        return (\n            <Trigger\n                className=\"js-expander__trigger__nested u-inline-block large-offset-by-3 medium-offset-by-3 u-padding-all-l u-no-padding-top\">\n                <span className=\"js-expander__trigger--show\">{'Zwiń\\u00a0szczegóły'}</span>\n                <span className=\"js-expander__trigger--hide\">{'Szczegóły'}</span>\n            </Trigger>\n        );\n    }\n\n    add(event) {\n        const productToAdd = this.props.vas.groupedProducts.find(p => p.presentation !== \"hidden\" && !p.selected);\n        this.props.onSelectionChanged(productToAdd.id, this.props.vas.propositionId)(event)\n    }\n\n    remove(event) {\n        const selectedGroupedProductsIds = this.props.vas.groupedProducts.filter(p => !!p.selected).map(p => p.id);\n        const productToRemove = this.props.vas.groupedProducts.find(p => this.isRemovable(p, this.props.configurables, selectedGroupedProductsIds));\n        this.props.onSelectionChanged(productToRemove.id, this.props.vas.propositionId)(event);\n    }\n\n    isRemovable(product, configurables, selectedGroupedProductsIds) {\n        if (product.presentation !== \"hidden\" && !!product.selected && !!configurables) {\n            return !isMandatory(product.id, configurables, selectedGroupedProductsIds);\n        }\n        return false;\n    }\n\n    render() {\n        let outlineStyle = {}\n        if (!!this.props.vas.warningMessage) {\n            outlineStyle = { outline: Outline.WARN };\n        } else if (this.props.vas.borderDescription){\n            outlineStyle = {outline: Outline.INFO};\n        }\n        let maxQuantity = this.props.vas.groupedProducts.filter(p => p.presentation !== \"hidden\").length;\n        let minQuantity = this.props.vas.groupedProducts.filter(p => p.mandatory).length;\n        let quantity = this.props.vas.groupedProducts.filter(p => p.selected).length;\n        let selected = quantity > 0;\n        let disabledAddClass = quantity >= maxQuantity ? 'is-disabled' : '';\n        let disabledRemoveClass = quantity <= minQuantity ? 'is-disabled' : '';\n        let borderDescriptionHtml = { __html: this.props.vas.borderDescription };\n        const hasBorder = this.props.vas.warningMessage || this.props.vas.borderDescription;\n        return (\n            <div className={`u-position-relative u-margin-top-m ${!hasBorder ? 'u-position-relative g-white1-bg is-selected' : ''}`}\n                 style={{...outlineStyle, marginTop: '2px'}}>\n                {\n                    this.props.vas.warningMessage &&\n                    <div\n                        className=\"opl-box opl-payback-box opl-content-arrow--no-border g-yellowf-bg u-padding-m u-padding-top-m\">\n                        <div className=\"u-no-margin l-row\">\n                            <span className=\"g-icon g-icon--only g-icon--warn g-icon--xs-s u-padding u-padding-right-s\"\n                                  aria-hidden=\"true\"/>\n                            <span className=\"u-strong h5\">Uwaga!</span>\n                            <p className=\"u-no-margin\">{this.props.vas.warningMessage}</p>\n                        </div>\n                        <div className=\"u-no-margin-bottom l-row\">\n                            <div className=\"l-col l-col-3 large-offset-by-6 medium-offset-by-6\">\n                                <div className=\"opl-content-arrow__object opl-content-arrow--no-border g-yellowf-b-bg\"\n                                     style={{marginTop: \"-5px\", zIndex: \"-1\"}}/>\n                            </div>\n                        </div>\n                    </div>\n                }\n                {\n                    this.props.vas.borderDescription && !this.props.vas.selected &&\n                    <div className=\"opl-box opl-payback-box opl-content-arrow--no-border g-bluef-bg u-padding-m u-padding-top-m\">\n                        <div className=\"u-no-margin l-row\">\n                            <p className=\"h4 u-no-margin g-white1-c\" dangerouslySetInnerHTML={borderDescriptionHtml}/>\n                        </div>\n                        <div className=\"u-no-margin-bottom l-row\">\n                            <div className=\"l-col l-col-3 large-offset-by-6 medium-offset-by-6\">\n                                <div className=\"opl-content-arrow__object opl-content-arrow--no-border g-bluef-b-bg\" style={{marginTop:\"-10px\", zIndex:\"-1\"}}/>\n                            </div>\n                        </div>\n                    </div>\n                }\n\n                {\n                    !hasBorder && selected &&\n                    <div className=\"opl-selection-layer\" aria-hidden=\"true\">\n                        <div className=\"opl-selection-layer__border\"></div>\n                        <div className=\"opl-selection-layer__checkmark\"></div>\n                    </div>\n                }\n\n                <LRow className=\"u-no-margin u-padding-all-l u-no-padding-bottom u-small-padding-all u-small-padding-top-l\" onClick={() => {}}>\n                    <GraphicCell vas={this.props.vas}/>\n                    <NameCell vas={this.props.vas}/>\n                    <PriceCell vas={this.props.vas} net={this.props.net}/>\n                    <div className=\"l-col l-col-small-12 l-col-medium-2 l-col-2  u-small-position-absolute u-small-position-right u-small-w-auto u-small-padding-right-l\"/>\n                    <LCol small=\"12\" medium=\"2\" big=\"2\"\n                          className=\"u-small-position-absolute u-small-position-right u-small-w-auto u-small-padding-right-l\">\n                        <label className=\"u-right u-no-padding-top\">\n                            <div className=\"o-spinbox-wrapper opl-spinbox__wrapper g-brand2-bg\">\n                                <a href=\"#\" onClick={(event) => this.remove(event)} tabIndex=\"-1\"\n                                   className={`o-spinbox__btn o-spinbox__btn--less g-icon g-icon--only g-icon--minus g-icon--xs ${disabledRemoveClass}`}>\n                                    <span className=\"u-acc-hide\">mniej</span>\n                                </a>\n                                <input id={`quantity-box-${this.props.vas.id}`} type=\"text\"\n                                       maxLength=\"1\" min={minQuantity} max={maxQuantity}\n                                       className=\"o-spinbox g-white1-c u-no-border\"\n                                       disabled={true}\n                                       value={quantity}\n                                />\n                                <a href=\"#\" onClick={(event) => this.add(event)} tabIndex=\"-1\"\n                                   className={`o-spinbox__btn o-spinbox__btn--more g-icon g-icon--only g-icon--plus g-icon--xs ${disabledAddClass}`}>\n                                    <span className=\"u-acc-hide\">więcej</span>\n                                </a>\n                            </div>\n                        </label>\n                    </LCol>\n                </LRow>\n                <Section header={this.getSectionHeader()} contentClassName=\"js-expander__container__nested\"\n                         headerClassName=\"u-position-relative u-small-text-right\"\n                         className=\"l-row u-no-margin opl-section-outer--2\">\n                    <UniversalProductDetails vas={this.props.vas}/>\n                </Section>\n            </div>\n        );\n    }\n}\n\nFixProductQuantityBox.propTypes = {\n    vas: PropTypes.shape({\n        title: PropTypes.string,\n        id: PropTypes.string,\n        paymentDescriptions: PropTypes.shape({\n            monthlyPayments: PropTypes.array\n        }),\n        warningMessage: PropTypes.string,\n        onRemoveWarning: PropTypes.string\n    }),\n    idx: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onSelectionChanged: PropTypes.func,\n    onClickWrapped: PropTypes.func\n};\n"],
    "file": "FixProductQuantityBox.js"
}