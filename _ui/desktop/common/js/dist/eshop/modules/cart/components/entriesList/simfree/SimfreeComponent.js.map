{
    "version": 3,
    "sources": ["../../../../../../../../es6/eshop/modules/cart/components/entriesList/simfree/SimfreeComponent.jsx"],
    "names": ["SimfreeComponent", "props", "DataLayerUtils", "pushPageCategoryDimension", "bundle", "vases", "find", "vas", "entryVases", "getVasesForBundle", "services", "inServices", "forEach", "service", "id", "productCode", "push", "length", "entry", "conf", "titleConf", "mainIcon", "icon", "title", "sectionConf", "sectionTitle", "trigger", "idx", "productSections", "terminals", "euroSets", "sapReservation", "sapErrorMessage", "map", "terminal", "terminalIndex", "processType", "rejectionReason", "descriptions", "lowerInstallmentsActive", "section", "index", "entryType", "buyMoreLabel", "limitForBuyMoreButton", "hasVasesInServices", "detailsLabel", "bundleNo", "bundleCode", "console", "log", "Component", "ProductSectionWrapper", "split", "join", "className", "children", "mapStateToProps", "state"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport MultiCartItemComponent from \"./MultiCartItemComponent\";\nimport MultiCartExpandingSectionComponent from \"../simfree/MultiCartExpandingSectionComponent\";\nimport MultiCartCollapsedItemComponent from \"./MultiCartCollapsedItemComponent\";\nimport DataLayerUtils from \"eshop/utils/DataLayerUtils\";\nimport VasBuyMoreComponent from \"../mobile/productModals/VasBuyMoreComponent\";\nimport VasEntriesListComponent from \"../mobile/productEntries/VasEntriesListComponent\";\nimport {connect} from \"react-redux\";\nimport {getMobileVases} from \"../../../selectors\";\n\nclass SimfreeComponent extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        DataLayerUtils.pushPageCategoryDimension('TelefonyBezUmowy');\n        // DataLayerUtils.pushSimfreeCheckoutStep(1, this.props.entry.terminals, 'offer-select');\n    }\n\n    getVasesForBundle(bundle){\n        return this.props.vases&&this.props.vases.find(vas => vas.bundle==bundle);\n    }\n    hasVasesInServices(entryVases,bundle){\n        let vases=this.getVasesForBundle(bundle);\n        if(!vases || !vases.services){\n            return false\n        }\n        let services=vases.services;\n\n        let inServices=[];\n        services.forEach(service => {\n            entryVases.forEach(vas =>{\n                    if(service.id==vas.productCode)\n                        inServices.push(vas)\n                }\n            )\n        });\n        return !!inServices.length;\n    }\n\n    render() {\n        var entry = this.props.entry;\n        const conf = this.props.titleConf;\n        const mainIcon = conf ? conf.icon : \"sim-3\";\n        const title = (this.props.sectionConf && this.props.sectionConf.sectionTitle) || \"UrzÄ…dzenia bez abonamentu\";\n        let trigger = \"ocst\";\n        var idx = this.props.idx;\n        const productSections = this.props.sectionConf && this.props.sectionConf.productSections;\n        const terminals = [...entry.terminals, ...entry.euroSets];\n        return (\n            <MultiCartExpandingSectionComponent title={title} key={idx} entry={entry}\n                                                sapReservation={this.props.sapReservation}\n                                                sapErrorMessage={this.props.sapErrorMessage} trigger={trigger}>\n                <div className=\"l-full-row\">\n                    <div className=\"l-page-row u-small-padding-left u-small-padding-right\">\n                        <div className=\"u-padding-top u-padding\">\n                            <div className=\"g-white1-bg u-box-shadow--s\">\n                                {terminals && terminals.map((terminal, terminalIndex) => {\n                                    terminal.processType || (terminal.processType = entry.processType);\n                                    return <MultiCartItemComponent key={\"TERMINAL\" + terminalIndex + \"_\" + idx}\n                                                                   entry={terminal} type=\"TERMINAL\"\n                                                                   rejectionReason={entry.rejectionReason}\n                                                                   sapReservation={this.props.sapReservation}\n                                                                   sapErrorMessage={this.props.sapErrorMessage}\n                                                                   descriptions={this.props.descriptions}\n                                                                   lowerInstallmentsActive={this.props.lowerInstallmentsActive}\n                                                                   noBorder={(terminalIndex === 0)}/>\n                                })}\n                            </div>\n                            {productSections && productSections.map((section, index) => {\n                                switch (section.entryType) {\n                                    case \"VAS\": {\n                                        let buyMoreLabel = !this.props.entry.vases || section.limitForBuyMoreButton >= this.props.entry.vases.length ? section.buyMoreLabel : null;\n                                        let sectionTitle = this.props.entry.vases.length && this.hasVasesInServices(this.props.entry.vases, this.props.entry.productCode) ? section.sectionTitle : null;\n\n                                        return (<div>\n                                            <ProductSectionWrapper key={\"productSectionWrapper_\" + idx}\n                                                                   entry={this.props.entry}\n                                                                   sectionTitle={sectionTitle}\n                                                                   className=\"u-box-shadow--s\">\n\n                                                <VasEntriesListComponent\n                                                    key={\"VAS_\" + idx}\n                                                    idx={idx}\n                                                    entries={this.props.entry.vases}\n                                                    detailsHeader={section.detailsLabel}\n                                                    cartBundle={\"\" + this.props.entry.bundleNo}\n                                                    bundle={this.props.entry.productCode}\n                                                    propositionId={this.props.entry.bundleCode}\n                                                />\n\n                                            </ProductSectionWrapper>\n                                            {buyMoreLabel &&\n                                            <VasBuyMoreComponent\n                                                idx={idx} buyMoreLabel={buyMoreLabel}\n                                                icon={section.icon} entry={this.props.entry}/>}\n                                        </div>)\n                                    }\n                                    default: {\n                                        console.log(\"MobileComponent: Unsupported product section type:\", section.entryType);\n                                        return null;\n                                    }\n                                }\n                            })\n                            }\n                        </div>\n                    </div>\n                </div>\n\n                <MultiCartCollapsedItemComponent key={\"collapsed_\" + idx} icon={mainIcon} entry={entry}\n                                                 trigger={trigger}/>\n            </MultiCartExpandingSectionComponent>\n        )\n    }\n}\n\nconst ProductSectionWrapper = (props) => {\n    let icon = props.icon ? props.icon.split('_').join('-') : null;\n    return (\n        <div className={\"g-white1-bg u-margin-top-l\" + (props.className ? \" \" + props.className : \"\")}>\n            {props.sectionTitle &&\n            <h3 className=\"h3 u-small-hide u-padding-all-l u-no-spacing\">{props.sectionTitle}</h3>}\n            {props.children}\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n        vases: getMobileVases(state),\n});\n\nexport default connect(mapStateToProps, null)(SimfreeComponent);"],
    "file": "SimfreeComponent.js"
}