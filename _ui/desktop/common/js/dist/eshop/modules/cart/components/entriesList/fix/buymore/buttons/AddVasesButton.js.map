{
    "version": 3,
    "sources": ["../../../../../../../../../../es6/eshop/modules/cart/components/entriesList/fix/buymore/buttons/AddVasesButton.jsx"],
    "names": ["preventDefaultWrapper", "handler", "event", "preventDefault", "AddVasesButton", "props", "addButtonClicked", "bind", "closeModalClicked", "console", "log", "modalOpenAction", "productCode", "adapter", "removeProduct", "modalCloseAction", "migrated", "filter", "p", "deviceType", "presentable", "map", "serviceOrDevice", "isMigrated", "element", "base", "id", "length", "migratedDevices", "filterMigratedDevices", "migratedServicesAndDevices", "migratedPresentable", "icon", "label", "configurables", "entry", "uid", "header", "isModalOpen", "inner", "descriptions", "selectedSection", "showNetPrices", "Component", "propTypes", "PropTypes", "string", "object", "isRequired", "array"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport PropTypes from 'prop-types'\n\nimport FixVasModal from \"../FixVasModal\";\nimport {FixAnalyzerAdapter} from \"../AnalyzerAdapter\";\nimport {ButtonCell, FloatingBox, LabelCell} from \"../../BoxFragments\";\nimport {GraphicCell} from \"../../Utils\";\nimport {createCustomRules} from \"../../../../../analyzer/DeviceUtils\"\n\nconst preventDefaultWrapper = (handler) => (event) => {\n    event.preventDefault();\n    handler(event);\n}\n\nexport default class AddVasesButton extends Component {\n\n    constructor(props){\n        super(props);\n        this.addButtonClicked = this.addButtonClicked.bind(this);\n        this.closeModalClicked = this.closeModalClicked.bind(this);\n    }\n\n    addButtonClicked(){\n        console.log(\"Modal clicked\");\n        this.props.modalOpenAction();\n    }\n\n    removeButtonClicked(productCode){\n        console.log(\"Remove button clicked: \"+productCode);\n        if(this.adapter && this.adapter.removeProduct){\n            this.adapter.removeProduct(productCode);\n        }\n    }\n\n    closeModalClicked(){\n        this.props.modalCloseAction();\n    }\n\n\n    filterMigratedDevices() {\n        return this.props.migrated ? this.props.migrated.filter(p => !!p.deviceType) : []\n    }\n\n    migratedPresentable() {\n        const presentable = this.props.presentable;\n        const migrated = this.props.migrated;\n        if (migrated) {\n            if (presentable) {\n                return presentable.map(serviceOrDevice => {\n                    return {\n                        ...serviceOrDevice,\n                        migrated: this.isMigrated(serviceOrDevice, migrated)\n                    }\n                });\n            }\n        }\n        return presentable;\n    }\n\n    isMigrated(serviceOrDevice, migrated) {\n        if (migrated && serviceOrDevice) {\n            return (\n                migrated\n                    .filter(element => element.base === serviceOrDevice.base && element.productCode === serviceOrDevice.id)\n                    .length > 0\n            );\n        }\n        return false;\n    }\n\n    render(){\n        this.migratedDevices = this.filterMigratedDevices();\n        this.migratedServicesAndDevices = this.migratedPresentable();\n        return(\n            <div>\n                <FloatingBox boxClassName=\"u-padding-left-l u-padding-right-l u-box-shadow--s u-box-shadow-hover\">\n                    <a id=\"add-vases-button\" href=\"#\" onClick={preventDefaultWrapper(this.addButtonClicked)}>\n                        <table className=\"u-table-fixed\">\n                            <tbody>\n                                <tr>\n                                    <GraphicCell icon={this.props.icon}/>\n                                    <LabelCell label={this.props.label}/>\n                                    <ButtonCell icon={\"plus\"} link={\"#\"}/>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </a>\n                </FloatingBox>\n                <FixAnalyzerAdapter\n                    configurables={this.props.configurables}\n                    entry={this.props.entry}\n                    customRules={createCustomRules(this.migratedServicesAndDevices, this.migratedDevices)}\n                    ref={(adapter) => this.adapter = adapter}\n                >\n                    <FixVasModal\n                        uid={`FVM_${this.props.uid}`}\n                        label={this.props.header}\n                        open={this.props.isModalOpen}\n                        services={this.migratedServicesAndDevices}\n                        onClose={this.closeModalClicked}\n                        productList={this.props.inner}\n                        descriptions={this.props.descriptions}\n                        selectedSection={this.props.selectedSection}\n                        showNetPrices={this.props.showNetPrices}\n                        configurables={this.props.configurables}\n                        migratedProducts={this.props.migrated}\n                    />\n                </FixAnalyzerAdapter>\n            </div>\n        );\n    }\n}\n\nAddVasesButton.propTypes = {\n    icon: PropTypes.string,\n    label: PropTypes.string,\n    configurables: PropTypes.object.isRequired,\n    entry: PropTypes.object.isRequired,\n    presentable: PropTypes.array,\n    migrated: PropTypes.array,\n    uid: PropTypes.string,\n    header: PropTypes.string,\n    inner: PropTypes.object,\n    selectedSection: PropTypes.string\n}\n"],
    "file": "AddVasesButton.js"
}