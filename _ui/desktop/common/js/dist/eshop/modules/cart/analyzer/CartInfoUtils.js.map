{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/cart/analyzer/CartInfoUtils.js"],
    "names": ["mapCollectionByParam", "colection", "paramName", "map", "entry", "filterCollectionByParam", "collection", "paramValue", "filter", "mapServiceAndItsDevices", "service", "code", "devices", "EntryParams", "CODE", "getCartProductsFromEntry", "entryType", "EntryType", "MOBILE", "getCartProductsFromMobileEntry", "getCartProductsFromFixEntry", "vases", "PRODUCT_CODE", "terminals", "gadgets", "migratedProducts", "ACTIVE", "broadbandFixProduct", "tvFixProduct", "voipFixProduct", "cartProducts", "euroSets", "simCard", "push", "id", "getCartProductsFinePrintFromFixEntry", "FINE_PRINT", "getPresentableProductsFromConfigurables", "configurables", "tvPackages", "ID", "services", "stringCompare", "field", "a", "b", "localeCompare", "booleanCompare", "trueFirst", "falseFirst", "numberCompare", "arrayLengthComparator", "arrayField", "revertOrder", "comparator", "enumCompare", "enumOrder", "aValue", "bValue", "aIndex", "indexOf", "Number", "MAX_SAFE_INTEGER", "bIndex", "stackableComparator", "selfComparator", "nextStackableComparator", "selfValue", "simpleComparator", "compareByMandatoryAndTitle", "byMandatory", "byTitle", "compareByProductListAndMandatoryAndTitle", "orderTable", "byProductCode", "compareByProductCodeListAndMandatoryAndTitle", "compareByProductListAndPartnerAndMandatoryAndTitle", "byPartner", "ProviderType", "OPTV", "NC", "OTHER", "compareByPartnerAndMandatoryAndTitle", "addComparatorInfoToCombination", "combination", "previousCombination", "previousCombinationWithoutAutoadded", "products", "autoadded", "combinationWithoutAutoadded", "added", "missing", "comparatorSupport", "compareCombinations", "combinationA", "combinationB", "byLastAction", "byLeastAdded", "byMostSurvived", "filterCollectionWith", "filterFunction", "_", "SECONDARY_CHOICE_CATEGORIES", "TvPackagesChoiceFilter", "TV_DEFAULT_CHOICE_PRODUCT", "TV_SECONDARY_CHOICE_PRODUCT", "supportsFilteringByCategory", "vas", "addonType", "AddonType", "TVOPTIONAL", "TVMAIN", "isRestrictedByCategories", "categories", "supercategories", "some", "category", "belongsToCategory", "Filters", "ASSITS", "ASSIST", "TV_VASES", "boundedMainService", "BoundedMainService", "TV", "NEO_VASES", "SECONDARY_CHOICE_DISCOUNT", "NEO", "MAIN_TV", "MAIN_OPTV", "provider", "OPTIONAL_TV", "OPTIONAL_OPTV", "BASIC_TV", "TVBASIC", "NOT_BASIC_TV", "MAIN_NC", "OPTIONAL_NC", "ALL_OPTV", "ALL_NC", "MIGRATED", "inputType", "NOT_MIGRATED", "VOICE_VASES", "TV_LOYALTY_DURATION_12", "loyaltyDuration", "TV_LOYALTY_DURATION_24"],
    "mappings": "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",
    "sourcesContent": ["import _ from \"lodash\";\n\nimport EntryType from \"../enum/EntryType\";\nimport EntryParams from \"../enum/EntryParams\";\nimport {removeAllFromArray} from \"./ArrayUtils\";\nimport AddonType from \"../../checkout/constants/AddonTypeEnum\";\nimport ProviderType from \"../../checkout/constants/ProviderTypeEnum\";\nimport BoundedMainService from \"../../checkout/constants/BoundedMainServiceEnum\";\nimport TvPackagesChoiceFilter from \"../../fix/enum/TvPackagesChoiceFilter\"\n\n\nfunction mapCollectionByParam(colection, paramName) {\n    return colection ? colection.map(entry => entry[paramName]) : [];\n}\n\nfunction filterCollectionByParam(collection, paramName, paramValue) {\n    return collection ? collection.filter(entry => entry[paramName] === paramValue) : [];\n}\n\nfunction mapServiceAndItsDevices(service) {\n    if (!service) {\n        return [];\n    }\n    return [\n        service.code,\n        ...mapCollectionByParam(service.devices, EntryParams.CODE)\n    ];\n}\n\nexport function getCartProductsFromEntry(entry) {\n    if (entry.entryType === EntryType.MOBILE) {\n        return getCartProductsFromMobileEntry(entry);\n    } else {\n        return getCartProductsFromFixEntry(entry);\n    }\n}\n\nexport function getCartProductsFromFixEntry(entry) {\n    return [\n        ...mapCollectionByParam(entry.vases, EntryParams.PRODUCT_CODE),\n        ...mapCollectionByParam(entry.terminals, EntryParams.PRODUCT_CODE),\n        ...mapCollectionByParam(entry.gadgets, EntryParams.PRODUCT_CODE),\n        ...mapCollectionByParam(filterCollectionByParam(entry.migratedProducts, EntryParams.ACTIVE, true),EntryParams.PRODUCT_CODE),\n        ...mapServiceAndItsDevices(entry.broadbandFixProduct),\n        ...mapServiceAndItsDevices(entry.tvFixProduct),\n        ...mapServiceAndItsDevices(entry.voipFixProduct)\n    ];\n}\n\nexport function getCartProductsFromMobileEntry(entry) {\n    const cartProducts = [\n        ...mapCollectionByParam(entry.vases, EntryParams.PRODUCT_CODE),\n        ...mapCollectionByParam(entry.terminals, EntryParams.PRODUCT_CODE),\n        ...mapCollectionByParam(entry.gadgets, EntryParams.PRODUCT_CODE),\n        ...mapCollectionByParam(entry.euroSets, EntryParams.PRODUCT_CODE)\n    ];\n    if (entry.simCard) {\n        cartProducts.push(entry.simCard.id);\n    }\n    return cartProducts;\n}\n\nexport function getCartProductsFinePrintFromFixEntry(entry) {\n    return [\n        ...mapCollectionByParam(entry.vases, EntryParams.FINE_PRINT),\n        ...mapCollectionByParam(entry.terminals, EntryParams.FINE_PRINT),\n        ...mapCollectionByParam(entry.gadgets, EntryParams.FINE_PRINT)\n    ];\n}\n\nexport function getPresentableProductsFromConfigurables(configurables) {\n    if (!configurables) {\n        return [];\n    }\n    return [\n        ...mapCollectionByParam(configurables.tvPackages, EntryParams.ID),\n        ...mapCollectionByParam(configurables.devices, EntryParams.ID),\n        ...mapCollectionByParam(configurables.services, EntryParams.ID),\n        ...mapCollectionByParam(configurables.gadgets, EntryParams.ID)\n    ];\n}\n\nconst stringCompare = (field) => (a,b) => {\n    if(a[field]){\n        return a[field].localeCompare(b[field]);\n    } else if (b[field]){\n        return -b[field].localeCompare(a[field]);\n    } else {\n        return 0;\n    }\n};\n\nconst booleanCompare = (trueFirst) => (field) => (a,b) => {\n    if(a[field] && !b[field]){\n        return trueFirst ? -1 : 1;\n    }\n    if(b[field] && !a[field]){\n        return trueFirst ? 1 : -1;\n    }\n    return 0;\n};\n\nconst trueFirst = booleanCompare(true);\n\nconst falseFirst = booleanCompare(false);\n\nconst numberCompare = (field) => (a,b) => {\n    return a[field]-b[field];\n};\n\nconst arrayLengthComparator = (arrayField) => (a,b) => {\n    return numberCompare(\"length\")(a[arrayField],b[arrayField]);\n};\n\nconst revertOrder = (comparator) => (a,b) =>{\n    return -1 * comparator(a,b);\n};\n\nconst enumCompare = (field) => (enumOrder) => (a,b) => {\n    let aValue = a[field];\n    let bValue = b[field];\n    if(!enumOrder){\n        return 0;\n    }\n    let aIndex = enumOrder.indexOf(aValue);\n    if(aIndex<0){\n        aIndex = Number.MAX_SAFE_INTEGER;\n    }\n    let bIndex = enumOrder.indexOf(bValue);\n    if(bIndex<0){\n        bIndex = Number.MAX_SAFE_INTEGER;\n    }\n    return aIndex - bIndex;\n};\n\nconst stackableComparator = (selfComparator) => (nextStackableComparator) => (a,b) => {\n    let selfValue = selfComparator(a,b);\n    if(selfValue !== 0){\n        return selfValue;\n    }\n    if(nextStackableComparator){\n        return nextStackableComparator(a,b);\n    }\n    return 0;\n};\n\nconst simpleComparator = (selfComparator) => (a,b) => {\n    return stackableComparator(selfComparator)(null)(a,b);\n};\n\nexport const compareByMandatoryAndTitle = (a,b) => {\n    let byMandatory = falseFirst(\"mandatory\");\n    let byTitle = stringCompare(\"title\");\n    return stackableComparator(byMandatory)(\n        simpleComparator(byTitle)\n    )(a,b);\n};\n\nexport const compareByProductListAndMandatoryAndTitle = (orderTable) => (a,b) => {\n    let byProductCode = enumCompare(\"id\")(orderTable);\n    let byMandatory = falseFirst(\"mandatory\");\n    let byTitle = stringCompare(\"title\");\n    return stackableComparator(byProductCode)(\n        stackableComparator(byMandatory)(\n            simpleComparator(byTitle)\n        )\n    )(a,b);\n};\n\nexport const compareByProductCodeListAndMandatoryAndTitle = (orderTable) => (a,b) => {\n    let byProductCode = enumCompare(\"productCode\")(orderTable);\n    let byMandatory = falseFirst(\"mandatory\");\n    let byTitle = stringCompare(\"title\");\n    return stackableComparator(byProductCode)(\n        stackableComparator(byMandatory)(\n            simpleComparator(byTitle)\n        )\n    )(a,b);\n};\n\nexport const compareByProductListAndPartnerAndMandatoryAndTitle = (orderTable) => (a,b) => {\n    let byProductCode = enumCompare(\"id\")(orderTable);\n    let byPartner = enumCompare(\"provider\")([ProviderType.OPTV,ProviderType.NC,ProviderType.OTHER]);\n    let byMandatory = falseFirst(\"mandatory\");\n    let byTitle = stringCompare(\"title\");\n    return stackableComparator(byProductCode)(\n        stackableComparator(byPartner)(\n            stackableComparator(byMandatory)(\n                simpleComparator(byTitle)\n            )\n        )\n    )(a,b);\n};\n\nexport const compareByPartnerAndMandatoryAndTitle = (a,b) => {\n    let byPartner = enumCompare(\"provider\")([ProviderType.OPTV,ProviderType.NC,ProviderType.OTHER]);\n    let byMandatory = falseFirst(\"mandatory\");\n    let byTitle = stringCompare(\"title\");\n    return stackableComparator(byPartner)(\n        stackableComparator(byMandatory)(\n            simpleComparator(byTitle)\n        )\n    )(a,b);\n};\n\nconst addComparatorInfoToCombination = (combination,previousCombination) => {\n    let previousCombinationWithoutAutoadded = removeAllFromArray( previousCombination.products, previousCombination.autoadded);\n    let combinationWithoutAutoadded = removeAllFromArray( combination.products, combination.autoadded);\n    combination.added = removeAllFromArray( combinationWithoutAutoadded, previousCombinationWithoutAutoadded);\n    combination.missing = removeAllFromArray( previousCombinationWithoutAutoadded, combinationWithoutAutoadded);\n    combination.comparatorSupport = true;\n};\n\nexport const compareCombinations = (previousCombination) =>(combinationA, combinationB) => {\n    if(!combinationA.comparatorSupport){\n        addComparatorInfoToCombination(combinationA,previousCombination);\n    }\n    if(!combinationB.comparatorSupport){\n        addComparatorInfoToCombination(combinationB,previousCombination);\n    }\n    let byLastAction = trueFirst(\"lastActionIncluded\");\n    let byLeastAdded = revertOrder(arrayLengthComparator(\"added\"));\n    let byMostSurvived = arrayLengthComparator(\"missing\");\n    return stackableComparator(byLastAction)(\n        stackableComparator(byMostSurvived)(\n            simpleComparator(byLeastAdded)\n        )\n    )(combinationA,combinationB);\n};\n\nconst filterCollectionWith = (filterFunction) => (collection) => {\n    return _.filter(collection, filterFunction);\n};\n\nconst SECONDARY_CHOICE_CATEGORIES = [TvPackagesChoiceFilter.TV_DEFAULT_CHOICE_PRODUCT, TvPackagesChoiceFilter.TV_SECONDARY_CHOICE_PRODUCT];\n\nconst supportsFilteringByCategory = (vas) => {\n    return (vas.addonType === AddonType.TVOPTIONAL || vas.addonType === AddonType.TVMAIN);\n};\n\nconst isRestrictedByCategories = (vas, categories) => {\n    return vas.supercategories && vas.supercategories.some(category => categories.indexOf(category) !== -1)\n};\n\nconst belongsToCategory = (vas, category) => {\n    return vas.supercategories && vas.supercategories.indexOf(category) !== -1;\n};\n\nexport const Filters = () => {\n    return {\n        ASSITS: filterCollectionWith(vas => vas.addonType === AddonType.ASSIST),\n        TV_VASES: filterCollectionWith(vas => vas.addonType !== AddonType.ASSIST && vas.boundedMainService === BoundedMainService.TV),\n        NEO_VASES: filterCollectionWith(vas => vas.addonType !== AddonType.ASSIST && vas.addonType !== AddonType.SECONDARY_CHOICE_DISCOUNT && vas.boundedMainService === BoundedMainService.NEO),\n        MAIN_TV: filterCollectionWith(vas => vas.addonType === AddonType.TVMAIN ),\n        MAIN_OPTV: filterCollectionWith(vas => vas.addonType === AddonType.TVMAIN && vas.provider !== ProviderType.NC),\n        OPTIONAL_TV: filterCollectionWith(vas => vas.addonType === AddonType.TVOPTIONAL),\n        OPTIONAL_OPTV: filterCollectionWith(vas => vas.addonType === AddonType.TVOPTIONAL && vas.provider !== ProviderType.NC),\n        BASIC_TV: filterCollectionWith(vas => vas.addonType === AddonType.TVBASIC),\n        NOT_BASIC_TV: filterCollectionWith(vas => vas.addonType !== AddonType.TVBASIC),\n        MAIN_NC: filterCollectionWith(vas => vas.addonType === AddonType.TVMAIN && vas.provider === ProviderType.NC),\n        OPTIONAL_NC: filterCollectionWith(vas => vas.addonType === AddonType.TVOPTIONAL && vas.provider === ProviderType.NC),\n        ALL_OPTV: filterCollectionWith(vas => (vas.addonType === AddonType.TVMAIN || vas.addonType === AddonType.TVOPTIONAL) && vas.provider !== ProviderType.NC),\n        ALL_NC: filterCollectionWith(vas => (vas.addonType === AddonType.TVMAIN || vas.addonType === AddonType.TVOPTIONAL) && vas.provider === ProviderType.NC),\n        MIGRATED: filterCollectionWith(vas => vas.inputType),\n        NOT_MIGRATED: filterCollectionWith(vas => !vas.inputType),\n        VOICE_VASES: filterCollectionWith(vas => !vas.addonType && (vas.boundedMainService === null || vas.boundedMainService === BoundedMainService.OTHER)),\n        TV_DEFAULT_CHOICE_PRODUCT: filterCollectionWith(vas =>\n            (supportsFilteringByCategory(vas) && isRestrictedByCategories(vas, SECONDARY_CHOICE_CATEGORIES) && !belongsToCategory(vas, TvPackagesChoiceFilter.TV_DEFAULT_CHOICE_PRODUCT))),\n        TV_SECONDARY_CHOICE_PRODUCT: filterCollectionWith(vas =>\n            (supportsFilteringByCategory(vas) && isRestrictedByCategories(vas, SECONDARY_CHOICE_CATEGORIES) && !belongsToCategory(vas, TvPackagesChoiceFilter.TV_SECONDARY_CHOICE_PRODUCT))),\n        TV_LOYALTY_DURATION_12: filterCollectionWith(vas =>\n            (vas.loyaltyDuration && vas.provider === ProviderType.NC && vas.loyaltyDuration !== 12 && vas.loyaltyDuration !== 0)),\n        TV_LOYALTY_DURATION_24: filterCollectionWith(vas =>\n            (vas.loyaltyDuration && vas.provider === ProviderType.NC && vas.loyaltyDuration !== 24 && vas.loyaltyDuration !== 0))\n    }\n};\n\n"],
    "file": "CartInfoUtils.js"
}