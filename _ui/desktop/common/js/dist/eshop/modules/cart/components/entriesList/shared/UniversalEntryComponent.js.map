{
    "version": 3,
    "sources": ["../../../../../../../../es6/eshop/modules/cart/components/entriesList/shared/UniversalEntryComponent.jsx"],
    "names": ["UniversalEntryComponent", "props", "event", "preventDefault", "console", "log", "entry", "name", "onRemove", "productCode", "bundleNo", "lowerInstallmentsClicked", "onChange", "onDetails", "bind", "ModalService", "add", "data", "getDetailsModalId", "sectionConf", "detailsLabel", "parseDetails", "details", "thumbnailIcon", "showNetPrices", "e", "open", "product", "price", "oneTimeCost", "firstBillPrice", "checkoutPrice", "monthlyCosts", "monthlyPrices", "installments", "isMobileDevice", "code", "imageUrl", "description", "_getDescriptionDesktop", "changeable", "unchangeable", "removable", "mandatory", "borderTop", "productType", "ProductType", "TERMINAL", "undefined", "descriptions", "forFreeLabel", "serviceFreeLabel", "entryNo", "JSON", "parse", "_", "includes", "EURO_SET", "colorDefinition", "Component"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport _ from \"lodash\"\nimport ModalService from \"eshop/flux/utils/OraModalService\";\nimport FixDetailsModal from \"../fix/productDetails/FixDetailsModal\";\nimport CommonProductEntry from \"./CommonProductEntry\";\nimport ProductType from \"../ProductTypeEnum\";\n\nexport default class UniversalEntryComponent extends Component {\n    constructor(props){\n        super(props);\n        this.onDetails = this.onDetails.bind(this);\n    }\n\n    componentWillMount() {\n        ModalService.add((data) =>\n            <FixDetailsModal id={this.getDetailsModalId()}\n                             header={this.props.sectionConf && this.props.sectionConf.detailsLabel || \"Szczegóły usługi\"}\n                             details={this.parseDetails(this.props.entry.details)}\n                             icon={this.props.entry.thumbnailIcon}\n                             productName={this.props.entry.name}\n                             vas={this.props.entry}\n                             net={this.props.showNetPrices}\n            />\n        );\n    }\n\n    onDetails(e){\n        e.preventDefault();\n        ModalService.open(this.getDetailsModalId());\n    }\n\n    onRemove = (event) => {\n        event.preventDefault();\n        console.log(\"Removing \"+this.props.entry.name);\n        this.props.onRemove(this.props.entry.productCode, this.props.entry.bundleNo);\n    };\n\n    lowerInstallmentsClicked = (event) => {\n        event.preventDefault();\n        console.log(\"lowerInstallmentsClicked \"+this.props.entry.bundleNo);\n        this.props.lowerInstallmentsClicked(this.props.entry.bundleNo);\n    };\n\n    onChange = (event) => {\n        event.preventDefault();\n        console.log(\"Changing \"+this.props.entry.name);\n        this.props.onChange();\n    };\n\n    render(){\n        //TODO: Create minimal DTO consistent for fix and magnum (at least) so this mapping won't be necessary\n        const entry = this.props.entry;\n        const product = {\n            price: {\n                oneTimeCost: {\n                    ...(entry.firstBillPrice && entry.firstBillPrice.price != 0 ? entry.firstBillPrice : entry.checkoutPrice)\n                },\n                monthlyCosts: entry.monthlyPrices,\n                installments: this.isMobileDevice(),\n            },\n            code: entry.productCode || entry.code,\n            name: entry.name,\n            thumbnailIcon: entry.thumbnailIcon || \"international-globe\",\n            imageUrl: entry.imageUrl,\n            description: this._getDescriptionDesktop(),\n            changeable: !entry.unchangeable,\n            removable: !entry.mandatory,\n        };\n        return (\n            <CommonProductEntry borderTop={this.props.borderTop}\n                                product={product}\n                                onDetails={!this.isMobileDevice() && this.onDetails}\n                                onRemove={this.props.onRemove && this.onRemove.bind(this)}\n                                onChange={this.props.onChange && this.onChange.bind(this)}\n                                lowerInstallmentsClicked={!!this.props.entry && this.props.entry.productType === ProductType.TERMINAL ? this.props.lowerInstallmentsClicked && this.lowerInstallmentsClicked.bind(this) : undefined}\n                                descriptions={this.props.descriptions}\n                                net={this.props.showNetPrices}\n                                forFreeLabel={this.props.forFreeLabel}\n                                serviceFreeLabel={this.props.serviceFreeLabel}\n\n            />\n        );\n    }\n\n    getDetailsModalId() {\n        return `productEntryDetails-${this.props.entry.productType}-${this.props.entry.entryNo}`;\n    }\n\n    parseDetails(details) {\n        try {\n            return details ? JSON.parse(details) : \"\";\n        } catch (e) {\n            return details;\n        }\n    }\n\n    isMobileDevice(){\n        return _.includes([ProductType.TERMINAL, ProductType.EURO_SET], this.props.entry.productType);\n    }\n\n    _getDescriptionDesktop() {\n        return this.props.entry.productType === ProductType.TERMINAL\n            ? this.props.entry.colorDefinition.name\n            : this.props.entry.description;\n    }\n}"],
    "file": "UniversalEntryComponent.js"
}