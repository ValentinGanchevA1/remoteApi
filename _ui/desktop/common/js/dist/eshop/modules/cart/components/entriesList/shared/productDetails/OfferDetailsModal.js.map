{
    "version": 3,
    "sources": ["../../../../../../../../../es6/eshop/modules/cart/components/entriesList/shared/productDetails/OfferDetailsModal.jsx"],
    "names": ["OfferDetailsModal", "props", "entry", "proposition", "console", "log", "isUnbundledMobile", "id", "voice", "code", "preprocess", "getPriceSource", "paddingRight", "header", "data", "broadband", "tv", "tvPackages", "voip", "Component", "trans", "transactions", "filteredTrans", "filter", "process", "ProcessTypeEnum", "TERMINATION", "TERMINATION_DATA", "length", "extendedProps", "propositionName", "name", "basePrice", "priceVariant", "DEFAULT", "monthlyPayments", "finalPrice", "details", "JSON", "parse", "descriptionForProductLongTable", "rateplanId", "internetLegal", "DeviceType", "deviceCode", "DetailsSection", "devices", "title", "__html", "offerDetails", "map", "device", "children", "DeviceSection", "deviceType", "imgUrl", "orginalImageSize", "longDescription", "CommonDetailsSection", "product", "TvDetailsSection", "OfferAdapterForTvDetails", "matchingTvPackage", "find", "productCode", "defaultProps", "propTypes", "PropTypes", "string", "icon", "productName", "prices", "arrayOf", "object"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {PropTypes} from \"prop-types\";\nimport {OraModal} from \"eshop/components/OraCommonComponents\";\nimport {TvDetails} from \"eshop/modules/cart/components/entriesList/fix/buymore/FixProductDetails\";\nimport {DetailsLargeSimfreeRaw} from \"eshop/modules/core/components/ui/OfferDetails\"\nimport ProcessTypeEnum from \"../../../../../magnum2/constants/ProcessTypeEnum\";\n\n\nclass OfferDetailsModal extends Component  {\n\n    getPriceSource() {\n        return this.props.entry || this.props.proposition\n    }\n\n    render(){\n        console.log(\"OfferDetailsModal\",this.props);\n\n        return isUnbundledMobile(this.props) ? (\n            <OraModal id={this.props.id} showClose={true} narrow={false}>\n                <div>\n                    <DetailsLargeSimfreeRaw key={this.props.voice.code + this.props.id} {...preprocess(this.props)}\n                                            proposition={this.getPriceSource()}/>\n                </div>\n            </OraModal>) : (\n            <OraModal id={this.props.id} showClose={true} narrow={false}>\n                <div>\n                    <h1 className=\"u-acc-hide\">Szczegóły oferty</h1>\n                    <h2 className=\"u-spacing-l-xl opl-modal-title-space\"\n                        style={{paddingRight: 32}}>{this.props.header}</h2>\n                    {this.props.data && <CommonDetailsSection product={this.props.data}/>}\n                    {this.props.broadband && <CommonDetailsSection product={this.props.broadband}/>}\n                    {this.props.tv && <TvDetailsSection product={this.props.tv} tvPackages={this.props.tvPackages}/>}\n                    {this.props.voip && <CommonDetailsSection product={this.props.voip}/>}\n                    {this.props.voice && <CommonDetailsSection product={this.props.voice}/>}\n                </div>\n            </OraModal>)\n    }\n}\n\nfunction isUnbundledMobile(props) {\n    let trans = props.transactions;\n    if(trans) {\n        let filteredTrans = trans.filter(function (trans) {\n            return trans.process !== ProcessTypeEnum.TERMINATION && trans.process !== ProcessTypeEnum.TERMINATION_DATA\n        });\n        return filteredTrans.length === 1;\n    }\n    return false;\n}\n\nfunction preprocess(props) {\n    let extendedProps = props;\n    extendedProps.header = props.header;\n    extendedProps.data = null;\n    extendedProps.propositionName = props.voice.name;\n    extendedProps.basePrice = props.priceVariant.DEFAULT.monthlyPayments[0].finalPrice;\n    extendedProps.details = JSON.parse(props.voice.descriptionForProductLongTable);\n    extendedProps.proposition = {\n        rateplanId: props.voice.code,\n        internetLegal: props.internetLegal\n    };\n    return extendedProps;\n\n}\n\nconst DeviceType = (deviceCode) => {\n    switch(deviceCode){\n        case 'LB': return \"Modem \";\n        case 'STB': return \"Dekoder \";\n        default: return \"\";\n    }\n};\n\nconst DetailsSection = (props) => {\n    const devices = props.devices || [];\n    console.log(\"DetailsSection\",props);\n    return (\n        <div>\n            <h3 className=\"u-spacing-l\">{props.title}</h3>\n            <div className=\"u-spacing-l-xl\" dangerouslySetInnerHTML={{__html: props.offerDetails}}/>\n            {devices.map((device) => \n                <DeviceSection\n                    device={device}\n                    key={device.id}\n                />\n            )}\n            <div className=\"o-separator u-spacing-l\"/>\n            {props.children}\n        </div>\n    );\n};\n\nconst DeviceSection = (props) => {\n    return (\n        <div className=\"u-spacing-l\">\n            <p className=\"u-spacing\">\n                <span className=\"u-font-bold u-inline-block u-spacing-right-m\">{DeviceType(props.device.deviceType)}</span>{props.device.title}\n            </p>\n            <div className=\"l-row\">\n                <div className=\"l-col l-col-small-12 l-col-medium-6 l-col-6 \">\n                    <img src={props.device.imgUrl} alt={props.device.title} className={props.device.orginalImageSize ? \"\" : \"u-w-100\"}/>\n                </div>\n                <div className=\"l-col l-col-small-12 l-col-medium-6 l-col-6 \" dangerouslySetInnerHTML={{__html: props.device.longDescription}}/>\n            </div>\n        </div>\n    )\n};\n\nconst CommonDetailsSection = (props) => (\n    <DetailsSection\n        title={props.product.name}\n        offerDetails={props.product.details}\n        devices={props.product.devices}\n    />\n);\n\nconst TvDetailsSection = (props) => (\n    <DetailsSection\n        title={props.product.name}\n        offerDetails={props.product.details}\n        devices={props.product.devices}>\n        <OfferAdapterForTvDetails offerDetails={props.product.details} tvPackages={props.tvPackages} productCode={props.product.code}/>\n    </DetailsSection>\n);\n\nconst OfferAdapterForTvDetails = (props) => {\n    console.log(\"OfferAdapterForTvDetails\",props);\n    let matchingTvPackage = props.tvPackages.find((tv) => props.productCode === tv.id);\n    if (matchingTvPackage) {\n        return (\n            <div>\n                <div className=\"u-spacing-l\">\n                    <TvDetails vas={matchingTvPackage} />\n                </div>\n                <div className=\"o-separator u-spacing-l\"/>\n            </div>\n        );\n    } else {\n        return null;\n    }\n};\n\nOfferDetailsModal.defaultProps = {\n    id: \"\",\n    details: \"\",\n    header : \"Szczegóły oferty\"\n};\n\nOfferDetailsModal.propTypes = {\n     id: PropTypes.string,\n     icon: PropTypes.string,\n     details: PropTypes.string,\n     productName: PropTypes.string,\n     header: PropTypes.string,\n     prices: PropTypes.arrayOf(PropTypes.object)\n};\n\nexport default OfferDetailsModal;"],
    "file": "OfferDetailsModal.js"
}