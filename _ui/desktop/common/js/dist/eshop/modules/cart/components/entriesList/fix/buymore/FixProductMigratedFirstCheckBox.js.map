{
    "version": 3,
    "sources": ["../../../../../../../../../es6/eshop/modules/cart/components/entriesList/fix/buymore/FixProductMigratedFirstCheckBox.jsx"],
    "names": ["FixProductMigratedFirstCheckBox", "props", "productStates", "checkboxState", "calculateCheckboxStateAndPopulateProductStates", "products", "state", "selected", "stateChange", "_", "isEqual", "setState", "isSelected", "forEach", "p", "push", "event", "preventDefault", "handler", "onClickMigratedCheckBox", "productCodes", "mainCheckBoxSelected", "id", "onClick", "borderProductsToMigrate", "productsSize", "length", "index", "title", "__html", "outlineStyle", "borderDescription", "outline", "Outline", "INFO", "borderDescriptionHtml", "hasBorder", "borderProductsToMigrateHtml", "getProductsToMigrateBorderHtml", "marginTop", "e", "zIndex", "map", "v", "idx", "vas", "presentation", "onSelectionChanged", "onClickWrapped", "net", "Component", "DisableWrapper", "hidden", "disable", "opacity", "pointerEvents", "children", "propTypes", "PropTypes", "shape", "string", "paymentDescriptions", "monthlyPayments", "array", "warningMessage", "onRemoveWarning", "oneOfType", "number", "func", "onTestWrapped"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport _ from \"lodash\";\nimport {PropTypes} from \"prop-types\";\nimport {Trigger} from \"eshop/modules/core/components/ui/Expander\";\nimport FixProductCheckBox from \"./FixProductCheckBox\";\nimport Outline from \"../../../../../core/enum/Outline\"\n\n\nexport default class FixProductMigratedFirstCheckBox extends Component {\n    constructor(props) {\n        super(props);\n        const productStates = [];\n        const checkboxState = this.calculateCheckboxStateAndPopulateProductStates(this.props.products, productStates);\n        this.state = {selected: checkboxState, stateChange: productStates};\n    }\n\n\n    componentDidUpdate() {\n        const productStates = [];\n        const checkboxState = this.calculateCheckboxStateAndPopulateProductStates(this.props.products, productStates);\n        if (!_.isEqual(productStates, this.state.stateChange)) {\n            this.setState({selected: checkboxState, stateChange: productStates});\n        }\n    }\n\n    calculateCheckboxStateAndPopulateProductStates(products, productStates) {\n        let isSelected = true;\n        products.forEach(p => {\n        if (!p.selected) {\n                isSelected = false;\n            }\n            productStates.push(p.selected);\n        });\n        return isSelected;\n    }\n\n    onClick(event) {\n        event.preventDefault();\n        let handler = this.props.onClickMigratedCheckBox;\n        let isSelected = true;\n        let productCodes = [];\n        let mainCheckBoxSelected = this.state.selected;\n        this.props.products.forEach(p => {\n            if (mainCheckBoxSelected === p.selected) {\n                productCodes.push(p.id);\n            }\n        });\n        let onClick = handler(productCodes);\n        onClick(event);\n        this.props.products.forEach(p => {\n            if (!p.selected) {\n                isSelected = false;\n            }\n        });\n        this.setState({selected: isSelected})\n    };\n\n\n    getSectionHeader() {\n        return (\n            <Trigger\n                className=\"js-expander__trigger__nested u-inline-block large-offset-by-3 medium-offset-by-3 u-padding-all-l u-no-padding-top\">\n                <span className=\"js-expander__trigger--show\">{'Zwiń\\u00a0szczegóły'}</span>\n                <span className=\"js-expander__trigger--hide\">{'Szczegóły'}</span>\n            </Trigger>\n        );\n    }\n\n    getProductsToMigrateBorderHtml() {\n        let borderProductsToMigrate = \"Żeby zachować obecne kanały wybierz\";\n        let productsSize = this.props.products.length;\n        this.props.products.forEach((p, index) => {\n            borderProductsToMigrate += \" \" + p.title;\n            if (productsSize > 1) {\n                if (productsSize - 2 > index) {\n                    borderProductsToMigrate += \",\";\n                } else if (productsSize - 1 > index) {\n                    borderProductsToMigrate += \" i\";\n                }\n            }\n        });\n\n        return {__html: borderProductsToMigrate};\n    }\n\n    render() {\n        let outlineStyle = {};\n        if (this.props.borderDescription) {\n            outlineStyle = {outline: Outline.INFO};\n        }\n        //let onClick = this.props.onTestWrapped(this.props.products);\n        const borderDescriptionHtml = {__html: this.props.borderDescription};\n        const hasBorder = this.props.borderDescription;\n        const borderProductsToMigrateHtml = this.getProductsToMigrateBorderHtml();\n        return (\n            <div\n                className={`u-position-relative u-margin-top-m ${!hasBorder ? 'u-position-relative g-white1-bg is-selected' : ''}`}\n                style={{...outlineStyle, marginTop: '2px'}}>\n                {\n                    hasBorder &&\n                    <div\n                        className=\"opl-box opl-payback-box opl-content-arrow--no-border g-bluef-bg u-padding-m u-padding-top-m u-padding-all\">\n                        <div className=\"u-no-margin container\"\n                             onClick={(e) => this.onClick(e)}>\n                            <div className=\"row\">\n                                <div className=\"l-col l-col-1\">\n                                    <span className=\"g-icon g-icon--info g-icon--m u-font-bold g-white1-c\"/>\n                                </div>\n                                <div className=\"l-col l-col-11\">\n                                    <p className=\"h4 u-no-margin g-white1-c\"\n                                       dangerouslySetInnerHTML={borderDescriptionHtml}/>\n                                    <div className=\"row\">\n                                        <div className=\"u-no-padding-left l-col l-col-10\">\n                                            <p className=\"h6 u-margin-top g-white1-c\"\n                                               dangerouslySetInnerHTML={borderProductsToMigrateHtml}/>\n                                        </div>\n                                        <div className=\"l-col l-col-2\">\n                                            <label className=\"opl-switch u-right\">\n                                                <input type=\"checkbox\"\n                                                       className=\"u-acc-hide\"\n                                                       onChange={() => null}\n                                                       checked={this.state.selected}/>\n                                                <span className=\"o-ci\"/>\n                                                <span className=\"o-ci-label\">\n                                        <span className=\"u-acc-txt--show\">Wybieram</span>\n                                        <span className=\"u-acc-txt--hide\">Wybrane</span>\n                                    </span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"u-no-margin-bottom l-row\">\n                            <div className=\"l-col l-col-3 large-offset-by-6 medium-offset-by-6\">\n                                <div className=\"opl-content-arrow__object opl-content-arrow--no-border g-bluef-b-bg\"\n                                     style={{marginTop: \"-10px\", zIndex: \"-1\"}}/>\n                            </div>\n                        </div>\n                    </div>\n                }\n                {this.props.products.map((v, idx) => {\n                    let vas = {...v};\n                    return (\n                        <DisableWrapper hidden={vas.presentation === \"hidden\"} key={\"WRAPPER\" + vas.id}>\n                            <FixProductCheckBox key={vas.id} vas={vas} idx={idx}\n                                                onSelectionChanged={this.props.onSelectionChanged}\n                                                onClickWrapped={this.props.onClickWrapped}\n                                                net={this.props.net}/>\n                        </DisableWrapper>\n                    )\n                })}\n            </div>\n        );\n    }\n}\n\nconst DisableWrapper = (props) => {\n    if (props.hidden) {\n        return <div className=\"u-hide\"/>\n    }\n    if (props.disable) {\n        return <div style={{opacity: \"0.5\", pointerEvents: \"none\"}}>{props.children}</div>;\n    }\n    return <div>{props.children}</div>\n}\n\nFixProductMigratedFirstCheckBox.propTypes = {\n    vas: PropTypes.shape({\n        title: PropTypes.string,\n        id: PropTypes.string,\n        paymentDescriptions: PropTypes.shape({\n            monthlyPayments: PropTypes.array\n        }),\n        warningMessage: PropTypes.string,\n        onRemoveWarning: PropTypes.string\n    }),\n    idx: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onSelectionChanged: PropTypes.func,\n    onClickWrapped: PropTypes.func,\n    onTestWrapped: PropTypes.func\n};\n"],
    "file": "FixProductMigratedFirstCheckBox.js"
}