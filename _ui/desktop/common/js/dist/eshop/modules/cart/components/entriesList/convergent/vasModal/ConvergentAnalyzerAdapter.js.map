{
    "version": 3,
    "sources": ["../../../../../../../../../es6/eshop/modules/cart/components/entriesList/convergent/vasModal/ConvergentAnalyzerAdapter.jsx"],
    "names": ["ConvergentAnalyzerAdapter", "props", "getCartProducts", "bind", "getPresentableProducts", "productCode", "propositionId", "convergentAdapter", "onRemove", "cartProducts", "entry", "entries", "forEach", "concat", "previouslySelectedInvisible", "presentableProducts", "configurables", "configurablesEntry", "Object", "assign", "customRules", "length", "filter", "c", "factoryName", "relations", "children", "unselectable", "updateCartProducts", "singlePropositionId", "triggerCartRecalculation", "Component", "PropTypes", "object", "isRequired", "array", "func"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport {getCartProductsFromEntry, getPresentableProductsFromConfigurables} from \"../../../../analyzer/CartInfoUtils\";\nimport AnalyzerAdapter from \"./AnalyzerAdapter\";\n\nclass ConvergentAnalyzerAdapter extends Component{\n\n    constructor(props){\n        super(props);\n        this.getCartProducts = this.getCartProducts.bind(this);\n        this.getPresentableProducts = this.getPresentableProducts.bind(this);\n    }\n\n    static propTypes = {\n        entry: PropTypes.object.isRequired,\n        configurables: PropTypes.array.isRequired,\n        updateCartProducts: PropTypes.func\n    };\n\n    static defaultProps = {\n        unselectable: true\n    };\n\n    removeButtonClicked(productCode, propositionId){\n        if(this.convergentAdapter && this.convergentAdapter.onRemove){\n             this.convergentAdapter.onRemove(productCode, propositionId);\n        }\n    }\n\n    getCartProducts(){\n        let cartProducts = {};\n        this.props.entry.entries.forEach(entry => {\n            if (!cartProducts[entry.propositionId]) {\n                cartProducts[entry.propositionId] = [];\n            }\n            cartProducts[entry.propositionId] = cartProducts[entry.propositionId].concat(getCartProductsFromEntry(entry));\n            cartProducts[entry.propositionId] = cartProducts[entry.propositionId].concat(entry.previouslySelectedInvisible);\n        });\n        return cartProducts;\n    }\n\n    getPresentableProducts(){\n        const presentableProducts = {};\n        this.props.configurables.forEach(configurablesEntry => {\n            presentableProducts[configurablesEntry.propositionId] = getPresentableProductsFromConfigurables(configurablesEntry);\n        });\n        return presentableProducts;\n    }\n\n    render() {\n        let cartProducts = this.getCartProducts();\n\n        const presentableProducts = this.getPresentableProducts();\n        let configurables = Object.assign([], this.props.configurables);\n        if (!!this.props.customRules && this.props.customRules.length > 0) {\n            configurables.filter(c => c.factoryName === \"FIX\" && !!c.relations)\n                .forEach(c => {c.relations = c.relations.concat(this.props.customRules)});\n        }\n        return (\n            <AnalyzerAdapter\n                entry = { this.props.entry }\n                configurables = { configurables }\n                cartProducts = { cartProducts }\n                presentableProducts = { presentableProducts }\n                children = { this.props.children }\n                unselectable = { this.props.unselectable }\n                updateCartProducts = { this.props.updateCartProducts }\n                singlePropositionId = { this.props.singlePropositionId }\n                ref={(convergentAdapter) => {this.convergentAdapter = convergentAdapter}}\n                triggerCartRecalculation = {this.props.triggerCartRecalculation}\n            />\n        );\n    }\n}\n\nexport default ConvergentAnalyzerAdapter;"],
    "file": "ConvergentAnalyzerAdapter.js"
}