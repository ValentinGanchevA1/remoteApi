{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/simfree/components/comparator/ComparatorAddDeviceModal.jsx"],
    "names": ["ComparatorAddDeviceModal", "props", "initModules", "componentNeedInitialization", "OPL", "UI", "document", "getElementById", "name", "hasAttribute", "producers", "map", "producer", "value", "description", "modelsForBrand", "model", "productId", "setSelectedProducer", "setSelectedModel", "comparatorComponentUid", "fetchComparatorConfig", "selectedModel", "updateComparatorDevicesListByUid", "fire", "EVENTS", "modules", "modal", "close", "trigger", "title", "width", "index", "selectedProducer", "handleProducerChange", "bind", "getProducersNames", "length", "handleModelChange", "getModelsForBrand", "handleCompareClick", "Component", "mapStateToProps", "state", "mapDispatchToProps", "dispatch", "devices", "uid", "ActionType", "ADD_DEVICE", "deviceUid"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {\n    fetchComparatorConfig,\n    setSelectedModel,\n    setSelectedProducer,\n    updateComparatorDevicesListByUid\n} from \"eshop/modules/simfree/actions/comparator\";\nimport {\n    getProducers,\n    getModelsForBrand,\n    getSelectedComparatorProducer,\n    getSelectedComparatorModel\n} from \"eshop/modules/simfree/selectors\";\nimport ActionType from \"eshop/modules/simfree/fetchComparatorConfigActionType\";\n\nimport {OraCmpSelect} from \"eshop/components/OraCommonComponents\";\n\nclass ComparatorAddDeviceModal extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.initModules();\n    }\n\n    componentDidUpdate() {\n        this.initModules();\n    }\n\n    initModules(){\n        if (this.componentNeedInitialization(\"opl-compare-products__modal-datajs\")) {\n            OPL.UI.initModules(document.getElementById(\"opl-compare-products__modal-datajs\"));\n        }\n    }\n\n    componentNeedInitialization(name) {\n        return document.getElementById(name) != null\n            && !document.getElementById(name).hasAttribute(\"data-js-processed\")\n    }\n\n    getProducersNames() {\n        return this.props.producers.map(producer => {\n            return {value: producer, description: producer}\n        });\n    }\n\n    getModelsForBrand() {\n        return this.props.modelsForBrand.map(model => {\n            return {value: model.productId, description: model.name}\n        })\n    }\n\n    handleProducerChange({value}) {\n        this.props.setSelectedProducer(value);\n        this.props.setSelectedModel(\"\");\n    }\n\n    handleModelChange({value}) {\n        this.props.setSelectedModel(value);\n    }\n\n    handleCompareClick() {\n        if (this.props.comparatorComponentUid != null) {\n            this.props.fetchComparatorConfig(this.props.selectedModel, this.props.comparatorComponentUid);\n        } else {\n            this.props.updateComparatorDevicesListByUid(this.props.selectedModel);\n        }\n        this.props.setSelectedProducer(\"\");\n        this.props.setSelectedModel(\"\");\n        OPL.UI.fire(OPL.UI.EVENTS.modules.modal.close, '', this.props.trigger);\n    }\n\n    render() {\n        return (\n            <div className=\"opl-compare-products__modal u-hide--soft o-modal--small\"\n                 id=\"opl-compare-products__modal\" role=\"dialog\" aria-modal=\"true\">\n                <div className=\"opl-compare-products__modal-content\">\n                    <p className=\"u-acc-hide\" id=\"opl-compare-products__modal-title\">{this.props.title}</p>\n                    <h2 className=\"u-padding-top-l u-margin-xl\">Dodaj telefon do porównania</h2>\n                    <div id=\"opl-compare-products__modal-datajs\" className=\"o-select\" style={{width: '100%'}}>\n                        <OraCmpSelect id={\"selectBrand\" + this.props.index}\n                                      className=\"u-margin-l\"\n                                      emptyOption={{value: '', description: 'Wybierz markę'}}\n                                      withEmptyOption={true}\n                                      selected={this.props.selectedProducer}\n                                      ariaLabel=\"Wybierz marke\"\n                                      onChange={this.handleProducerChange.bind(this)}\n                                      options={this.getProducersNames()}/>\n                        <OraCmpSelect id={\"selectModel\" + this.props.index}\n                                      className=\"u-margin-xl\"\n                                      disabled={this.props.modelsForBrand.length === 0}\n                                      emptyOption={{value: '', description: 'Wybierz model'}}\n                                      withEmptyOption={true}\n                                      selected={this.props.selectedModel}\n                                      ariaLabel=\"Wybierz model\"\n                                      onChange={this.handleModelChange.bind(this)}\n                                      options={this.getModelsForBrand()}/>\n                    </div>\n                    <button disabled={this.props.selectedModel.length === 0}\n                            onClick={() => this.handleCompareClick()}\n                            className=\"opl-compare-products__btn opl-btn opl-btn--primary o-btn\">\n                        <span>Porównaj</span>\n                    </button>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    producers: getProducers(state),\n    selectedProducer: getSelectedComparatorProducer(state),\n    modelsForBrand: getModelsForBrand(state),\n    selectedModel: getSelectedComparatorModel(state)\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    setSelectedModel: (model) => dispatch(setSelectedModel(model)),\n    setSelectedProducer: (producer) => dispatch(setSelectedProducer(producer)),\n    fetchComparatorConfig: (devices, uid) => dispatch(fetchComparatorConfig(devices, uid, ActionType.ADD_DEVICE)),\n    updateComparatorDevicesListByUid: (deviceUid) => dispatch(updateComparatorDevicesListByUid(deviceUid))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ComparatorAddDeviceModal);"],
    "file": "ComparatorAddDeviceModal.js"
}