{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/simfree/components/list/ProductListHeaderComponent.jsx"],
    "names": ["ProductListHeaderComponent", "props", "cmsConf", "selectedOfferType", "cmsDescriptions", "hasLove", "hasODF", "softBundleGroup", "isProductDetailsPage", "isProductListPage", "isAccessoryListPage", "dontUseDefaultOffer", "registerCmsConfiguration", "validOfferTypes", "changeAddTerminalToOfferBundleNo", "selectOfferType", "bind", "fetchMiniCart", "setSalesChannel", "channels", "sales", "subscribeCustomerSelected", "offerType", "useDefaultOfferType", "value", "document", "getElementById", "OPL", "UI", "stopModules", "initModules", "OnlineUtils", "removeFromSessionStorage", "changeOrAddUrlParameter", "setOfferType", "setAllVisibility", "changeCurrentPage", "options", "hasVoiceCartEntry", "stayLoveRetentionMSISDN", "visible", "filter", "option", "wwt", "headerView", "console", "log", "isPropositionListCountSetMode", "propositionListCount", "isB2B", "isPropositionListCountLoop", "addTerminalToOfferBundleNo", "redirectToCart", "descriptions", "getChangeTerminalLabel", "OfferType", "CONVERGENT", "selectValues", "o", "t", "magnumType", "selectionType", "filterVisible", "headerText", "tabHeaderText", "isDuet", "getBundleGroupsProps", "isAddressComplete", "zip", "cityName", "streetName", "streetNumber", "apartmentNumber", "Component", "propTypes", "PropTypes", "object", "string", "any", "func", "bool", "mapDispatchToProps", "dispatch", "page", "type", "USE_DEFAULT_OFFER", "use", "channel", "mapStateToProps", "state", "magnum", "products", "productList"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\n\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport {changeAddTerminalToOfferBundleNo, fetchMiniCart} from \"eshop/modules/cart/actions/cart\";\nimport OfferType from \"../../constants/OfferTypeEnum\";\nimport {setOfferType, setOfferTypeCmsConf} from \"eshop/modules/simfree/actions/app\";\nimport {\n    getOfferTypesForSelect,\n    getProductListHeader,\n    isProductDetailsPage,\n    isProductListPage,\n    isAccessoryListPage, getSelectedSoftBundleGroup,\n} from \"eshop/modules/simfree/selectors\";\n\nimport {\n    getMarketContext,\n    getPropositionListCount,\n    getPropositionListCountSetMode,\n    getPropositionListOfferType,\n    getSelectedOfferType,\n    getUseDefaultOfferType,\n} from \"eshop/modules/configurator/selectors/filters\";\nimport {USE_DEFAULT_OFFER} from \"eshop/modules/configurator/actionTypes\"\n\nimport {subscribeCustomerSelected} from \"../../../checkout/actions/data\";\nimport ProductTabHeaderView from \"./view/ProductTabHeaderView\";\nimport ProductListHeaderView from \"./view/ProductListHeaderView\";\nimport ProductSwitcherHeaderView from \"./view/ProductSwitcherHeaderView\";\nimport ProductChangingHeaderView from \"./view/ProductChangingHeaderView\";\nimport {getAddTerminalToOfferBundleNo} from \"eshop/modules/cart/selectors\";\nimport {redirectToCart} from \"eshop/modules/configurator/actions/cart\";\nimport OraLoyaltyHeader from \"../../../magnum2/components/wwt/OraLoyaltyHeader\";\nimport {changeCurrentPageProps, setAllVisibilityProduct} from \"eshop/modules/simfree/actions/filter\";\nimport {getProductListData, getProductListWrapper} from \"../../selectors\";\nimport { setSalesChannel } from \"eshop/modules/auth/actions/authorization\";\nimport {getStayLoveRetentionMSISDN, hasLove, hasODF} from \"../../../auth/selectors/authorization\";\nimport {getMagnumType} from \"eshop/modules/magnum2/selectors\";\nimport StayLoveMsisdnHeader from \"eshop/modules/cart/components/entriesList/StayLoveMsisdnHeader\";\nimport {hasVoiceCartEntry} from \"../../../cart/selectors\";\nimport {isDuet} from \"../../selectors\";\nimport OraVasPacketPickerComponent from \"eshop/modules/simfree/components/modals/OraVasPacketPickerComponent\";\n\nclass ProductListHeaderComponent extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillMount() {\n        const cmsConf = this.props.cmsConf;\n        if(!this.props.isProductDetailsPage && !this.props.isProductListPage && !this.props.isAccessoryListPage) {\n            this.props.dontUseDefaultOffer();\n        }\n        this.props.registerCmsConfiguration(cmsConf, this.props.validOfferTypes);\n        this.props.changeAddTerminalToOfferBundleNo(null);\n        this.selectOfferType = this.selectOfferType.bind(this);\n        this.props.fetchMiniCart();\n    }\n\n    componentDidMount() {\n        this.props.setSalesChannel(this.props.channels.sales);\n        if (this.props.channels.sales !== \"WWW\") {\n            this.props.subscribeCustomerSelected();\n        }\n\n        if (this.props.offerType && this.props.useDefaultOfferType) {\n            this.selectOfferType(this.props.offerType);\n        }\n\n    }\n\n    selectOfferType(value) {\n        if (document.getElementById(\"expander-module-one-time\")) {\n            OPL.UI.stopModules(document.getElementById(\"expander-module-one-time\"));\n            OPL.UI.initModules(document.getElementById(\"expander-module-one-time\"));\n        }\n        if (document.getElementById(\"expander-module-monthly\")) {\n            OPL.UI.stopModules(document.getElementById(\"expander-module-monthly\"));\n            OPL.UI.initModules(document.getElementById(\"expander-module-monthly\"));\n        }\n\n        //for defaults to work\n        OnlineUtils.removeFromSessionStorage(\"selectedPropositionId\");\n        OnlineUtils.removeFromSessionStorage(\"selectedPropositionPosition\");\n        OnlineUtils.removeFromSessionStorage(\"processType\");\n        OnlineUtils.changeOrAddUrlParameter(\"processType\", null);\n        OnlineUtils.changeOrAddUrlParameter(\"serviceplan\", null);\n\n        this.props.setOfferType(value);\n        this.props.setAllVisibility(false);\n        this.props.changeCurrentPage(1);\n\n    }\n\n    getChangeTerminalLabel = (cmsConf, selectedOfferType) => {\n        if (cmsConf\n            && cmsConf[selectedOfferType]\n            && cmsConf[selectedOfferType].cmsDescriptions\n            && cmsConf[selectedOfferType].cmsDescriptions[\"changeTerminalLabel\"])\n            return cmsConf[selectedOfferType].cmsDescriptions[\"changeTerminalLabel\"];\n        else\n            return \"Zmień terminal\";\n    };\n\n    getBundleGroupsProps = ({hasLove = false, hasODF = false, softBundleGroup = null}) => ({\n        hasLove, hasODF, softBundleGroup,\n    });\n    filterVisible(options){\n        const {hasVoiceCartEntry,stayLoveRetentionMSISDN, hasLove, cmsConf} = this.props;\n\n        if(!!cmsConf[\"VOICE_LDF\"] && ((hasLove && hasVoiceCartEntry) || stayLoveRetentionMSISDN)){\n            cmsConf[\"VOICE_LDF\"].visible=true;\n        }\n        return options.filter(option=> cmsConf[option.value] && cmsConf[option.value].visible);\n\n    }\n    render() {\n        const {wwt} = this.props;\n        let headerView;\n        console.log(\"ProductListHeaderComponent render\", this.props);\n\n        //For LP while setting sim count\n        if ((this.props.isPropositionListCountSetMode || this.props.propositionListCount === 0) && !(this.props.isProductListPage || this.props.isProductDetailsPage)) {\n            return (<div id={\"offerTypeSelectionComponent\"}/>);\n        }\n        //For duets - no worlds change during sim count loop\n        if (!this.props.isB2B && (this.props.propositionListCount > 0 && this.props.isPropositionListCountLoop) && (this.props.isProductListPage || this.props.isProductDetailsPage)) {\n            return (<div id={\"offerTypeSelectionComponent\"}><StayLoveMsisdnHeader/></div>);\n        }\n        if (this.props.addTerminalToOfferBundleNo) {\n            return (\n                <ProductChangingHeaderView\n                    redirectToCart={this.props.redirectToCart}\n                    descriptions={this.props.descriptions}\n                    changeTerminalLbl={this.getChangeTerminalLabel(this.props.cmsConf, this.props.selectedOfferType)}\n                    channels={this.props.channels}\n                />\n            )\n        }\n\n        let options = this.props.selectedOfferType !== OfferType.CONVERGENT ? this.props.selectValues.filter(o => OfferType.CONVERGENT !== o.value) :\n            this.props.selectValues.filter(t => this.props.magnumType === t.value);\n        if (this.props.selectionType === \"HIDDEN\") {\n            headerView = null;\n        }\n        options=this.filterVisible(options);\n\n        if (this.props.selectionType === \"DROPDOWN\") {\n            headerView = (\n                <ProductListHeaderView\n                    headerText={this.props.headerText || \"telefony\"}\n                    onChange={this.selectOfferType}\n                    options={options}\n                    descriptions={this.props.descriptions}\n                    channels={this.props.channels}\n                />\n            )\n        }\n        if (this.props.selectionType === \"TAB\") {\n            headerView = (\n                <ProductTabHeaderView\n                    headerText={this.props.headerText || \"telefony\"}\n                    onChange={this.selectOfferType}\n                    options={options}\n                    descriptions={this.props.descriptions}\n                    tabHeaderText={this.props.tabHeaderText}\n                    channels={this.props.channels}\n                    selectedOfferType={this.props.selectedOfferType}\n                    isDuet={this.props.isDuet}\n                    {...this.getBundleGroupsProps(this.props)}\n                />\n            )\n        }\n        if (this.props.selectionType === \"SWITCHER\") {\n            headerView = (\n                <ProductSwitcherHeaderView\n                    headerText={this.props.headerText}\n                    onChange={this.selectOfferType}\n                    options={options}\n                    descriptions={this.props.descriptions}\n                    tabHeaderText={this.props.tabHeaderText}\n                    channels={this.props.channels}\n                    selectedOfferType={this.props.selectedOfferType}\n                />\n            )\n        }\n        if (this.props.selectedOfferType === OfferType.CONVERGENT) {\n            const descriptions = {};\n            const isAddressComplete = !!wwt.zip;\n            return (\n                <div>\n                    <div className=\"u-box-shadow\" >\n                        {headerView}\n                    </div>\n\n                    <div className={\"l-page-row\" + (isAddressComplete ? \"\" : \" u-hide\")}>\n                        <OraLoyaltyHeader\n                            place={wwt.cityName}\n                            street={wwt.streetName}\n                            streetNumber={wwt.streetNumber}\n                            apartmentNumber={wwt.apartmentNumber}\n                            onClickChange={null}\n                            descriptions={descriptions}\n\n                        />\n                    </div>\n                </div>\n            );\n        }\n        return (\n            <div>\n                    <div id={\"offerTypeSelectionComponent\"}>{headerView}</div>\n                    <StayLoveMsisdnHeader/>\n                    <OraVasPacketPickerComponent/>\n            </div>\n        );\n    }\n}\n\nProductListHeaderComponent.propTypes = {\n    cmsConf: PropTypes.object,\n    selectionType: PropTypes.string,\n    descriptions: PropTypes.object,\n    headerText: PropTypes.string,\n    tabHeaderText: PropTypes.string,\n    selectValues: PropTypes.any,\n    selectedOfferType: PropTypes.string,\n    wwt: PropTypes.object,\n    registerCmsConfiguration: PropTypes.func,\n    setOfferType: PropTypes.func,\n    subscribeCustomerSelected: PropTypes.func,\n    changeAddTerminalToOfferBundleNo: PropTypes.func,\n    redirectToCart: PropTypes.func,\n    hasLove: PropTypes.bool,\n    hasODF: PropTypes.bool,\n    softBundleGroup: PropTypes.string,\n    channels: PropTypes.object,\n    hasVoiceCartEntry: PropTypes.bool,\n    stayLoveRetentionMSISDN: PropTypes.string,\n};\n\nconst mapDispatchToProps = dispatch => ({\n    registerCmsConfiguration: (cmsConf, validOfferTypes) => dispatch(setOfferTypeCmsConf(cmsConf, validOfferTypes)),\n    setOfferType: offerType => dispatch(setOfferType(offerType)),\n    subscribeCustomerSelected: () => dispatch(subscribeCustomerSelected()),\n    changeAddTerminalToOfferBundleNo: () => dispatch(changeAddTerminalToOfferBundleNo(null)),\n    redirectToCart: () => dispatch(redirectToCart()),\n    fetchMiniCart: () => dispatch(fetchMiniCart()),\n    changeCurrentPage: page => dispatch(changeCurrentPageProps(page)),\n    setAllVisibility: value => dispatch(setAllVisibilityProduct(value)),\n    dontUseDefaultOffer: ()=> dispatch({type: USE_DEFAULT_OFFER, use: false}),\n    setSalesChannel: channel => dispatch(setSalesChannel(channel)),\n});\n\nconst mapStateToProps = state => ({\n    useDefaultOfferType: getUseDefaultOfferType(state),\n    isPropositionListCountSetMode: getPropositionListCountSetMode(state),\n    propositionListCount: getPropositionListCount(state),\n    headerText: getProductListHeader(state),\n    selectValues: getOfferTypesForSelect(state),\n    selectedOfferType: getSelectedOfferType(state),\n    wwt: state.magnum.wwt,\n    addTerminalToOfferBundleNo: getAddTerminalToOfferBundleNo(state),\n    products: getProductListWrapper(state),\n    productList: getProductListData(state),\n    isProductListPage: isProductListPage(state),\n    isAccessoryListPage: isAccessoryListPage(state),\n    isProductDetailsPage: isProductDetailsPage(state),\n    isPropositionListCountLoop: getPropositionListOfferType(state) && getPropositionListOfferType(state) == getSelectedOfferType(state),\n    isB2B: getMarketContext(state) === \"B2B\",\n    hasLove: hasLove(state),\n    hasODF: hasODF(state),\n    softBundleGroup: getSelectedSoftBundleGroup(state),\n    magnumType: getMagnumType(state),\n    stayLoveRetentionMSISDN: getStayLoveRetentionMSISDN(state),\n    hasVoiceCartEntry: hasVoiceCartEntry(state),\n    isDuet: isDuet(state),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductListHeaderComponent);"],
    "file": "ProductListHeaderComponent.js"
}