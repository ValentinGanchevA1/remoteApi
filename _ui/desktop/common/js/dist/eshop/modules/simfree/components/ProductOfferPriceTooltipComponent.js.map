{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/simfree/components/ProductOfferPriceTooltipComponent.jsx"],
    "names": ["SingleLine", "props", "price", "isBonus", "priceWithBonuses", "from", "to", "loyaltyLength", "TitleLine", "addClass", "__html", "title", "ProductOfferPriceTooltipComponent", "monthlyPayments", "clientContext", "monthlyPaymentsWithBonuses", "rows", "push", "monthsFrom", "Set", "flatMap", "e", "monthFrom", "sort", "OnlineUtils", "ascendingNumberComparator", "monthsTo", "monthTo", "map", "element", "index", "forEach", "el", "tieredPrice", "find", "mp", "tieredPriceWithBonuses", "getPriceAsNumberFromPaymentsObject", "showNet", "priceString", "formatPrice", "priceWithBonusesString", "lastTieredPrice", "getPriceFromPaymentsObject", "length", "lastTieredPriceWithBonuses", "offerDiscountInfoConvDescription", "offerDiscountInfoDescription", "additionalInfo", "i", "baseId", "children", "mapStateToProps", "state"],
    "mappings": "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",
    "sourcesContent": ["import React from \"react\";\nimport {connect} from \"react-redux\";\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport OraTooltip from \"eshop/modules/core/components/ui/Tooltip\"\nimport {getHighestMonthlyPrice} from \"eshop/modules/cart/components/entriesList/utils/CartUtils\"\nimport { getPriceIsNet } from \"eshop/modules/cart/selectors\"\n\nconst SingleLine = (props) =>{\n    let price=props.isBonus?props.priceWithBonuses:props.price;\n\n    return (\n     <div className=\"l-row \">\n         <div className=\"l-col l-col-12 \">\n            - {props.from}-{props.to||props.loyaltyLength} mies. za&nbsp;\n            {\n                (props.isBonus&&(props.priceWithBonuses!=props.price))&&\n                <span><span className=\"u-text-line-through\">{props.price} zł/mies.</span> </span>\n            }\n            <span className=\"u-font-bold\">{price}</span> zł/mies.\n         </div>\n     </div>\n    )\n}\nconst TitleLine = (props) =>{\n    return (\n        <div className={\"l-row \"}><div />\n                <div className={\"l-col l-col-12 \" +props.addClass} dangerouslySetInnerHTML={{__html:props.title}}/>\n        </div>\n    )\n}\n\n\nconst ProductOfferPriceTooltipComponent = (props) => {\n    if(!props.monthlyPayments ){\n            return (null)\n    }\n    let isBonus=props.clientContext||props.isBonus;\n    const monthlyPayments=props.monthlyPayments || [];\n    const monthlyPaymentsWithBonuses=props.monthlyPaymentsWithBonuses || [];\n    var rows = [];\n    rows.push(<TitleLine key=\"title\" title={\"<b>Opłaty miesięczne</b>\"}/> );\n    rows.push(<TitleLine key={\"separator1\"} addClass=\" u-spacing-top-s \"/> );\n    let monthsFrom = [...(new Set([...monthlyPayments, ...monthlyPaymentsWithBonuses]\n        .flatMap(e => e.monthFrom)))].sort(OnlineUtils.ascendingNumberComparator);\n    let monthsTo = [...(new Set([...monthlyPayments, ...monthlyPaymentsWithBonuses]\n        .flatMap(e => e.monthTo)))].sort(OnlineUtils.ascendingNumberComparator);\n    monthsFrom.map((element, index) => [element, monthsTo[index]])\n        .forEach((el, index) => {\n            const tieredPrice = monthlyPayments.find(mp => mp.monthFrom <= el[0] && mp.monthTo >= el[1]);\n            const tieredPriceWithBonuses = monthlyPaymentsWithBonuses.find(mp => mp.monthFrom <= el[0] && mp.monthTo >= el[1]);\n            const price=(OnlineUtils.getPriceAsNumberFromPaymentsObject(tieredPrice, props.showNet) || 0);\n            const priceString=OnlineUtils.formatPrice(price);\n            const priceWithBonuses=(OnlineUtils.getPriceAsNumberFromPaymentsObject(tieredPriceWithBonuses, props.showNet) || 0);\n            const priceWithBonusesString=OnlineUtils.formatPrice(priceWithBonuses);\n            rows.push(<SingleLine\n                key={\"line_\" + index}\n                loyaltyLength={props.loyaltyLength}\n                isBonus={tieredPriceWithBonuses && price > priceWithBonuses}\n                price={priceString}\n                priceWithBonuses={priceWithBonusesString}\n                from={el[0]}\n                to={el[1]}\n            />)});\n\n    const lastTieredPrice = OnlineUtils.getPriceFromPaymentsObject(monthlyPayments[monthlyPayments.length - 1], props.showNet) || 0;\n    const lastTieredPriceWithBonuses = OnlineUtils.getPriceFromPaymentsObject(monthlyPaymentsWithBonuses[monthlyPaymentsWithBonuses.length - 1], props.showNet) || 0;\n    if(isBonus && lastTieredPrice !== lastTieredPriceWithBonuses && props.offerDiscountInfoConvDescription){\n        rows.push(<TitleLine key=\"desc\" title={\"- \"+props.offerDiscountInfoConvDescription} />);\n        rows.push(<TitleLine key={\"separator3\"} addClass=\" u-spacing-top-s \"/> )\n    }\n    else if(props.offerDiscountInfoDescription){\n        rows.push(<TitleLine key=\"desc\" title={\"- \"+props.offerDiscountInfoDescription} />);\n        rows.push(<TitleLine key={\"separator4\"} addClass=\" u-spacing-top-s \"/> )\n       }\n    if(props.additionalInfo){\n        for (var i=0; i < props.additionalInfo.length; i++) {\n            rows.push(<TitleLine key={\"additionalInfo\"+i} title={\"- \"+props.additionalInfo[i]} />);\n            rows.push(<TitleLine key={\"separator\"+(6+i)} addClass=\" u-spacing-top-s \"/> )\n    }\n     }\n    return (<OraTooltip key={\"context_\"+isBonus+\"_\"+props.showNet}\n                        maxWidth={400}\n                        baseId={(props.baseId&&props.baseId)+\"-offerPriceTooltip\"+\"_\"+props.showNet}\n                        className=\"u-right u-w-100\"\n                        iconClassName = \"u-table-cell u-vertical-top\"\n                        label={props.children}>\n                {rows}\n            </OraTooltip>)\n}\n\nconst mapStateToProps = state => ({\n    showNet: getPriceIsNet(state)\n})\nexport default connect(mapStateToProps, null)(ProductOfferPriceTooltipComponent)\n\n\n"],
    "file": "ProductOfferPriceTooltipComponent.js"
}