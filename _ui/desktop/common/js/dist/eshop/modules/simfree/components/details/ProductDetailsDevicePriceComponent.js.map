{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/simfree/components/details/ProductDetailsDevicePriceComponent.jsx"],
    "names": ["ProductDetailsDevicePriceComponent", "props", "console", "log", "ProcessType", "SALE_OF_GOODS", "selectedProcess", "proposition", "selectedOffer", "deviceData", "instalmentPayments", "inOffer", "price", "base", "devicePayments", "oneTimePayment", "showNet", "oneTimePaymentNet", "oneTimePaymentGross", "useCartPrices", "deviceToChange", "variantList", "find", "variant", "productCode", "productId", "monthlyPrices", "OnlineUtils", "formatPrice", "checkoutPrice", "net", "gross", "instalmentLength", "monthTo", "instalmentValue", "getPriceFromPaymentsObject", "selectedOfferId", "selectedOfferType", "formatPriceAbsolute", "formatPriceDecimals", "odmienRaty", "updateOgTag", "descriptions", "instalmentTooltipDescription", "length", "map", "instalmentPeriod", "index", "monthFrom", "React", "Component", "DeviceInstalmentPeriod", "from", "to", "maxInstalment", "instalmentPeriodLength", "test", "SimfreePrice", "selectedVariantObject", "devicePaymentsData", "originalNetPrice", "textAlign", "offerTypesForSelect", "filter", "o", "value", "OfferType", "SIMFREE_INST", "marketIsB2B", "setOfferType", "bind", "mapStateToProps", "state", "mapDispatchToProps", "dispatch", "offerType"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\n\nimport {connect} from \"react-redux\";\nimport {getOfferTypesForSelect, getSelectedVariantObject} from \"eshop/modules/simfree/selectors\";\nimport {getSelectedOffer, getSelectedOfferId} from 'eshop/modules/configurator/selectors/offers';\nimport {\n    getMarketContext,\n    getSelectedOfferType,\n    getSelectedProcessTypeValue\n} from \"eshop/modules/configurator/selectors/filters\"\nimport {setOfferType} from \"eshop/modules/simfree/actions/app\"\nimport ProductOfferInstalmentPriceTooltipComponent\n    from \"eshop/modules/simfree/components/ProductOfferInstalmentPriceTooltipComponent\"\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport OfferType from \"../../constants/OfferTypeEnum\";\n\nimport {getChangedDevice, getPriceIsNet} from \"eshop/modules/cart/selectors\"\nimport ProcessType from \"../../../cart/enum/ProcessType\";\n\n\nclass ProductDetailsDevicePriceComponent extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        console.log(\"ProductDetailsDevicePriceComponent\");\n        console.log(this.props);\n        if (ProcessType.SALE_OF_GOODS === this.props.selectedProcess) {\n            return <SimfreePrice {...this.props}/>;\n        }\n        var proposition = this.props.selectedOffer;\n        if (!proposition || !proposition.deviceData) return (null)\n        let instalmentPayments = proposition.deviceData.inOffer.price.base.devicePayments;\n        let oneTimePayment = this.props.showNet ? proposition.deviceData.inOffer.price.base.oneTimePaymentNet : proposition.deviceData.inOffer.price.base.oneTimePaymentGross;\n\n\n        let useCartPrices = this.props.deviceToChange && !!this.props.deviceData.variantList.find(variant=> this.props.deviceToChange.productCode == variant.productId);\n        if (useCartPrices) {\n            instalmentPayments = this.props.deviceToChange.monthlyPrices;\n            oneTimePayment = OnlineUtils.formatPrice(this.props.showNet ? this.props.deviceToChange.checkoutPrice.net : this.props.deviceToChange.checkoutPrice.gross)\n\n        }\n\n\n        let instalmentLength = instalmentPayments[0].monthTo;\n        let instalmentValue = OnlineUtils.getPriceFromPaymentsObject(instalmentPayments[0], this.props.showNet);\n\n        return (\n\n            <div key={this.props.selectedOfferId} className=\"l-col l-col-12  u-padding-l u-small-no-padding-bottom\">\n                <div className=\"l-row u-no-spacing\">\n                    <div className=\"l-col l-col-7  l-col-small-6 u-large-no-padding-left\">\n                        <p className=\"h4\">Cena</p>\n                        {(this.props.selectedOfferType !== \"SIMFREE_INST\") &&\n                        <p className=\"u-small-hide\">Cena abonamentu nie jest zawarta w cenie telefonu</p>}\n                    </div>\n                    <div className=\"l-col l-col-5  l-col-small-6 u-text-right u-large-no-padding-right\">\n                        <div className=\"u-font-bold\">\n                            <span className=\"h2\">{OnlineUtils.formatPriceAbsolute(instalmentValue)}</span>\n                            <span\n                                className=\"h4\">,{OnlineUtils.formatPriceDecimals(instalmentValue)} zł x {instalmentLength} {OnlineUtils.odmienRaty(instalmentLength)}</span>\n                            {OnlineUtils.updateOgTag('product:original_price:device_installment_price', OnlineUtils.formatPrice(instalmentValue))}\n                            {OnlineUtils.updateOgTag('product:device_installment_loyalyty', instalmentLength)}\n                            <ProductOfferInstalmentPriceTooltipComponent\n                                instalmentTooltipDescription={this.props.descriptions.instalmentTooltipDescription}\n                                proposition={proposition}\n                            />\n\n                        </div>\n                        {instalmentPayments.length > 1 && instalmentPayments.map(\n                            (instalmentPeriod, index) => {\n                                if (index == 0)\n                                    return (null)\n\n                                return (<DeviceInstalmentPeriod\n                                    key={\"from_\" + instalmentPeriod.monthFrom} {...instalmentPeriod}/>)\n                            }\n                        )\n                        }\n                        <p>+ {OnlineUtils.formatPrice(oneTimePayment)} zł na start</p>\n                        {OnlineUtils.updateOgTag('product:original_price:device_start_price', OnlineUtils.formatPrice(oneTimePayment))}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst DeviceInstalmentPeriod = (props) => {\n    let from = props.monthFrom || 0;\n    let to = props.monthTo || props.maxInstalment;\n    let instalmentPeriodLength = to - from + 1.0;\n    let test = \"\";\n\n    return (\n        <h5 className=\"u-no-margin u-padding-top-s\">{OnlineUtils.formatPrice(props.price)} zł\n            x {instalmentPeriodLength} {OnlineUtils.odmienRaty(instalmentPeriodLength)}</h5>\n    )\n\n}\nconst SimfreePrice = (props) => {\n    if (!props.selectedVariantObject.devicePaymentsData) {\n        return (null);\n    }\n    let instalmentValue = props.selectedVariantObject.devicePaymentsData.oneTimePayment.price;\n    if (props.showNet)\n        instalmentValue = props.selectedVariantObject.devicePaymentsData.oneTimePayment.originalNetPrice;\n    return (\n        <div>\n            <div className=\"l-col l-col-12  u-padding-l u-small-no-padding-bottom\">\n                <div className=\"l-row u-no-spacing\">\n                    <div className=\"l-col l-col-7  l-col-small-6 u-large-no-padding-left\">\n                        <h2 className=\"h4\">Cena</h2>\n                    </div>\n                    <div className=\"l-col l-col-5  l-col-small-6 u-text-right u-large-no-padding-right\">\n                        <p style={{textAlign: \"right\"}} className=\"u-font-bold\">\n                            <span className=\"h1\">{OnlineUtils.formatPriceAbsolute(instalmentValue)}</span>\n                            <span className=\"h3\">,{OnlineUtils.formatPriceDecimals(instalmentValue)} zł</span>\n                            {OnlineUtils.updateOgTag('product:original_price:device_full_price', OnlineUtils.formatPrice(instalmentValue))}\n                        </p>\n                        <div style={{textAlign: \"right\"}}>\n                            {props.offerTypesForSelect && props.offerTypesForSelect.filter(o => o.value === OfferType.SIMFREE_INST).length > 0 && !props.marketIsB2B &&\n                            <a className=\"u-cursor-pointer\"\n                               onClick={props.setOfferType.bind(this, OfferType.SIMFREE_INST)}> lub sprawdź ofertę\n                                raty&nbsp;0%</a>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div\n                className=\"l-col l-col-12  u-padding-l u-padding-top-l u-medium-padding-left-l u-medium-padding-right-l u-small-hide\">\n                <div className=\"o-separator\"></div>\n            </div>\n        </div>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    selectedOfferType: getSelectedOfferType(state),\n    selectedOffer: getSelectedOffer(state),\n    selectedVariantObject: getSelectedVariantObject(state),\n    selectedOfferId: getSelectedOfferId(state),\n    offerTypesForSelect: getOfferTypesForSelect(state),\n    marketIsB2B: getMarketContext(state) == \"B2B\",\n    showNet: getPriceIsNet(state),\n    selectedProcess: getSelectedProcessTypeValue(state),\n    deviceToChange: getChangedDevice(state)\n})\n\nconst mapDispatchToProps = dispatch => ({\n    setOfferType: (offerType) => dispatch(setOfferType(offerType))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetailsDevicePriceComponent)\n"],
    "file": "ProductDetailsDevicePriceComponent.js"
}