{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/simfree/components/details/ProductDetailsOfferTypeComponent.jsx"],
    "names": ["ProductDetailsOfferTypeComponent", "props", "channels", "selectedOfferType", "softBundleGroup", "hasLove", "sales", "SalesChannel", "WWW", "OfferType", "VOICE_LDF", "SoftBundleGroup", "LDF", "cmsConf", "registerCmsConfiguration", "length", "offerType", "setOfferType", "SIMFREE", "selectOfferType", "bind", "e", "getParamsFromUrl", "value", "options", "stayLoveRetentionMSISDN", "visible", "filter", "option", "selectedOfferTypeDescription", "productListSelectText", "CONVERGENT", "filterOutNotAvailableOfferTypes", "selectValues", "o", "doesContainOfferType", "selectedVariantObject", "availableOfferTypes", "changeOfferType", "t", "filterVisible", "propositionListCount", "isPropositionListCountLoop", "isB2B", "isDuet", "addTerminalToOfferBundleNo", "selectionType", "renderConditionalInfo", "defaultProcess", "map", "BundleType", "setProcessType", "SIMFREE_INST", "result", "Component", "mapDispatchToProps", "dispatch", "getDocuments", "mapStateToProps", "state", "MarketSegment", "B2B", "hasODF", "PropTypes", "string", "bool"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {setOfferType,setOfferTypeCmsConf,getDocuments, getParamsFromUrl} from \"eshop/modules/simfree/actions/app\";\nimport {selectProductDetailsProcessType} from \"eshop/modules/configurator/actions/filters\";\nimport {\n    getOfferTypesForSelect,\n    getSelectedSoftBundleGroup,\n    getSelectedVariantObject,\n} from \"eshop/modules/simfree/selectors\";\nimport {getSelectedOfferType} from \"eshop/modules/configurator/selectors/filters\"\nimport {OraSelect} from \"eshop/components/OraCommonComponents\";\nimport OfferType from \"../../constants/OfferTypeEnum\";\nimport {getAddTerminalToOfferBundleNo} from \"eshop/modules/cart/selectors\";\nimport {\n    getPropositionListCount,\n    getPropositionListCountSetMode,\n    getPropositionListOfferType,\n} from \"eshop/modules/configurator/selectors/filters\";\nimport { getMarketContext } from \"eshop/modules/configurator/selectors/filters\"\nimport StayLoveMsisdnHeader from \"eshop/modules/cart/components/entriesList/StayLoveMsisdnHeader\";\nimport {ConditionalInfoComponent} from \"../../../../components/InfoComponent\";\nimport {getContractRole} from \"../../../configurator/selectors/offers\";\nimport {getStayLoveRetentionMSISDN, hasLove, hasODF} from \"../../../auth/selectors/authorization\";\nimport * as PropTypes from \"prop-types\";\nimport {isDuet} from \"../../selectors\";\nimport SalesChannel from \"../../../core/enum/SalesChannel\";\nimport SoftBundleGroup from \"../../../core/enum/SoftBundleGroup\";\nimport MarketSegment from \"../../../core/enum/MarketSegment\";\nimport BundleType from \"../../../cart/components/entriesList/BundleTypeEnum\";\n\nclass ProductDetailsOfferTypeComponent extends Component {\n\n    constructor(props) {\n        super(props);\n        const cmsConf=this.props.cmsConf;\n        this.props.registerCmsConfiguration(cmsConf);\n\n        if(this.props.cmsConf.length===1 && this.props.selectedOfferType!==cmsConf.offerType){\n            this.props.setOfferType(cmsConf[0].offerType);\n        }\n        if(this.props.selectedOfferType === OfferType.SIMFREE){\n            this.props.setOfferType(this.props.selectedOfferType);\n        }\n        this.selectOfferType = this.selectOfferType.bind(this);\n    }\n\n    componentDidMount(){\n    }\n\n    selectOfferType(e) {\n        this.props.getParamsFromUrl();this.props.setOfferType(e.value)\n    }\n    renderConditionalInfo = ({channels, selectedOfferType, softBundleGroup, hasLove}) => {\n        if (channels.sales === SalesChannel.WWW &&\n            selectedOfferType === OfferType.VOICE_LDF &&\n            softBundleGroup === SoftBundleGroup.LDF) {\n            return (\n                    <ConditionalInfoComponent\n                        condition={hasLove}\n                        type={\"blueInfo\"}\n                        color={\"black\"}\n                        bgColor={\"white\"}\n                        title={\"Pamiętaj!\"}\n                        padding={\"noPadding\"}\n                        text={\"Jesteś w Love dla Firm - dzięki temu korzystasz ze specjalnych rabatów. Jeśli chcesz korzystać z nich dalej - musisz mieć aktywną umowę na internet dla biura.\"}\n                        altText={\"Love dla firm to pakiet obejmujący abonament komórkowy i internet stacjonarny w Orange dzięki czemu koszt pierwszej karty jest od 35,00 zł + VAT, a drugą kartę dostaniesz za 0 zł.\"}>\n                    </ConditionalInfoComponent>\n            );\n        }\n    };\n\n    filterVisible(options){\n        let cmsConf=this.props.cmsConf;\n        if(!!cmsConf[OfferType.VOICE_LDF] && this.props.stayLoveRetentionMSISDN){\n            cmsConf[OfferType.VOICE_LDF].visible=true;\n        }\n        return options.filter(option=> cmsConf[option.value] && cmsConf[option.value].visible);\n    }\n    render() {\n        let selectedOfferType=this.props.selectedOfferType;\n        const selectedOfferTypeDescription=this.props.cmsConf[selectedOfferType]?this.props.cmsConf[selectedOfferType].productListSelectText:OfferType.SIMFREE;\n        let options;\n        if(selectedOfferType !== OfferType.CONVERGENT){\n            options = this.filterOutNotAvailableOfferTypes(this.props.selectValues.filter(o => OfferType.CONVERGENT !== o.value ));\n            selectedOfferType = this.doesContainOfferType(this.props.selectedVariantObject.availableOfferTypes,selectedOfferType) ?\n                selectedOfferType : this.changeOfferType();\n        } else {\n            options = this.props.selectValues.filter(t => OfferType.CONVERGENT === t.value );\n        }\n        options=this.filterVisible(options);\n        //For duets - no worlds change during sim count loop\n        if ((this.props.propositionListCount > 0 && this.props.isPropositionListCountLoop && !this.props.isB2B) || this.props.isDuet) {\n            return null\n        }\n        return (\n            <div className=\"l-col l-col-small-12 l-col-medium-12 l-col-12 u-padding-l u-padding-top-l\">\n                {!this.props.addTerminalToOfferBundleNo &&\n                <OraSelect\n                    onChange={this.selectOfferType}\n                    className=\"o-select opl-select-light u-inline-block u-small-block u-margin-l u-small-no-margin \"\n                    id=\"offerTypeFilter\"\n                    options={options}\n                    withEmptyOption={false}\n                    selected={selectedOfferType}\n                    selectedName={selectedOfferTypeDescription}\n                    selectionType={this.props.selectionType}\n                    singleOptionClassName=\"u-font-bold u-no-padding-left\"/>\n\n                }\n                {\n                    this.renderConditionalInfo(this.props)\n                }\n                <StayLoveMsisdnHeader/>\n            </div>\n\n        )\n    }\n\n    filterOutNotAvailableOfferTypes(options){\n        return options.filter(o => this.doesContainOfferType(this.props.selectedVariantObject.availableOfferTypes, o.value));\n    }\n\n    changeOfferType(){\n        let offerType = \"\";\n        let defaultProcess = \"\";\n\n        this.props.selectedVariantObject.availableOfferTypes.map(o => {\n            if(this.props.cmsConf[o]){\n                offerType = o;\n                defaultProcess = this.props.cmsConf[o].defaultProcess;\n                return;\n            } else if (o === BundleType.SIMFREE && this.props.cmsConf[OfferType.SIMFREE]){\n                offerType = OfferType.SIMFREE;\n                defaultProcess = this.props.cmsConf[o].defaultProcess;\n                return;\n            }\n        });\n\n        this.props.setOfferType(offerType);\n        if(defaultProcess && defaultProcess !== \"\"){\n            this.props.setProcessType(defaultProcess)\n        }\n        return offerType;\n    }\n\n    doesContainOfferType(availableOfferTypes, offerType){ //necessary only for sog and simfree instalment\n        if(offerType !== OfferType.SIMFREE && offerType !== OfferType.SIMFREE_INST){\n            return true;\n        }\n\n        let result = false;\n        availableOfferTypes.map(e => {\n            if(e === offerType || (offerType === OfferType.SIMFREE_INST && e === BundleType.SIMFREE)){\n                result = true;\n                return;\n            }\n        });\n\n        return result;\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    registerCmsConfiguration: cmsConf => dispatch(setOfferTypeCmsConf(cmsConf)),\n    getParamsFromUrl: () => dispatch(getParamsFromUrl()),\n    setOfferType: offerType => dispatch(setOfferType(offerType)),\n    setProcessType: value => dispatch(selectProductDetailsProcessType(value)),\n    getDocuments: () => dispatch(getDocuments()),\n});\n\nconst mapStateToProps = state => ({\n    selectValues: getOfferTypesForSelect(state),\n    selectedOfferType: getSelectedOfferType(state),\n    addTerminalToOfferBundleNo: getAddTerminalToOfferBundleNo(state),\n    selectedVariantObject: getSelectedVariantObject(state),\n    isPropositionListCountLoop: getPropositionListOfferType(state) && getPropositionListOfferType(state) === getSelectedOfferType(state),\n    propositionListCount: getPropositionListCount(state),\n    isB2B: getMarketContext(state) === MarketSegment.B2B,\n    softBundleGroup: getSelectedSoftBundleGroup(state),\n    hasLove: hasLove(state),\n    hasODF: hasODF(state),\n    stayLoveRetentionMSISDN: getStayLoveRetentionMSISDN(state),\n    isDuet: isDuet(state),\n});\nProductDetailsOfferTypeComponent.PropTypes = {\n    softBundleGroup: PropTypes.string,\n    hasLove: PropTypes.bool,\n    hasODF: PropTypes.bool,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetailsOfferTypeComponent);"],
    "file": "ProductDetailsOfferTypeComponent.js"
}