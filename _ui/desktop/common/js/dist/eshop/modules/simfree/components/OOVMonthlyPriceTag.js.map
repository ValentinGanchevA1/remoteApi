{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/simfree/components/OOVMonthlyPriceTag.jsx"],
    "names": ["OOVMonthlyPriceTagCount", "OOVMonthlyPriceTag", "props", "state", "countId", "prices", "showNet", "priceNet", "originalNetPrice", "priceGross", "originalGrossPrice", "baseSummaryPrice", "convSummaryPrice", "selected", "monthlyPayments", "monthlyPaymentsWithBonuses", "isMagnum", "length", "getPrice", "alignClass", "clientContext", "OnlineUtils", "updateOgTag", "formatPrice", "monthTo", "baseId", "offerDiscountInfoDescription", "offerDiscountInfoConvDescription", "loyaltyLength", "getContractRoleInProgress", "mainPriceClass", "monthString", "Component", "OldPrice", "mapStateToProps"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport ProductOfferPriceTooltipComponent from \"eshop/modules/simfree/components/ProductOfferPriceTooltipComponent\"\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport {getPriceIsNet} from \"eshop/modules/cart/selectors\"\nimport {OraLoader, OraSelect} from \"eshop/components/OraCommonComponents\";\nimport {getContractRoleInProgress} from 'eshop/modules/configurator/selectors/offers';\n\nvar OOVMonthlyPriceTagCount = 0;\n\nclass OOVMonthlyPriceTag extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {countId: OOVMonthlyPriceTagCount++};\n    }\n\n    getPrice(prices) {\n        return this.props.showNet ? (prices.priceNet || prices.originalNetPrice) : (prices.priceGross || prices.originalGrossPrice)\n\n    }\n\n    render() {\n\n        let baseSummaryPrice = this.props.baseSummaryPrice;\n        let convSummaryPrice = this.props.convSummaryPrice;\n        let selected = this.props.selected;\n\n        let monthlyPayments = this.props.monthlyPayments;\n        let monthlyPaymentsWithBonuses = this.props.monthlyPaymentsWithBonuses;\n\n        if (!this.props.isMagnum && monthlyPayments && monthlyPayments.length > 0) {\n\n            baseSummaryPrice = this.getPrice(monthlyPayments[monthlyPayments.length - 1]);\n\n        }\n        if (!this.props.isMagnum && monthlyPaymentsWithBonuses.length > 0) {\n            convSummaryPrice = this.getPrice(monthlyPaymentsWithBonuses[monthlyPaymentsWithBonuses.length - 1]);\n        }\n        let alignClass = this.props.alignClass || \" u-right u-small-right \";\n\n        return (<div>\n                {(this.props.clientContext && convSummaryPrice != baseSummaryPrice) ?\n                    <div className={alignClass}>\n                        {(selected) &&\n                        OnlineUtils.updateOgTag('product:original_price:offer_price', OnlineUtils.formatPrice(convSummaryPrice))\n                        }\n                        {(selected) &&\n                        OnlineUtils.updateOgTag('product:offer_loyalyty', monthlyPaymentsWithBonuses && monthlyPaymentsWithBonuses[monthlyPaymentsWithBonuses.length - 1] && monthlyPaymentsWithBonuses[monthlyPaymentsWithBonuses.length - 1].monthTo)\n                        }\n                        <ProductOfferPriceTooltipComponent\n                            key={\"client_\" + this.props.clientContext + \"_\" + this.props.showNet + \"_\" + this.props.baseId}\n                            offerDiscountInfoDescription={this.props.offerDiscountInfoDescription}\n                            offerDiscountInfoConvDescription={this.props.offerDiscountInfoConvDescription}\n                            monthlyPayments={monthlyPayments}\n                            monthlyPaymentsWithBonuses={monthlyPaymentsWithBonuses}\n                            clientContext={this.props.clientContext}\n                            loyaltyLength={this.props.loyaltyLength}\n                            baseId={this.props.baseId}\n                        >\n\n                            <span className=\"u-left u-small-left\">\n                                <OraLoader loading={this.props.getContractRoleInProgress}\n                                           size=\"s\"\n                                           id={\"contract-role-in-progress-offers-loader-\" + this.state.countId + OOVMonthlyPriceTagCount}\n                                           parentId={\"offer-filter-loader-opaque\"}\n                                           blockType={\"span\"}\n\n                                >\n                                    <span\n                                        className={this.props.mainPriceClass + \" u-font-bold\"}>{OnlineUtils.formatPrice(convSummaryPrice)}&nbsp;z≈Ç{this.props.monthString && (\"/\" + this.props.monthString)}</span>\n                            </OraLoader>\n                            <br/>\n\n                                <OldPrice baseSummaryPrice={baseSummaryPrice} monthString={this.props.monthString}/>\n\n                        </span>\n\n                        </ProductOfferPriceTooltipComponent>\n\n\n                    </div>\n                    :\n                    <div className={alignClass}>\n                        {(selected) &&\n                        OnlineUtils.updateOgTag('product:original_price:offer_price', OnlineUtils.formatPrice(baseSummaryPrice))}\n                        {(selected) &&\n                        OnlineUtils.updateOgTag('product:offer_loyalyty', monthlyPayments && monthlyPayments[monthlyPayments.length - 1] && monthlyPayments[monthlyPayments.length - 1].monthTo)\n                        }\n\n                        <ProductOfferPriceTooltipComponent\n                            key={\"client_\" + this.props.clientContext + \"_\" + this.props.showNet + \"_\" + this.props.baseId+this.state.countId}\n                            offerDiscountInfoDescription={this.props.offerDiscountInfoDescription}\n                            offerDiscountInfoConvDescription={this.props.offerDiscountInfoConvDescription}\n                            monthlyPayments={monthlyPayments}\n                            monthlyPaymentsWithBonuses={monthlyPaymentsWithBonuses}\n                            loyaltyLength={this.props.loyaltyLength}\n                            clientContext={this.props.clientContext}\n                            baseId={this.props.baseId}\n                        ><span className=\"u-left u-small-left\">\n                                 <OraLoader loading={this.props.getContractRoleInProgress}\n                                            size=\"s\"\n                                            id={\"contract-role-in-progress-offers-loader-\" + this.state.countId + OOVMonthlyPriceTagCount}\n                                            parentId={\"offer-filter-loader-opaque\"}\n                                            blockType={\"span\"}\n\n                                 >\n                                    <span\n                                        className={this.props.mainPriceClass + \" u-font-bold\"}>{OnlineUtils.formatPrice(baseSummaryPrice)}&nbsp;z≈Ç{this.props.monthString && (\"/\" + this.props.monthString)}</span>\n                                 </OraLoader>\n                                </span>\n                        </ProductOfferPriceTooltipComponent>\n\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\n\nconst OldPrice = (props) => {\n\n    return (\n        <span\n            className=\"g-gray5-c u-font-bold  u-text-line-through u-left u-small-left\">{OnlineUtils.formatPrice(props.baseSummaryPrice)}&nbsp;z≈Ç{props.monthString && (\"/\" + props.monthString)}</span>\n    )\n\n}\n\nconst mapStateToProps = state => ({\n    showNet: getPriceIsNet(state),\n    getContractRoleInProgress: getContractRoleInProgress(state)\n})\nexport default connect(mapStateToProps, null)(OOVMonthlyPriceTag)\n\n"],
    "file": "OOVMonthlyPriceTag.js"
}