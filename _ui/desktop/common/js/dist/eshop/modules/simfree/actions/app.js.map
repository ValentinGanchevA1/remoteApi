{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/simfree/actions/app.js"],
    "names": ["fetchDeviceByCode", "productCode", "dispatch", "RemoteApi", "getDeviceByCode", "then", "response", "type", "ACTIONS", "GET_DEVICE_DATA_BY_CODE", "payload", "clearErrors", "UPDATE_ADD_TO_CART_ERROR", "errors", "setErrorCode", "errorCode", "getState", "addToCart", "bundleTemplateName", "redirectUrl", "ADD_TO_CART_START", "shouldReload", "responseData", "console", "log", "code", "GenesysWebEngagementUtils", "pushAddToCartEvent", "bundleNo", "addToCartSuccess", "message", "OnlineUtils", "removePwaSuflerContextFromSession", "addMagnumToCart", "state", "knaNumber", "magnum", "voiceBundleMsisdn", "selectedMobileTransaction", "number", "dataBundleMsisdn", "selectedFixBroadbandTransaction", "voipNumber", "selectedFixVoipTransaction", "designationNumber", "selectedProposition", "secondaryChoiceOffer", "durationList", "OraEshopAPI", "addMagnumToMultiCart", "ADD_TO_CART_SUCCESS", "error", "responseJSON", "OPL", "UI", "fire", "EVENTS", "modules", "basket", "counter", "update", "offerCounter", "ADD_TO_CART", "ACTIONSAUTH", "STAY_LOVE_RETENTION_MSISDN", "msisdn", "getProductList", "page", "showAll", "GET_ALL_PRODUCTS", "products", "setSelectedBaseDeviceCode", "deviceCode", "SET_SELECTED_BASE_DEVICE_CODE", "setSelectedVariant", "variant", "productPath", "filterState", "SET_SELECTED_VARIANT", "color", "selectedOffer", "DataLayerUtils", "pushProductDetailsView", "PickupPosMapUtils", "setSelectedDeviceVariant", "productId", "setSelectedVariantObject", "SET_SELECTED_VARIANT_OBJECT", "setSelectedDeviceTab", "deviceTab", "SET_SELECTED_DEVICE_TAB", "setSelectedVariantOnList", "SET_SELECTED_VARIANT_ON_LIST", "ListUtils", "changeVariant", "setSelectedVariantOnRecommended", "SET_SELECTED_VARIANT_ON_RECOMMENDED", "changeRecommendedVariant", "setChosenImageIndex", "chosenImageIndex", "SET_CHOSEN_IMAGE_INDEX", "changeCategory", "category", "window", "location", "href", "includes", "changeOrAddUrlParameterDisabledOnCheckout", "SET_SELECTED_CATEGORY", "selectedCategory", "selectedCategoryName", "name", "setRating", "rating", "SET_REVIEW_RATING", "setLogin", "login", "SET_REVIEW_LOGIN", "setMessage", "SET_REVIEW_MESSAGE", "sendReview", "SEND_REVIEW", "getDocuments", "getDocumentsForDevice", "ACTIONSCONF", "SELECT_DOCUMENTS", "catch", "trySetDefaultProcess", "defProcess", "getParameterValueFromUrl", "loadFromSessionStorage", "process", "availableProcesses", "map", "value", "SELECT_PROCESS_TYPE", "processType", "useDefaultLoyalty", "find", "p", "saveInStorageOnCanonicalLinks", "fetchInitialOOVFiltersAndPreset", "availableProductsKey", "cachedOfferFilters", "selectedOfferType", "offerFiltersCacheIndex", "findIndex", "offerFiltersElement", "offerType", "initialOfferFiltersFetched", "offerFilters", "FETCH_OFFER_FILTERS_START", "RemoteApiConf", "getOfferFilters", "FETCH_OFFER_FILTERS", "urlParametersUsed", "useDefaultProcess", "useDefaultOffer", "removeFromSessionStorage", "fetchIfActivePickupFromShelf", "checkIfActivePickupFromShelf", "getMarketFromOfferTypeConf", "CHECK_IF_ACTIVE_PICKUP_FORM_SHELF", "data", "setOfferTypeCmsConf", "cmsConf", "validOfferTypes", "REGISTER_OFFER_TYPES_CMS_CONF", "OfferType", "SIMFREE", "CONVERGENT", "fetchOrangeLove", "reloadOrangeLove", "SELECT_OFFER", "propositionId", "getParamsFromUrl", "offerTypeCmsConf", "market", "replace", "setOfferTypeAction", "SELECT_OFFER_TYPE", "processOneTimeCostPricesUrlParameter", "fetchDeliveryAndPaymentHtml", "uid", "getOplHtmlContentForOfferAndProcess", "GET_DELIVERY_AND_PAYMENT_HTML", "fetchStorageCapacityForProduct", "getStorageCapacityForProduct", "GET_PRODUCT_STORAGE_CAPACITY", "setOfferType", "selectConvergentOffer", "magnumStore", "JSON", "parse", "constants", "mobileVoiceBundleTemplateCode", "durations", "length", "GET_PRODUCTS_TREES", "setSimfreeProcessData", "getSimfreeDocuments", "getStaticSimFreeDocuments", "matchPropositionIdToselectedRatePlan", "SELECT_PROPOSITION_ID", "trySetDefaultOffer", "warn", "defServicePlan", "urlOrStoragePlan", "getValueFromUrlOrStorage", "availableOffers", "filter", "offer", "rateplanBaseProductId", "selectedPropositionId", "selectedPropositionIds", "id", "availableBaseRatePlanIds", "fetchPickupLastPos", "getLastSelectedPos", "GET_LAST_PICKUP_POS", "setDeliveryAndPaymentComponentUid", "SET_DELIVERY_AND_PAYMENT_COMPONENT_UID", "setShowRatingErrorModal", "showRatingErrorModal", "SHOW_RATING_MESSAGE", "setCashInvoiceLimit", "limit", "SET_CASH_INVOICE_LIMIT", "setCartInvoiceValue", "SET_CART_INVOICE_VALUE", "setDeliveryMethods", "deliveryMethods", "SET_DELIVERY_METHODS"],
    "mappings": "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",
    "sourcesContent": ["import * as ACTIONS from \"../actionTypes\";\nimport RemoteApi from \"../remoteApi\";\nimport {redirectToCart} from \"eshop/modules/configurator/actions/cart\";\nimport ListUtils from \"../listUtils\";\nimport {\n    checkMsisdnAndGetOffersProductList,\n    clearLoyaltyLength,\n    clearProcessType,\n    getOffersAction,\n    getProductDetailsConvergentOffersAction,\n    getProductListOffersAction,\n    setMarketContext,\n    urlParametersUsed,\n} from \"eshop/modules/configurator/actions/filters\";\n\nimport {\n    getCallOffersWithMsisdn,\n    getClientContext,\n    getSelectedOfferType,\n    getSelectedProcessTypeValue,\n    getUseDefaultLoyalty,\n    getUseDefaultOffer,\n    getUseDefaultProcess,\n    getVerifiedMsisdn,\n} from \"eshop/modules/configurator/selectors/filters\";\nimport {getUrlParametersUsed} from \"eshop/modules/configurator/selectors/metaData\";\nimport {clearPropositionId, fetchContractRole, fetchFirstOffer} from \"eshop/modules/configurator/actions/offers\";\nimport {\n    addToCartInProgress,\n    getCurrentSelectedAvailableProductsKey,\n    getCurrentSelectedAvailableProductsKeyByUrlParameter,\n    getDefaultProcess,\n    getDefaultProposition,\n    getDefaultServicePlan,\n    getDeliveryAndPaymentComponentUid,\n    getFirstAvailableProductsKey,\n    getSelectedBaseDeviceCode,\n    getSelectedOfferTypeCmsConf,\n    getSelectedOneTimePricesList,\n    getSelectedVariant,\n    isProductDetailsPage,\n    isProductListPage,\n    isAccessoryListPage\n} from \"eshop/modules/simfree/selectors\";\nimport RemoteApiConf from \"eshop/modules/configurator/remoteApi\";\nimport * as ACTIONSCONF from \"eshop/modules/configurator/actionTypes\";\nimport * as ACTIONSAUTH from \"eshop/modules/auth/actionTypes\";\nimport GenesysWebEngagementUtils from \"eshop/utils/GenesysWebEngagementUtils\";\nimport {reloadProductList} from \"eshop/modules/simfree/actions/filter\";\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport {bodyLoaderHide, bodyLoaderShow} from \"eshop/modules/checkout/actions/app\";\nimport OfferType from \"../constants/OfferTypeEnum\";\nimport OraEshopAPI from \"../../../flux/utils/OraEshopAPI\";\nimport {gotoCartSummary} from \"../../checkout/actions/app\";\nimport {constants} from \"../../configurator/constants\";\nimport {setMagnumStore} from \"../../magnum2/actions/magnum\";\nimport {\n    getOffersForCurrentFilters,\n    getPropositionIdByRatePlanId,\n    getPropositionIdsByRatePlanId,\n    getSelectedBaseRatePlanId,\n    getSelectedOffer,\n    getAvailableBaseRateplanIds,\n} from \"eshop/modules/configurator/selectors/offers\";\nimport DataLayerUtils from \"eshop/utils/DataLayerUtils\";\nimport PickupPosMapUtils from \"eshop/utils/PickupPosMapUtils\";\nimport {getMarketContext, getOfferTypeFiltersCached} from \"../../configurator/selectors/filters\";\nimport {getSalesChannel} from \"../../auth/selectors/authorization\";\nimport {getAssistModeStateData} from \"../../checkout/selectors\";\nimport {showError} from \"../../auth/actions/authorization\";\nimport {getProductDetailsOffersWithoutOfferSelectorAction} from \"../../configurator/actions/filters\";\n\n\nexport function fetchDeviceByCode(productCode) {\n    return (dispatch) => {\n        RemoteApi.getDeviceByCode(productCode)\n            .then((response) => dispatch({\n                type: ACTIONS.GET_DEVICE_DATA_BY_CODE,\n                payload: response\n            }));\n    };\n}\n\nexport function clearErrors() {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.UPDATE_ADD_TO_CART_ERROR,\n            errors: []\n        });\n    };\n}\n\nexport const setErrorCode = (errorCode) => (dispatch,getState) => {\n    dispatch({\n        type: ACTIONS.UPDATE_ADD_TO_CART_ERROR,\n        errors: [errorCode]\n    });\n};\n\nexport function addToCart(productCode, bundleTemplateName, redirectUrl) {\n    return (dispatch, getState) => {\n        if(addToCartInProgress(getState())){\n            return;\n        }\n        dispatch({\n            type: ACTIONS.ADD_TO_CART_START\n        });\n        bodyLoaderShow();\n    let shouldReload = true;\n        RemoteApi.addToCart(productCode, bundleTemplateName)\n            .then(responseData => {\n                console.log(responseData);\n                if(responseData.code === 200){\n                    GenesysWebEngagementUtils.pushAddToCartEvent(productCode, bundleTemplateName, responseData.bundleNo);\n                    dispatch(addToCartSuccess(responseData));\n                    dispatch(redirectToCart());\n                } else {\n                    shouldReload = false;\n                    bodyLoaderHide();\n                    if (responseData.code !== 400) {\n                        dispatch(setErrorCode(\"other\"));\n                    } else {\n                        dispatch(showError(responseData.message || ''));\n                        dispatch(clearErrors());\n                    }\n                }\n            });\n        OnlineUtils.removePwaSuflerContextFromSession();\n    };\n}\n\nexport function addMagnumToCart(productCode) {\n    return (dispatch, getState) => {\n        const state = getState();\n        if(addToCartInProgress(state)){\n            return;\n        }\n        dispatch({\n            type: ACTIONS.ADD_TO_CART_START\n        });\n        bodyLoaderShow();\n\n        const knaNumber = state.magnum.knaNumber;\n        const voiceBundleMsisdn = state.magnum.selectedMobileTransaction.number;\n        const dataBundleMsisdn = state.magnum.selectedFixBroadbandTransaction.number;\n        const voipNumber = state.magnum.selectedFixVoipTransaction.designationNumber || state.magnum.selectedFixBroadbandTransaction.designationNumber;\n        const selectedProposition = state.magnum.selectedProposition.code;\n        const secondaryChoiceOffer = state.magnum.durationList.secondaryChoiceOffer;\n\n        OraEshopAPI.addMagnumToMultiCart(selectedProposition, productCode, voipNumber, knaNumber, voiceBundleMsisdn, dataBundleMsisdn, secondaryChoiceOffer)\n            .then(\n                () => {\n                    dispatch({type: ACTIONS.ADD_TO_CART_SUCCESS});\n                    dispatch(gotoCartSummary());\n                    bodyLoaderHide();\n                },\n                error => {\n                    dispatch({\n                        type: ACTIONS.UPDATE_ADD_TO_CART_ERROR,\n                        errors: [error.responseJSON.message || \"other\"]\n                    });\n                    bodyLoaderHide();\n                }\n            );\n        OnlineUtils.removePwaSuflerContextFromSession();\n    };\n}\n\nexport function addToCartSuccess (responseData)  {\n    OPL.UI.fire(OPL.UI.EVENTS.modules.basket.counter.update, responseData.offerCounter, 'header');\n    return (dispatch, getState) =>\n    {\n        dispatch({type: ACTIONS.ADD_TO_CART, payload: responseData});\n        dispatch({type: ACTIONS.ADD_TO_CART_SUCCESS});\n        dispatch({type: ACTIONSAUTH.STAY_LOVE_RETENTION_MSISDN,msisdn:\"\"});\n    };\n}\nexport function getProductList(page,showAll) {\n    return (dispatch) => {\n        RemoteApi.getProductList(page,showAll).then((response) => dispatch({\n            type: ACTIONS.GET_ALL_PRODUCTS,\n            products: response\n        }));\n    };\n}\nexport function setSelectedBaseDeviceCode(deviceCode) {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_BASE_DEVICE_CODE,\n            deviceCode\n        });\n    };\n}\n\nexport function setSelectedVariant(variant, productPath, filterState) {\n    return (dispatch,getState) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_VARIANT,\n            payload: variant,\n            color: productPath,\n            filterState: filterState\n        });\n        const selectedOffer = getSelectedOffer(getState());\n        if(selectedOffer) {\n            DataLayerUtils.pushProductDetailsView(\n                selectedOffer,\n                getSelectedOfferType(getState()),\n                getClientContext(getState()),\n                getSelectedVariant(getState()),\n                getMarketContext(getState()),\n                getSalesChannel(getState()),\n                getAssistModeStateData(getState()));\n        }\n        PickupPosMapUtils.setSelectedDeviceVariant(variant.productId);\n    };\n}\n\nexport function setSelectedVariantObject(variant) {\nconsole.log(\"^##^(*@^$@(*#^$(*#@^$(@^#$(@^#($&@^#(&$^@($^#\", {variant});\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_VARIANT_OBJECT,\n            payload: variant\n        });\n    };\n}\nexport function setSelectedDeviceTab(deviceTab) {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_DEVICE_TAB,\n            deviceTab\n        });\n    };\n}\nexport function setSelectedVariantOnList(variant, productPath,productCode) {\n    return (dispatch,getState) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_VARIANT_ON_LIST,\n            products: ListUtils.changeVariant(getState(),variant,productCode),\n            color: productPath\n        });\n    };\n}\n\nexport function setSelectedVariantOnRecommended(variant, productPath, productCode, products) {\n    return (dispatch,getState) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_VARIANT_ON_RECOMMENDED,\n            products: ListUtils.changeRecommendedVariant(getState(),variant,productCode, products),\n            productId: productCode,\n            color: productPath\n        });\n    };\n}\n\nexport function setChosenImageIndex(chosenImageIndex) {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_CHOSEN_IMAGE_INDEX,\n            payload: chosenImageIndex\n        });\n    };\n}\n\nexport function changeCategory(category) {\n    if (category && category.code && !window.location.href.includes(\"/details\")) {\n        OnlineUtils.changeOrAddUrlParameterDisabledOnCheckout(\"selectedCategory\", category.code);\n    }\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_SELECTED_CATEGORY,\n            selectedCategory: category&&category.code,\n            selectedCategoryName: category&&category.name\n        });\n    };\n}\n\nexport function setRating(rating) {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_REVIEW_RATING,\n            rating: rating\n        });\n    };\n}\n\nexport function setLogin(login) {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_REVIEW_LOGIN,\n            login: login\n        });\n    };\n}\n\nexport function setMessage(message) {\n    return (dispatch) => {\n        dispatch({\n            type: ACTIONS.SET_REVIEW_MESSAGE,\n            message: message\n        });\n    };\n}\n\nexport function sendReview(productCode,rating,login,message){\n    return (dispatch) => {\n        RemoteApi.sendReview(productCode,rating,login,message).then(\n            () => dispatch({\n            type: ACTIONS.SEND_REVIEW,\n            payload: true\n        }), (error) => dispatch({\n            type: ACTIONS.SEND_REVIEW,\n            payload: false\n        }));\n    };\n}\n\nconst getDocuments = (dispatch, getState) =>{\n\n    console.log(\"getDocuments ^^^^^^^^^^^^^^^^\",getDefaultProcess(getState()));\n\n    RemoteApi.getDocumentsForDevice(\"MOB_CPO_SALES_OF_GOODS\", getDefaultProcess(getState()))\n        .then(response => dispatch({\n            type: ACTIONSCONF.SELECT_DOCUMENTS,\n            payload: response\n        })).catch(error =>\n            console.log(\"getDocumentsForDevice \",error)\n    );\n\n}\n\nconst trySetDefaultProcess = (response) => (dispatch,getState) => {\n    console.log(\"trySetDefaultProcess +\");\n    if(!getUseDefaultProcess(getState())){\n        return;\n    }\n    let defProcess = getDefaultProcess(getState());\n    console.log(\"State:\",getSelectedOfferTypeCmsConf(getState()));\n    console.log(\"defProces\",defProcess);\n    //console.log(\"!getUrlParametersUsed(getState()) && (OnlineUtils.getParameterValueFromUrl('processType') || OnlineUtils.loadFromSessionStorage('processType'))\",!getUrlParametersUsed(getState()) && (OnlineUtils.getParameterValueFromUrl('processType') || OnlineUtils.loadFromSessionStorage(\"processType\"));\n    console.log(\"trySetDefaultProcess -\");\n    if(!getUrlParametersUsed(getState()) && (OnlineUtils.getParameterValueFromUrl('processType') || OnlineUtils.loadFromSessionStorage(\"processType\"))){\n        let process = OnlineUtils.getParameterValueFromUrl('processType') || OnlineUtils.loadFromSessionStorage(\"processType\");\n        let availableProcesses = (response && response.map(process => process.value)) || [];\n        if (availableProcesses.includes(process)) {\n            dispatch({type: ACTIONSCONF.SELECT_PROCESS_TYPE, processType: process, useDefaultLoyalty: getUseDefaultLoyalty(getState())});\n        } else {\n            dispatch({type: ACTIONSCONF.SELECT_PROCESS_TYPE, processType: defProcess});\n        }\n    }else if(defProcess){\n        if(response && response.find(p => p.value === defProcess)) {\n            dispatch({type: ACTIONSCONF.SELECT_PROCESS_TYPE, processType: defProcess});\n        }else{\n            console.error('Wrong default process: ' + defProcess);\n        }\n    }\n    OnlineUtils.saveInStorageOnCanonicalLinks(\"processType\", getSelectedProcessTypeValue(getState()));\n};\n\nconst fetchInitialOOVFiltersAndPreset = () => {\n    return (dispatch,getState) => {\n        let deviceCode=null;\n        if(isProductDetailsPage(getState())){\n            deviceCode=getSelectedBaseDeviceCode(getState());\n        }\n        console.log(\"fetchInitialOOVFiltersAndPreset1\", getState());\n        const availableProductsKey = getCurrentSelectedAvailableProductsKey(getState());\n        dispatch(fetchContractRole(availableProductsKey));\n        dispatch(fetchFirstOffer(availableProductsKey));\n\n        let cachedOfferFilters = getOfferTypeFiltersCached(getState());\n        let selectedOfferType = getSelectedOfferType(getState());\n        let offerFiltersCacheIndex = cachedOfferFilters.findIndex(offerFiltersElement => offerFiltersElement.offerType === selectedOfferType);\n        console.log(\"fetchInitialOOVFiltersAndPreset2 offerFiltersCacheIndex=\",offerFiltersCacheIndex);\n\n        if (offerFiltersCacheIndex !== -1) {\n            dispatch(initialOfferFiltersFetched(cachedOfferFilters[offerFiltersCacheIndex].offerFilters));\n        } else {\n            dispatch({\n                type: ACTIONSCONF.FETCH_OFFER_FILTERS_START\n            });\n            RemoteApiConf.getOfferFilters(availableProductsKey, deviceCode).then(response =>\n                dispatch(initialOfferFiltersFetched(response)));\n        }\n    };\n};\n\nconst initialOfferFiltersFetched = (response) => (dispatch, getState) => {\n    dispatch({\n        type: ACTIONSCONF.FETCH_OFFER_FILTERS,\n        payload: response,\n        urlParametersUsed: getUrlParametersUsed(getState()),\n        useDefaultProcess: getUseDefaultProcess(getState()),\n        useDefaultLoyalty: getUseDefaultLoyalty(getState()),\n        useDefaultOffer: getUseDefaultOffer(getState()),\n    });\n    console.log(\"fetchInitialOOVFiltersAndPreset2\", getState());\n    dispatch(trySetDefaultProcess(response));\n\n    dispatch(urlParametersUsed);\n    OnlineUtils.removeFromSessionStorage(\"dontUseDefaults\");\n    console.log(\"fetchInitialOOVFiltersAndPreset3\", getState());\n    if(isProductDetailsPage(getState()) ||isProductListPage(getState()) || isAccessoryListPage(getState()))\n        getDocuments(dispatch, getState);\n    if (getCallOffersWithMsisdn(getState())) {\n        checkMsisdnAndGetOffersProductList(getVerifiedMsisdn(getState()))(dispatch, getState);\n        if (isProductDetailsPage(getState())) {\n            getOffersAction(dispatch, getState, getCurrentSelectedAvailableProductsKey(getState()));\n        }\n    } else  {\n        if (isProductDetailsPage(getState())) {\n            getProductDetailsOffersWithoutOfferSelectorAction(dispatch, getState, getCurrentSelectedAvailableProductsKey(getState()), true);\n        } else if (isProductListPage(getState())) {\n            getProductListOffersAction(dispatch, getState, getCurrentSelectedAvailableProductsKey(getState()), true);\n        } else {\n            getOffersAction(dispatch, getState, getCurrentSelectedAvailableProductsKey(getState()));\n        }\n    }\n};\n\nexport const fetchIfActivePickupFromShelf = (dispatch, getState) => {\n    RemoteApi.checkIfActivePickupFromShelf(\n        getSelectedOfferType(getState()),\n        getSelectedProcessTypeValue(getState()),\n        getMarketFromOfferTypeConf(getSelectedOfferTypeCmsConf(getState())),\n        getSelectedVariant(getState()))\n        .then(response => dispatch({\n            type: ACTIONS.CHECK_IF_ACTIVE_PICKUP_FORM_SHELF,\n            data: response\n        })).catch(error => console.error(\"Error checking pickup_from_shelf is active: \", error));\n};\n\nexport const setOfferTypeCmsConf = (cmsConf, validOfferTypes) => {\n    console.log(\"will setOfferTypeCmsConf \",cmsConf);\n    return (dispatch,getState) => {\n        dispatch({\n            type: ACTIONS.REGISTER_OFFER_TYPES_CMS_CONF,\n            cmsConf,\n            validOfferTypes,\n        });\n        console.log(\"setOfferTypeCmsConf\");\n        dispatch(setMarketContext(\n            getMarketFromOfferTypeConf(getSelectedOfferTypeCmsConf(getState()))\n        ));\n        if (getSelectedOfferType(getState()) !== OfferType.SIMFREE && getCurrentSelectedAvailableProductsKey(getState())) {\n            dispatch(fetchInitialOOVFiltersAndPreset());\n\n        } else if (getSelectedOfferType(getState()) === OfferType.CONVERGENT) {\n            fetchOrangeLove(getState, dispatch);\n            reloadOrangeLove(getState, dispatch);\n        } else if (getDefaultProcess(getState())) {\n            // sog configuration\n            dispatch({type: ACTIONSCONF.SELECT_PROCESS_TYPE, processType: getDefaultProcess(getState())});\n            dispatch({type: ACTIONSCONF.SELECT_OFFER, propositionId: getDefaultProposition(getState())});\n            getDocuments(dispatch, getState);\n            dispatch(urlParametersUsed);\n        } else {\n            dispatch(clearProcessType());\n            dispatch(clearLoyaltyLength());\n            dispatch(clearPropositionId());\n\n        }\n\n        console.log(\"getFirstAvailableProductKey to fetch first offer\",getFirstAvailableProductsKey(getState()));\n        if(!getCurrentSelectedAvailableProductsKey(getState())){\n            const availableProductsKey =  getCurrentSelectedAvailableProductsKeyByUrlParameter(getState())\n            || getFirstAvailableProductsKey(getState());\n            dispatch(fetchContractRole(availableProductsKey));\n            dispatch(fetchFirstOffer(availableProductsKey));\n        }\n        fetchIfActivePickupFromShelf(dispatch,getState);\n        OnlineUtils.removeFromSessionStorage(\"dontUseDefaults\");\n    };\n};\n\nexport const getParamsFromUrl = () => {\n    return (dispatch) => {\n        dispatch(urlParametersUsed);\n    };\n};\n\nfunction getMarketFromOfferTypeConf(offerTypeCmsConf){\n    const market = (offerTypeCmsConf && offerTypeCmsConf.market) || \"B2C\";\n    return market.replace(\"_SOHO\", \"\");\n}\n\n\nexport const setOfferTypeAction = offerType => (dispatch, getState) => {\n        dispatch({\n            type: ACTIONS.SELECT_OFFER_TYPE,\n            offerType: offerType,\n        });\n        OnlineUtils.processOneTimeCostPricesUrlParameter(getSelectedOneTimePricesList(getState()));\n    };\n\nexport const fetchDeliveryAndPaymentHtml = uid => (dispatch, getState) => {\n    RemoteApi.getOplHtmlContentForOfferAndProcess(\n        (OnlineUtils.getParameterValueFromUrl('offerType') || getSelectedOfferType(getState())),\n        (OnlineUtils.getParameterValueFromUrl('processType') || getSelectedProcessTypeValue(getState())),\n        uid != null ? uid : getDeliveryAndPaymentComponentUid(getState()))\n        .then(response => dispatch({\n            type: ACTIONS.GET_DELIVERY_AND_PAYMENT_HTML,\n            data: response,\n        })).catch(error => console.error(\"Error getting html for component: \", error));\n};\n\nexport const fetchStorageCapacityForProduct = () => (dispatch, getState) => {\n    RemoteApi.getStorageCapacityForProduct(getSelectedBaseDeviceCode(getState()))\n        .then(response => dispatch({\n            type: ACTIONS.GET_PRODUCT_STORAGE_CAPACITY,\n            data: response,\n        })).catch(error => console.log(\"Product without references\", error));\n\n};\n\n\n\nexport const setOfferType = offerType => (dispatch,getState) => {\n    console.log(\"Set offerType\", offerType);\n    dispatch(setOfferTypeAction(offerType));\n\n    if (offerType !== OfferType.SIMFREE && getCurrentSelectedAvailableProductsKey(getState())) {\n        dispatch(fetchInitialOOVFiltersAndPreset());\n    } else if (offerType === OfferType.CONVERGENT) {\n        fetchOrangeLove(getState, dispatch);\n        reloadOrangeLove(getState, dispatch);\n    } else if (getDefaultProcess(getState())) {\n        // sog configuration\n        dispatch({type: ACTIONSCONF.SELECT_PROCESS_TYPE, processType: getDefaultProcess(getState())});\n        dispatch({type: ACTIONSCONF.SELECT_OFFER, propositionId: getDefaultProposition(getState())});\n        if (isProductListPage(getState())) {\n            reloadProductList()(dispatch, getState);\n        }\n        getDocuments(dispatch, getState);\n    } else {\n\n        if (isProductListPage(getState())) {\n            reloadProductList()(dispatch, getState);\n        }\n    }\n    if (getDeliveryAndPaymentComponentUid(getState())) {\n        fetchDeliveryAndPaymentHtml()(dispatch, getState);\n    }\n};\n\nexport const selectConvergentOffer = (propositionId) => {\n    return (dispatch) => {\n        dispatch({type: ACTIONSCONF.SELECT_OFFER, propositionId: propositionId});\n    };\n};\n\nfunction fetchOrangeLove(getState, dispatch) {\n    const magnumStore = JSON.parse(OnlineUtils.loadFromSessionStorage(constants.magnumStore));\n    if(magnumStore && !getState().magnum.selectedProposition) {\n        dispatch(setMagnumStore(magnumStore));\n\n        if(isProductDetailsPage(getState())) {\n            getProductDetailsConvergentOffersAction(dispatch, getState);\n            selectConvergentOffer(magnumStore.selectedProposition&& magnumStore.selectedProposition.mobileVoiceBundleTemplateCode)(dispatch);\n        }\n    }\n}\n\nfunction reloadOrangeLove(getState, dispatch) {\n    if(getState().magnum.durationList.durations.length === 0) {\n        dispatch({type: ACTIONS.GET_ALL_PRODUCTS, products: []});\n        dispatch({type: ACTIONS.GET_PRODUCTS_TREES, payload: null});\n    }\n    reloadProductList()(dispatch, getState);\n}\n\nexport const setSimfreeProcessData = () => {\n    return (dispatch) => {\n        // sog configuration\n        dispatch(setOfferTypeAction(\"SIMFREE\"));\n        dispatch({type: ACTIONSCONF.SELECT_PROCESS_TYPE, processType: \"SALE_OF_GOODS\"});\n        dispatch({type: ACTIONSCONF.SELECT_OFFER, propositionId: \"DEFAULT_SALES_OF_GOODS_PROPOSITION$MOB_CPO_SALES_OF_GOODS\"});\n    };\n};\n\nexport const getSimfreeDocuments = () => {\n\n    console.log(\"getSimfreeDocuments ^^^^^^^^^^^^^^^^^^\",);\n    return (dispatch,getState) => RemoteApi.getDocumentsForDevice(getSelectedBaseDeviceCode(getState()),\"SALE_OF_GOODS\")\n        .then(response => dispatch({\n        type: ACTIONSCONF.SELECT_DOCUMENTS,\n        payload: response\n    }));\n};\n\nexport const getStaticSimFreeDocuments = () => (dispatch, getState) => {\n\n    RemoteApi.getDocumentsForDevice(\"MOB_CPO_SALES_OF_GOODS\", \"SALE_OF_GOODS\")\n        .then(response => dispatch({\n            type: ACTIONSCONF.SELECT_DOCUMENTS,\n            payload: response\n        }));\n}\n\nexport const matchPropositionIdToselectedRatePlan = () => (dispatch,getState)=>{\n    console.log(\"matchPropositionIdToselectedRatePlan\");\n    dispatch({\n        type: ACTIONSCONF.SELECT_PROPOSITION_ID,\n        propositionId: getPropositionIdByRatePlanId(getSelectedBaseRatePlanId(getState()), getOffersForCurrentFilters(getState()))\n    });\n\n};\n\n\nexport const trySetDefaultOffer = (response) => (dispatch,getState) => {\nconsole.warn(\"trySetDefaultOffer +\",getUseDefaultOffer(getState()));\n    if(!getUseDefaultOffer(getState()) && !OnlineUtils.getParameterValueFromUrl(\"serviceplan\")){\n        dispatch(matchPropositionIdToselectedRatePlan());\n        return;\n    }\n    let defServicePlan = getDefaultServicePlan(getState());\n    console.warn(\"State:\",getSelectedOfferTypeCmsConf(getState()));\n    console.warn(\"defServicePlan\",defServicePlan);\n\n\n    let urlOrStoragePlan=OnlineUtils.getValueFromUrlOrStorage(\"serviceplan\",\"serviceplan\");\n    const availableOffers= getOffersForCurrentFilters(getState());\n    console.log(\"availableOffers\",availableOffers);\n    if(!!availableOffers && urlOrStoragePlan){\n\n        console.log(availableOffers && !availableOffers.filter(offer => offer.rateplanBaseProductId==urlOrStoragePlan));\n         if(!availableOffers.find(offer => offer.rateplanBaseProductId==urlOrStoragePlan)){\n            console.log(\"urlPlan does not match available offers -> use default\");\n             urlOrStoragePlan=\"\";\n\n         }\n    }\n\n    console.log(\"FINAL urlOrStoragePlan\",urlOrStoragePlan);\n        //ifi urlPlan match available offers\n    if(!!urlOrStoragePlan){\n\n        defServicePlan=urlOrStoragePlan;\n        let selectedPropositionId=OnlineUtils.getValueFromUrlOrStorage(\"selectedPropositionId\",\"selectedPropositionId\");\n        console.log(\"selectedPropositionId\",selectedPropositionId);\n\n        const selectedPropositionIds =  getPropositionIdsByRatePlanId(defServicePlan,getOffersForCurrentFilters(getState())) ;\n        console.log(\"selectedPropositionIds\",selectedPropositionIds);\n        if(!selectedPropositionIds || !selectedPropositionIds.find(id => id==selectedPropositionId)){\n            console.log(\"siema1\");\n            selectedPropositionId=getPropositionIdByRatePlanId(defServicePlan,getOffersForCurrentFilters(getState()));\n            console.log(\"siema2\");\n        }\n\n        console.warn(\"first if defOffer\",defServicePlan);\n\n        dispatch({type: ACTIONSCONF.SELECT_OFFER, rateplanBaseProductId:defServicePlan,propositionId: selectedPropositionId});\n    }else if(defServicePlan){\n        console.warn(\"else if defOffer\",defServicePlan);\n        console.log({\n            type: ACTIONSCONF.SELECT_OFFER,\n            rateplanBaseProductId: defServicePlan,\n            propositionId: getPropositionIdByRatePlanId(defServicePlan, getOffersForCurrentFilters(getState()))\n        });\n        console.log(\"getOffersForCurrentFilters\", getOffersForCurrentFilters(getState()));\n        let availableBaseRatePlanIds = getAvailableBaseRateplanIds(getState());\n        if(!availableBaseRatePlanIds.includes(defServicePlan)){\n            defServicePlan = availableBaseRatePlanIds[0];\n        }\n        dispatch({\n            type: ACTIONSCONF.SELECT_OFFER,\n            rateplanBaseProductId:defServicePlan,\n            propositionId: getPropositionIdByRatePlanId(defServicePlan,getOffersForCurrentFilters(getState()))\n        });\n   }\n    OnlineUtils.saveInStorageOnCanonicalLinks(\"processType\", getSelectedProcessTypeValue(getState()));\n    console.warn(\"trySetDefaultOffer -\");\n\n};\n\nexport const fetchPickupLastPos = (productCode) => (dispatch) => {\n    RemoteApi.getLastSelectedPos(productCode).then(response => dispatch({\n        type: ACTIONS.GET_LAST_PICKUP_POS,\n        data: response\n    })).catch(error => console.error(\"LastSelectedPosError: \", error));\n};\n\nexport const setDeliveryAndPaymentComponentUid = (uid) => {\n    return (dispatch) =>\n    {\n        dispatch({\n            type: ACTIONS.SET_DELIVERY_AND_PAYMENT_COMPONENT_UID,\n            data: uid\n        });\n    };\n};\n\nexport const setShowRatingErrorModal = (showRatingErrorModal) => (dispatch,getState) => {\n    dispatch({\n        type: ACTIONS.SHOW_RATING_MESSAGE,\n        value: showRatingErrorModal\n    })\n};\n\nexport const setCashInvoiceLimit = (limit) => (dispatch,getState) => {\n    dispatch({\n        type: ACTIONS.SET_CASH_INVOICE_LIMIT,\n        data: limit\n    })\n};\n\nexport const setCartInvoiceValue = (value) => (dispatch,getState) => {\n    dispatch({\n        type: ACTIONS.SET_CART_INVOICE_VALUE,\n        data: value\n    })\n};\n\nexport const setDeliveryMethods = deliveryMethods => ({\n    type: ACTIONS.SET_DELIVERY_METHODS,\n    deliveryMethods\n});"],
    "file": "app.js"
}