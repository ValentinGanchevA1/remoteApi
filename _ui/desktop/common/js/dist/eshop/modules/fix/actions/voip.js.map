{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/fix/actions/voip.js"],
    "names": ["voipNumbersFetching", "fetching", "dispatch", "type", "ACTIONS", "VOIP_NUMBERS_FETCHING", "payload", "voipNumbersFetched", "fetched", "VOIP_NUMBERS_FETCHED", "selectVoipNumber", "number", "SELECT_VOIP_NUMBER", "saveVoipNumbers", "numbers", "SAVE_VOIP_NUMBERS", "voipNumbers", "fetchVoipNumbers", "cityId", "RemoteApi", "then", "response", "voipSelection", "getState", "voipFetching", "voipFetched", "VOIP_SELECTION", "source", "fetchingVoipNumbersWithMultiCallBlock", "saveSelectedVoipNumber", "secondaryChoiceOffer", "offerId", "VOIP_NUMBER_SELECTED", "mountVoipModalComponent", "MOUNT_VOIP_MODAL_COMPONENT_ACTION", "selectVoipVariant", "voipVariant", "VOIP_VARIANT", "showVoipVariantModal", "show", "SHOW_VOIP_VARIANT_MODAL", "showVoipNumbersModal", "SHOW_VOIP_NUMBERS_MODAL", "saveDesignationNumber", "designationNumber", "DESIGNATION_NUMBER"],
    "mappings": "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",
    "sourcesContent": ["import * as ACTIONS from \"../actionTypes\";\nimport RemoteApi from \"../remoteApi\";\nimport {getSelectedOfferId, getWwtCityId, isSecondaryChoiceOfferSelected} from \"../selectors/root\";\nimport {addToCart} from \"./offers\";\nimport {getNumbersFetched, getNumbersFetching} from \"../selectors/voip\";\n\nconst voipNumbersFetching = (fetching) => (dispatch) => {\n    dispatch({type: ACTIONS.VOIP_NUMBERS_FETCHING, payload: fetching});\n};\n\nconst voipNumbersFetched = (fetched) => (dispatch) => {\n    dispatch({type: ACTIONS.VOIP_NUMBERS_FETCHED, payload: fetched});\n};\n\nexport const selectVoipNumber = (number) => (dispatch) => {\n    dispatch({\n        type: ACTIONS.SELECT_VOIP_NUMBER,\n        payload: number\n    });\n};\n\nconst saveVoipNumbers = (numbers) => (dispatch) => {\n    dispatch({\n        type: ACTIONS.SAVE_VOIP_NUMBERS,\n        payload: numbers\n    });\n    if (numbers && numbers.voipNumbers && numbers.voipNumbers[0]) {\n        dispatch(selectVoipNumber(numbers.voipNumbers[0]));\n    }\n};\n\nexport const fetchVoipNumbers = (cityId) => (dispatch) => {\n    dispatch(voipNumbersFetching(true));\n    dispatch(saveVoipNumbers());\n    dispatch(voipNumbersFetched(false));\n    return RemoteApi.fetchVoipNumbers(cityId)\n        .then((response) => {\n            dispatch(saveVoipNumbers(response));\n            dispatch(voipNumbersFetched(true));\n            dispatch(voipNumbersFetching(false));\n            return response;\n        });\n};\n\n\nexport const voipSelection = (voipSelection) => (dispatch, getState) => {\n    const voipFetching = getNumbersFetching(getState());\n    const voipFetched = getNumbersFetched(getState());\n    if (!voipFetching && !voipFetched) {\n        dispatch(fetchVoipNumbers(getWwtCityId(getState())));\n    }\n    dispatch({type: ACTIONS.VOIP_SELECTION, source: \"voipSelection\", payload: voipSelection});\n};\n\nexport const fetchingVoipNumbersWithMultiCallBlock = (cityId) => (dispatch, getState) => {\n    const voipFetching = getNumbersFetching(getState());\n    const voipFetched = getNumbersFetched(getState());\n    if (!voipFetching && !voipFetched) {\n        dispatch(fetchVoipNumbers(cityId));\n    }\n};\n\nexport const saveSelectedVoipNumber = (number) => (dispatch, getState) => {\n    const secondaryChoiceOffer = isSecondaryChoiceOfferSelected(getState());\n    const offerId = getSelectedOfferId(getState());\n    RemoteApi.saveSelectedVoipNumber(number)\n        .then(() => {\n            dispatch({\n                type: ACTIONS.VOIP_NUMBER_SELECTED\n            });\n            if (!!offerId) {\n                dispatch(addToCart(offerId, secondaryChoiceOffer));\n            }\n        });\n};\n\nexport const mountVoipModalComponent = () => (dispatch) => {\n    dispatch({type: ACTIONS.MOUNT_VOIP_MODAL_COMPONENT_ACTION});\n};\n\nexport const selectVoipVariant = (voipVariant) => (dispatch) => {\n    dispatch({\n        type: ACTIONS.VOIP_VARIANT,\n        payload: voipVariant\n    });\n};\n\nexport const showVoipVariantModal = (show) => (dispatch) => {\n    dispatch({\n        type: ACTIONS.SHOW_VOIP_VARIANT_MODAL,\n        payload: show\n    });\n};\n\nexport const showVoipNumbersModal = (show) => (dispatch) => {\n    dispatch({\n        type: ACTIONS.SHOW_VOIP_NUMBERS_MODAL,\n        payload: show\n    });\n};\n\nexport const saveDesignationNumber = (designationNumber) => (dispatch) => {\n  dispatch({\n      type: ACTIONS.DESIGNATION_NUMBER,\n      payload: designationNumber\n  });\n};\n"],
    "file": "voip.js"
}