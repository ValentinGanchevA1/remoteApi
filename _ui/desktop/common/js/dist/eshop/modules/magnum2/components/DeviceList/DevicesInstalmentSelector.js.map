{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/magnum2/components/DeviceList/DevicesInstalmentSelector.jsx"],
    "names": ["DevicesInstalmentSelector", "props", "installmentsAccordingToTemplate", "state", "defaultSelectDictionary", "filter", "v", "selectedProposition", "deviceInstalmentsCount", "indexOf", "value", "installmentsAccordingToTemplateWithoutAllOption", "length", "option", "selectDeviceInstalmentsCount", "target", "onChange", "selectedBaseDeviceCode", "elementId", "prepareInstalments", "floatingLabel", "selectedDeviceInstalmentsCountValue", "isDisable", "selectDeviceInstalmentsCountChangeHandler", "Component", "PropTypes", "string", "object", "func", "width", "number", "mapStateToProps", "magnum", "mapDispatchToProps", "dispatch", "parseInt", "defaultProps"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\n\n\nimport {setDeviceInstallmentsInSessionForMagnum} from \"eshop/modules/configurator/actions/offers\";\nimport {getSelectedBaseDeviceCode} from \"eshop/modules/simfree/selectors\";\nimport {getCurrentDeviceInstalmentsCountValue} from \"eshop/modules/configurator/selectors/offers\";\nimport SelectWithFloatingLabel from \"eshop/modules/magnum2/components/SelectWithFloatingLable\";\n\n\nclass DevicesInstalmentSelector extends Component {\n\t\n\tstatic propTypes = {\n\t\tfloatingLabel: PropTypes.string,\n\t\tselectedProposition: PropTypes.object,\n\t\tonChange: PropTypes.func,\n\t\twidth: PropTypes.number\n\t};  \n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdefaultSelectDictionary: [\n\t\t\t\t{\"value\":-1, \"label\": \"Wszystkie\"},\n\t\t\t\t{\"value\":12, \"label\": \"12 rat\"},\n\t\t\t\t{\"value\":24, \"label\": \"24 raty\"},\n\t\t\t\t{\"value\":36, \"label\": \"36 rat\"},\n\t\t\t\t{\"value\":48, \"label\": \"48 rat\"}\n\t\t\t]\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<SelectWithFloatingLabel\n\t\t\t\tid={this.props.elementId}\n\t\t\t\toptions={this.prepareInstalments()}\n\t\t\t\tplaceholder={this.props.floatingLabel}\n\t\t\t\tvalue={this.props.selectedDeviceInstalmentsCountValue}\n\t\t\t\tdisabled={this.isDisable()}\n\t\t\t\tonChange={this.selectDeviceInstalmentsCountChangeHandler}\n\t\t\t/>\n\t\t)\n\t}\n\n\tprepareInstalments = () => {\n\t\tlet installmentsAccordingToTemplate = this.state.defaultSelectDictionary.filter( v => this.props.selectedProposition.deviceInstalmentsCount && this.props.selectedProposition.deviceInstalmentsCount.indexOf(v.value)>-1 || v.value == -1)\n\t\tlet installmentsAccordingToTemplateWithoutAllOption = installmentsAccordingToTemplate.filter(v => v.value != -1)\n\n\t\tif(installmentsAccordingToTemplateWithoutAllOption.length == 1) {\n\t\t\treturn installmentsAccordingToTemplateWithoutAllOption\n\t\t} else {\n\t\t\treturn installmentsAccordingToTemplate\n\t\t}\n\t}\n\n\tselectDeviceInstalmentsCountChangeHandler = (option) => {\n\t\tthis.props.selectDeviceInstalmentsCount(option.target.value);\n\t\tthis.props.onChange && this.props.onChange(option);\n\t}\n\n\tisDisable = () => {\n        let installmentsAccordingToTemplate = this.state.defaultSelectDictionary.filter( v => this.props.selectedProposition.deviceInstalmentsCount && this.props.selectedProposition.deviceInstalmentsCount.indexOf(v.value)>-1 || v.value === -1);\n        let installmentsAccordingToTemplateWithoutAllOption = installmentsAccordingToTemplate.filter(v => v.value !== -1);\n\n\t\treturn installmentsAccordingToTemplateWithoutAllOption.length === 1;\n\t};\n\n\tisProductCard = () => {\n\t\treturn this.props.selectedBaseDeviceCode !== \"\";\n\t}\n\n}\n\nconst mapStateToProps = state => ({\n    selectedProposition: state.magnum.selectedProposition,\n    selectedDeviceInstalmentsCountValue: getCurrentDeviceInstalmentsCountValue(state),\n    selectedBaseDeviceCode: getSelectedBaseDeviceCode(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n    selectDeviceInstalmentsCount: (value) => dispatch(setDeviceInstallmentsInSessionForMagnum(parseInt(value)))\n});\n\nDevicesInstalmentSelector.defaultProps = {\n\tfloatingLabel: \"Liczba rat za telefon lub urzÄ…dzenie\",\n\telementId: \"deviceInstallmentsCountFilterMagnum\"\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(DevicesInstalmentSelector);"],
    "file": "DevicesInstalmentSelector.js"
}