{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/magnum2/components/documents/OraDocumentsSection.jsx"],
    "names": ["OraOffersDocumentsExpander", "prevProps", "prevDurationListRequestStateWaiting", "durationList", "requestState", "RequestState", "Waiting", "currentDurationListRequestStateSuccess", "props", "Success", "fetchDocuments", "descriptions", "sectionName", "split", "map", "key", "trim", "_", "isEmpty", "documents", "content", "documentKeys", "getDocumentKeys", "i", "length", "list", "push", "noDocuments", "fetchDocumentsMessage", "toggleHeader", "sectionHeader", "expandSection", "collapseSection", "loaderMessage", "downloadDocumentMessage", "showLoader", "documentsMetadata", "documentBeingDownloaded", "isContentLoading", "isLoading", "renderContentLoader", "renderContent", "Component", "PropTypes", "shape", "string", "oneOfType", "array", "object", "bool", "func", "mapStateToProps", "state", "magnum", "metadata", "loading", "mapDispatchToProps", "dispatch"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\nimport _ from \"lodash\";\n\nimport {Expander, Section, Toggle} from \"../../../core/components/ui/Expander\";\nimport OraDocumentsSectionCategory from \"./OraDocumentsSectionCategory\";\nimport FullScreenLoader from \"../FullScreenLoader\";\nimport {fetchDocuments} from \"../../actions/data\";\nimport {RequestState} from \"../../../core/constants/RequestState\";\n\nexport class OraOffersDocumentsExpander extends Component {\n    static propTypes = {\n        descriptions: PropTypes.shape({\n            sectionName: PropTypes.string,\n            noDocuments: PropTypes.string,\n            expandSection: PropTypes.string,\n            collapseSection: PropTypes.string,\n            fetchDocumentsMessage: PropTypes.string,\n            downloadDocumentMessage: PropTypes.string,\n        }),\n        documents: PropTypes.oneOfType([\n            PropTypes.array,\n            PropTypes.object\n        ]),\n        documentsMetadata: PropTypes.object,\n        isLoading: PropTypes.bool,\n        durationList: PropTypes.object,\n        fetchDocuments: PropTypes.func\n    };\n\n    componentDidUpdate(prevProps) {\n        const prevDurationListRequestStateWaiting = prevProps.durationList.requestState === RequestState.Waiting;\n        const currentDurationListRequestStateSuccess = this.props.durationList.requestState === RequestState.Success;\n\n        if (prevDurationListRequestStateWaiting && currentDurationListRequestStateSuccess) {\n            this.props.fetchDocuments();\n        }\n    }\n\n    getDocumentKeys() {\n        return this.props.descriptions.sectionName.split(',').map(key => key.trim());\n    }\n\n    renderContent() {\n        if(!(_.isEmpty(this.props.documents))){\n            const content = [];\n            const documentKeys = this.getDocumentKeys();\n            for (let i = 0; i < documentKeys.length ; i++) {\n                const list = this.props.documents[documentKeys[i]];\n                if(list){\n                    content.push(<OraDocumentsSectionCategory documents={list} header={documentKeys[i]} key={i}/>)\n                }\n            }\n            return content;\n        }\n        return <div className=\"u-padding-left-l-xl u-small-no-padding-l u-padding-m\">{this.props.descriptions.noDocuments}</div>;\n    }\n\n    renderContentLoader() {\n        return (\n            <div className=\"u-padding-left-l-xl u-small-no-padding-l u-padding-m\">\n                <span>{this.props.descriptions.fetchDocumentsMessage}...</span>\n            </div>\n        );\n    }\n\n    render() {\n        const {descriptions} = this.props;\n        const toggleHeader = <h2 className=\"h4 opl-section__heading\">{descriptions.sectionName}</h2>;\n        const sectionHeader = (\n            <div className=\"l-row\" >\n                <Toggle variant=\"arrow\" header={toggleHeader} className=\"l-col l-col-12 \" triggerClassName=\"opl-document__expander__trigger\">\n                    <span className=\"opl-section__text-show\">{descriptions.expandSection} {descriptions.sectionName}</span>\n                    <span className=\"opl-section__text-hide\">{descriptions.collapseSection} {descriptions.sectionName}</span>\n                </Toggle>\n            </div>\n        );\n\n        const loaderMessage = descriptions.downloadDocumentMessage;\n        const showLoader = this.props.documentsMetadata && this.props.documentsMetadata.documentBeingDownloaded !== '';\n        const isContentLoading = this.props.isLoading;\n\n        return (\n            <div>\n                <FullScreenLoader\n                    id=\"document-all-loader-id\"\n                    showLoader={showLoader}\n                    message={loaderMessage}\n                    showClose={true}\n                />\n                <Expander id=\"doc_expander\"\n                    variant=\"section\"\n                    sectionClassName=\"opl-checkout-section\"\n                    summaryClassName=\"opl-section__border-bottom\"\n                    toggleClassName=\"h4 opl-checkout-section__heading\"\n                >\n                    <Section header={sectionHeader}>\n                        <div className=\"l-page-row\">\n                            {isContentLoading ? this.renderContentLoader() : this.renderContent()}\n                        </div>\n                    </Section>\n                </Expander>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    documents: state.magnum.documents.list,\n    documentsMetadata: state.documents.metadata,\n    isLoading: state.magnum.documents.loading,\n    durationList: state.magnum.durationList\n});\n\nconst mapDispatchToProps = dispatch => ({\n    ...bindActionCreators({\n        fetchDocuments\n    }, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OraOffersDocumentsExpander);\n"],
    "file": "OraDocumentsSection.js"
}