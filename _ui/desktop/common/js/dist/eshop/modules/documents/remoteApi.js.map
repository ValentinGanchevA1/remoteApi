{
    "version": 3,
    "sources": ["../../../../../es6/eshop/modules/documents/remoteApi.js"],
    "names": ["prepareUrl", "url", "bsfContextPath", "prefixWWW", "DOCUMENTS_PATH", "documentsComponentPk", "val", "getDocumentsForCart", "legalForm", "Promise", "resolve", "getDocumentsForCartUnfiltered", "checkDocumentExistence", "data", "createDocument", "then", "r", "findDocumentInLocalStorage", "getDocuments", "removeDocuments", "getDocumentsToMerge", "downloadMergedDocuments", "prepareDocumentsToMerge", "createMergeDocumentUrl", "bundleNo", "prepareDocumentsToZip", "componentId", "getZipDocumentsUrl"],
    "mappings": "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",
    "sourcesContent": ["import {get, poll} from \"eshop/flux/utils/OraApiUtils\";\nimport {downloadFile} from \"../checkout/actions/data\";\nimport $ from \"jquery\";\n\nconst prepareUrl = (url) => bsfContextPath  + (typeof prefixWWW !== \"undefined\" ? prefixWWW : \"\")  + url\nconst DOCUMENTS_PATH = '/documents';\n\nconst documentsComponentPk = $('#documentsComponentPk').val();\n\nexport default {\n\n    /**\n     * Gets documents for assigned to session cart\n     * @returns Object[]\n     */\n    getDocumentsForCart: (legalForm) => {\n        if(documentsComponentPk){\n           return get(prepareUrl(DOCUMENTS_PATH + '/getDocumentsForCart/' + documentsComponentPk), {legalForm: legalForm});\n        }else {\n            return new Promise(\n                (resolve) => resolve([])\n            );\n        }\n    },\n\n    /**\n     * Gets unfiltered documents for assigned to session cart\n     * @returns Object[]\n     */\n    getDocumentsForCartUnfiltered: (legalForm) => get(prepareUrl(DOCUMENTS_PATH + '/getDocumentsForCartUnfiltered/' + documentsComponentPk), {legalForm: legalForm}),\n\n    /**\n     * Checks if document exists\n     * @param {Object} data\n     * @returns Boolean\n     */\n    checkDocumentExistence: (data) => get(prepareUrl(DOCUMENTS_PATH + '/checkDocumentExistence'), data),\n\n    createDocument: (data) => get(prepareUrl(DOCUMENTS_PATH + '/createDocuments'), data).then(() =>\n        poll(prepareUrl(DOCUMENTS_PATH + '/createDocumentAsyncResult'), null, r => r === true)\n    ),\n\n    /**\n     *\n     * @param {Object} data - Data should contain documentCode and bundleNo values\n     */\n    findDocumentInLocalStorage: (data) => get(prepareUrl(DOCUMENTS_PATH + '/findDocumentInLocalStorage'), data),\n\n    getDocuments: (data) => get(prepareUrl(DOCUMENTS_PATH + '/getDocuments'), data).then(() =>\n        poll(prepareUrl(DOCUMENTS_PATH + '/getDocumentAsyncResult'), data, r => r === true)\n    ),\n\n    removeDocuments: () => get(\"/documents/removeDynamicDocument\"),\n    getDocumentsToMerge: () => get(prepareUrl(DOCUMENTS_PATH + '/to-merge')),\n    downloadMergedDocuments: () => downloadFile(prepareUrl(DOCUMENTS_PATH + \"/mergeDocuments/\" + documentsComponentPk)),\n    prepareDocumentsToMerge: (data) => get(prepareUrl(DOCUMENTS_PATH + '/prepareToMerge'), data).then(() =>\n        poll(prepareUrl(DOCUMENTS_PATH + '/readyToMerge'), data, r => r === true)\n    ),\n    createMergeDocumentUrl: bundleNo => `/documents/merge?bundleNo=${bundleNo}`,\n    prepareDocumentsToZip: data => get(prepareUrl(DOCUMENTS_PATH + '/prepareToZip'), {...data, componentId: documentsComponentPk}).then(() =>\n        poll(prepareUrl(DOCUMENTS_PATH + '/readyToZip'), {...data, componentId: documentsComponentPk}, r => r === true)\n    ),\n    getZipDocumentsUrl: data => `/documents/zip?componentId=${documentsComponentPk}&legalForm=${data.legalForm}`\n}"],
    "file": "remoteApi.js"
}