{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/checkout/utils/MiniCartUtils.js"],
    "names": ["getAllCartEntries", "miniCartData", "_", "flatMap", "entries", "entry", "entryType", "is2UCartEntry", "cartEntry", "bundleTypes_2U", "BundleTypeEnum", "_1P_PRE", "VOICE", "sort", "isEqual", "getCartBundleTypes", "is4UCartEntry", "bundleTypes_4U", "_3P_PRE", "bundleType", "uniq", "map", "isVoiceCartEntry", "indexOf", "cartEntriesContainsReservableItems", "filter", "entryContainsReservableSimCard", "entryContainsReservableTerminals", "entryContainsEurosets", "entryContainsBroadbandFixProducts", "entryContainsTvFixProducts", "length", "isSim", "msisdn", "simCard", "reservable", "cartContainsEsim", "terminals", "terminal", "migrated", "isSerialNumberRequired", "euroSets", "euroSet", "setElements", "broadbandFixProduct", "devices", "device", "tvFixProduct"],
    "mappings": "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",
    "sourcesContent": ["import _ from \"lodash\";\nimport BundleTypeEnum from \"../../cart/components/entriesList/BundleTypeEnum\";\n\nexport const getAllCartEntries = (miniCartData) => {\n    return _.flatMap(miniCartData.entries, entry => {\n        if (entry.entryType === \"CONVERGENT\") {\n            return entry.entries;\n        } else {\n            return [entry];\n        }\n    });\n};\n\nexport function is2UCartEntry(cartEntry) {\n    const bundleTypes_2U = [BundleTypeEnum._1P_PRE, BundleTypeEnum.VOICE].sort();\n    return _.isEqual(bundleTypes_2U, getCartBundleTypes(cartEntry));\n}\n\nexport function is4UCartEntry(cartEntry) {\n    const bundleTypes_4U = [BundleTypeEnum._3P_PRE, BundleTypeEnum.VOICE].sort();\n    return _.isEqual(bundleTypes_4U, getCartBundleTypes(cartEntry));\n}\n\nfunction getCartBundleTypes(cartEntry) {\n    if (cartEntry.entryType !== \"CONVERGENT\") {\n        return [cartEntry.bundleType];\n    } else {\n        return _.uniq(cartEntry.entries.map(entry => entry.bundleType)).sort();\n    }\n}\nexport const isVoiceCartEntry = cartEntry => {\n    return getCartBundleTypes(cartEntry).indexOf(BundleTypeEnum.VOICE) > -1;\n};\nexport const cartEntriesContainsReservableItems = entries => {\n    return entries.filter(entry => entryContainsReservableSimCard(entry)\n        || entryContainsReservableTerminals(entry)\n        || entryContainsEurosets(entry)\n        || entryContainsBroadbandFixProducts(entry)\n        || entryContainsTvFixProducts(entry)\n    ).length > 0;\n};\n\nexport const entryContainsReservableSimCard = entry => entry.isSim && entry.msisdn && entry.simCard && entry.simCard.reservable;\n\nexport const cartContainsEsim = entries => {\n    return entries.filter(entry => entry.isSim && entry.simCard).length > 0;\n};\n\nconst entryContainsReservableTerminals = entry => {\n    if (!entry.terminals) {\n        return false;\n    }\n    return entry.terminals.filter(terminal => (!terminal.migrated && terminal.isSerialNumberRequired) || entry.entryType === 'MOBILE' || entry.entryType === 'SIMFREE').length > 0;\n};\n\nconst entryContainsEurosets = entry => {\n    if (!entry.euroSets) {\n        return false;\n    }\n    return entry.euroSets.filter(euroSet => euroSet.setElements && euroSet.setElements.length > 0).length > 0;\n};\n\nconst entryContainsBroadbandFixProducts = entry => {\n    if (!entry.broadbandFixProduct || !entry.broadbandFixProduct.devices) {\n        return false;\n    }\n    return entry.broadbandFixProduct.devices.filter(device => !device.migrated && device.isSerialNumberRequired).length > 0;\n};\n\nconst entryContainsTvFixProducts = entry => {\n    if (!entry.tvFixProduct || !entry.tvFixProduct.devices) {\n        return false;\n    }\n    return entry.tvFixProduct.devices.filter((device) => !device.migrated && device.isSerialNumberRequired).length > 0;\n};"],
    "file": "MiniCartUtils.js"
}