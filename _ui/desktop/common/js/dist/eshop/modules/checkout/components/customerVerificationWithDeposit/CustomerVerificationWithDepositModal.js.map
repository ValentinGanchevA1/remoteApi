{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/checkout/components/customerVerificationWithDeposit/CustomerVerificationWithDepositModal.jsx"],
    "names": ["CustomerVerificationWithDepositModalView", "props", "state", "checkboxAccepted", "showPaymentWarning", "OPL", "UI", "loadModules", "document", "getElementById", "path", "options", "setState", "handleRepayment", "event", "target", "checked", "removeFromCartWithRedirect", "window", "location", "protocol", "host", "join", "channels", "sales", "errors", "some", "cvVer", "paytelAcceptable", "allowDepositAcceptance", "length", "onClose", "bind", "descriptions", "verificationResultTitle", "positiveVerificationSectionShouldBeVisible", "positiveVerification", "productsWithOutDeposit", "renderSeparatorLine", "_renderPositiveVerificationSection", "depositRequired", "tooltipDepositDefinition", "depositAcceptanceInfo", "productsWithDeposit", "depositValue", "_renderNegativeVerificationSection", "isPaytelAcceptable", "handleCheckboxChange", "_renderButtons", "cartData", "entries", "filter", "entry", "findDepositValueForBundle", "bundleNo", "map", "index", "findDepositSum", "handleRepaymentDeposit", "gotoNextCheckoutStep", "handleAccept", "acceptDepositButton", "backToCartSummary", "backToCartButton", "handleValidateAndOrderItems", "cancelOrderButton", "result", "error", "bundleNumber", "deposit", "depositForBundle", "Component", "mapStateToProps", "mapDispatchToProps", "dispatch", "dismiss", "dismissCVWithDepositErrors", "doCheckoutStep", "href", "CustomerVerificationWithDepositModal"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {getCVWithDepositErrors} from \"../../selectors\";\nimport {getMiniCartData} from \"eshop/modules/cart/selectors\";\nimport {gotoCartSummary, doCheckoutStep, gotoNextCheckoutStep} from \"../../actions/app\";\nimport {removeFromCartWithRedirect, handleRepaymentDeposit} from \"eshop/modules/cart/actions/cart\";\nimport OraModal from \"eshop/modules/core/components/ui/Modal\";\nimport {OraButton} from \"eshop/components/OraCommonComponents\";\nimport CustomerVerificationProductLineComponent from \"./CustomerVerificationProductLineComponent\";\n\n\nclass CustomerVerificationWithDepositModalView extends Component{\n    constructor(props){\n        super(props);\n          this.state =  {checkboxAccepted: false, showPaymentWarning: false};\n    }\n\n    componentDidMount() {\n        OPL.UI.loadModules(document.getElementById('deposit_modal_tooltip'), [{\n            path: 'core/modules/tooltips',\n            options: {\"mouseoverMinWidth\":0, \"triggerEvent\": \"mouseover\"}\n        }]);\n    }\n    handleRepayment(){\n        if(!this.state.checkboxAccepted){\n            this.setState({showPaymentWarning: true});\n        }else{\n            this.props.handleRepayment();\n        }\n    }\n    handleCheckboxChange(event){\n        this.setState({checkboxAccepted : event.target.checked});\n        this.setState({showPaymentWarning : !event.target.checked});\n    }\n\n    onClose() {\n//        this.props.dismiss();\n    }\n\n    handleValidateAndOrderItems() {\n        this.props.removeFromCartWithRedirect([window.location.protocol, '//', window.location.host, '/sklep'].join(''));\n    }\n    isPaytelAcceptable(){\n        return (this.props.channels.sales=='POS' || this.props.channels.sales=='AKA') && this.props.errors.some((cvVer) => {return !!cvVer.paytelAcceptable}) && this.allowDepositAcceptance();\n\n    }\n    render() {\n        return (\n            <div>\n                <OraModal id={\"customer-verification-with-deposit-modal\"} showClose={true} open={this.props.errors && this.props.errors.length > 0} onClose={this.onClose.bind(this)} size=\"medium\">\n                    <div className=\"u-padding-all-m u-small-padding-s\">\n                        <div className=\"l-row u-spacing-top-m\">\n                            <div className=\"opl-msg opl-msg--context opl-msg--warn\">\n                                <span className=\"u-font-bold u-font-large u-no-margin\"><b>{this.props.descriptions.verificationResultTitle}</b></span>\n                            </div>\n                            <div hidden={!this.positiveVerificationSectionShouldBeVisible()}>\n                                <div className=\"u-padding-top-m u-padding-m\">\n                                    <span className=\"u-font-bold u-no-margin\">{this.props.descriptions.positiveVerification}</span>\n                                </div>\n                                <div className=\"u-border u-padding-all-m\">\n                                    <span className=\"u-font-bold u-no-margin\">{this.props.descriptions.productsWithOutDeposit}</span>\n                                    {this.renderSeparatorLine()}\n                                    {this._renderPositiveVerificationSection()}\n                                </div>\n                            </div>\n                            <div data-js-module=\"core/modules/tooltips\" id=\"deposit_modal_tooltip\">\n                                <span className=\"u-padding-right-s\"><b>{this.props.descriptions.depositRequired}</b></span>\n                                    <a href=\"#\" data-type=\"no-click\" data-tooltip-trigger-event=\"mouseover\" className=\"o-tooltip__trigger\">\n                                        <span className=\"g-icon g-icon--info g-icon--xs-s\"/>\n                                    </a>\n                                <span className=\"o-tooltip__content\"> {this.props.descriptions.tooltipDepositDefinition} </span>\n                            </div>\n                            <div className=\"u-padding-top-m u-padding-m\">\n                                <span>\n                                    {this.props.descriptions.depositAcceptanceInfo}\n                                </span>\n                            </div>\n                            <div className=\"u-border u-border--l g-brand2-bdrc u-padding-all-m\">\n                                <table role=\"presentation\">\n                                    <tbody>\n                                       <tr>\n                                       <td colspan=\"4\">\n                                            <span className=\"u-font-bold u-no-margin\">{this.props.descriptions.productsWithDeposit}</span>\n                                       </td>\n                                       <td colspan=\"1\" className=\"u-text-right \">\n                                            <span className=\"u-font-bold u-no-margin\">{this.props.descriptions.depositValue}</span>\n                                       </td>\n                                       </tr>\n                                    </tbody>\n                                </table>\n                                {this.renderSeparatorLine()}\n                                {this._renderNegativeVerificationSection()}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"u-padding-all-s u-small-padding-s\">\n                        <table className=\"u-table-fixed\">\n                        <tbody>\n                             {this.isPaytelAcceptable() &&\n                             <tr className=\"\">\n                                <td className=\"\" colSpan=\"2\">\n                                 <label className=\"o-checkbox opl-checkbox opl-checkbox--black\">\n                                    <input type=\"checkbox\" onChange={event => {this.handleCheckboxChange(event)}}/> <span className=\"o-ci\"></span>\n                                       <span className=\"o-ci-label\"><strong>{\"Kontynuuj zamówienie ze spłatą zadłużenia\"} </strong></span>\n                                 </label>\n                                </td>\n                            </tr>}\n                             {this.isPaytelAcceptable() &&\n                             <tr className=\"\">\n                                <td colSpan=\"2\" className=\"u-padding-top-s\">\n                                        {\"Zaznacz powyższe i kontynuuj jeśli Klient zgadza się na dokonanie spłaty zadłużenia na miejscu przez terminal Paytel\"}\n                                </td>\n                            </tr>}\n                            {this.isPaytelAcceptable() && this.state.showPaymentWarning &&\n                             <tr className=\"\">\n                                <td className=\"u-padding-top-l\" colSpan=\"2\">\n                                <div className=\"o-icon-text g-icon g-icon--error g-icon--before g-icon--xs-s g-redf-c \">\n                                    <p className=\"o-icon-text__text u-font-bold opl-msg--error\">Akceptacja jest wymagana do realizacji zamówienia.</p>\n                                </div>\n                                </td>\n                             </tr>\n                            }\n                         </tbody>\n                         </table>\n                     </div>\n                    {this._renderButtons()}\n                </OraModal>\n            </div>);\n    }\n\n    _renderPositiveVerificationSection(){\n        return (\n           <div>\n                {\n                    (this.props.cartData && this.props.cartData.entries) ?\n                        (\n                            this.props.cartData.entries.filter(entry => this.findDepositValueForBundle(entry.bundleNo) === 0).map((entry,index) => {\n                                return (\n                                    <CustomerVerificationProductLineComponent entry={entry}/>\n                                )\n                            })\n                        )\n                    : null\n                }\n            </div>\n        )\n    }\n\n    _renderNegativeVerificationSection(){\n        return (\n           <div>\n                {\n                    (this.props.cartData && this.props.cartData.entries) ?\n                        (\n                            this.props.cartData.entries.filter(entry => this.findDepositValueForBundle(entry.bundleNo) !== 0).map((entry,index) => {\n                                return (\n                                    <CustomerVerificationProductLineComponent entry={entry} deposit={this.findDepositValueForBundle(entry.bundleNo)}\n                                    reasons={this.props.errors}/>\n                                )\n                            })\n                        )\n                    : null\n                }\n                <div>\n                  <table role=\"presentation\" class=\"opl-checkout-header u-small-padding-s\">\n                    <tbody>\n                       <tr>\n                           <td colspan=\"4\" class=\"u-small-no-padding-b\">\n                                <div className=\"u-right\">\n                                    <span><b>Razem: </b></span>\n                                </div>\n                            </td>\n                            <td>\n                                <span className=\"u-right\">{this.findDepositSum()} zł</span>\n                            </td>\n                       </tr>\n                     </tbody>\n                   </table>\n                  </div>\n            </div>\n        )\n    }\n\n    handleAccept(){\n        if(this.isPaytelAcceptable() && !this.state.checkboxAccepted){\n            this.setState({showPaymentWarning : true});\n            return;\n        }\n        if(this.isPaytelAcceptable() && this.state.checkboxAccepted){\n            this.props.handleRepaymentDeposit();\n            return;\n        }\n        this.props.gotoNextCheckoutStep();\n    }\n     _renderButtons(){\n        return (\n            <div className=\"opl-form__button-row\">\n                  <div className=\"l-row\">\n                      <div className=\"l-col l-col-small-12 l-col-medium-5 l-col-5  u-right\" hidden={!this.allowDepositAcceptance()}>\n                          <OraButton className=\"u-right\"\n                              onClick={this.handleAccept.bind(this)}>\n                                  {this.props.descriptions.acceptDepositButton}\n                          </OraButton>\n                      </div>\n\n                     <div className=\"l-col l-col-small-12 l-col-medium-7 l-col-7 \">\n                        <div className=\"opl-form__button-row__part\">\n                            <OraButton\n                                onClick={this.props.backToCartSummary.bind(this)}\n                                 type=\"secondary\" size=\"small\">\n                                    {this.props.descriptions.backToCartButton}\n                            </OraButton>\n                            <OraButton\n                                onClick={this.handleValidateAndOrderItems.bind(this)}\n                                 type=\"secondary\" size=\"small\">\n                                    {this.props.descriptions.cancelOrderButton}\n                            </OraButton>\n                        </div>\n                     </div>\n                    </div>\n             </div>\n        )\n     }\n\n    renderSeparatorLine(){\n        return (\n            <div className=\"l-col l-col-12 u-padding-all-m u-no-padding-r u-no-padding-l\">\n                <div className=\"o-separator u-no-padding-all\"></div>\n            </div>\n        )\n\n    }\n\n    allowDepositAcceptance(){\n        var result = true;\n        if(this.props.errors){\n            this.props.errors.map((error, index) => {\n                if(!error.allowDepositAcceptance) {\n                    result = false;\n                    return;\n                }\n            });\n        }\n\n        return result;\n    }\n\n    positiveVerificationSectionShouldBeVisible(){\n        var result = false;\n        if(this.props.cartData && this.props.cartData.entries){\n            this.props.cartData.entries.filter(entry => this.findDepositValueForBundle(entry.bundleNo) === 0).map((entry,index) => {\n                result = true;\n                return;\n            });\n        }\n\n        return result;\n    }\n\n    findDepositValueForBundle(bundleNumber){\n        var result = 0;\n        if(this.props.errors){\n            this.props.errors.map((error, index) => {\n                if(error.bundleNo === bundleNumber && error.deposit) {\n                    result = error.deposit;\n                    return;\n                }\n            });\n        }\n\n        return result;\n    }\n\n    findDepositSum() {\n        var result = 0;\n        var depositForBundle = [];\n        if(this.props.errors){\n            this.props.errors.map((error, index) => {\n                if(error.deposit && !depositForBundle[error.bundleNo]) {\n                    result = result + error.deposit;\n                    depositForBundle[error.bundleNo] = error.deposit;\n                }\n            });\n        }\n\n        return result;\n    }\n}\n\nlet mapStateToProps = state => ({\n    errors: getCVWithDepositErrors(state),\n    cartData: getMiniCartData(state)\n});\nlet mapDispatchToProps = dispatch=> ({\n    dismiss:() => dispatch(dismissCVWithDepositErrors()),\n    backToCartSummary: () => dispatch(gotoCartSummary()),\n    doCheckoutStep: () => dispatch(doCheckoutStep()),\n    gotoNextCheckoutStep: () => dispatch(gotoNextCheckoutStep()),\n    removeFromCartWithRedirect: (href) => dispatch(removeFromCartWithRedirect(href)),\n    handleRepaymentDeposit: () => dispatch(handleRepaymentDeposit())\n});\n\nconst CustomerVerificationWithDepositModal = connect(mapStateToProps, mapDispatchToProps)(CustomerVerificationWithDepositModalView);\nexport default CustomerVerificationWithDepositModal;\n"],
    "file": "CustomerVerificationWithDepositModal.js"
}