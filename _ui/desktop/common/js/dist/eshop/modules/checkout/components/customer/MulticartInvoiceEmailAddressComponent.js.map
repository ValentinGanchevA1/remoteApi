{
    "version": 3,
    "sources": ["../../../../../../../es6/eshop/modules/checkout/components/customer/MulticartInvoiceEmailAddressComponent.jsx"],
    "names": ["MulticartInvoiceEmailAddressComponent", "props", "pickInvoiceEmail", "bind", "handleChange", "handleBlur", "OPL", "UI", "loadModules", "document", "getElementById", "component", "path", "options", "loadTooltipModule", "registerNextStepCondition", "changeInvoiceEmail", "email", "contactEmailFilledAndValid", "customerFinished", "changeInvoiceEmailMapping", "name", "unregisterNextStepCondition", "value", "defaultDescriptions", "descriptions", "isInvoiceEmail", "invoiceEmailMapping", "isContactEmail", "valid", "errors", "length", "showValidationMark", "invoiceEmail", "getDescription", "__html", "Component", "propTypes", "PropTypes", "string", "getInvoiceEmailForm"],
    "mappings": ";;;;;;;AAAA;AACA;AAEA;;;;;;MAMaA,qC;;;;;AACT,mDAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACf,gCAAMA,KAAN;AACA,YAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,2CAAxB;AACA,YAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,2CAApB;AACA,YAAKE,UAAL,GAAkB,MAAKA,UAAL,CAAgBF,IAAhB,2CAAlB;AAJe;AAKlB;;;;0CAEmB;AAChBG,QAAAA,GAAG,CAACC,EAAJ,CAAOC,WAAP,CAAmBC,QAAQ,CAACC,cAAT,CAAwB,aAAa,KAAKT,KAAL,CAAWU,SAAhD,CAAnB,EAA+E,CAAC;AAC5EC,UAAAA,IAAI,EAAE,uBADsE;AAE5EC,UAAAA,OAAO,EAAE;AAAC,iCAAqB,CAAtB;AAAyB,4BAAgB,WAAzC;AAAsD,wBAAW;AAAjE;AAFmE,SAAD,CAA/E;AAIH;;;0CAEmB;AAChB,aAAKC,iBAAL;AACA,aAAKb,KAAL,CAAWc,yBAAX,CAAqC,aAArC;AACA,aAAKd,KAAL,CAAWe,kBAAX,CAA8B,KAAKf,KAAL,CAAWgB,KAAzC;AACH;;;2CAEoB;AACjB,YAAI,CAAC,KAAKhB,KAAL,CAAWiB,0BAAZ,IAA0C,KAAKjB,KAAL,CAAWkB,gBAAzD,EAA2E;AACvE,eAAKlB,KAAL,CAAWmB,yBAAX,CAAqC,cAArC;AACH;AACJ;;;6CAEwB;AAAA,YAAPC,IAAO,QAAPA,IAAO;AACrB,aAAKpB,KAAL,CAAWmB,yBAAX,CAAqCC,IAArC;AACA,aAAKpB,KAAL,CAAWe,kBAAX,CAA8B,EAA9B;;AACA,YAAIK,IAAI,KAAK,cAAb,EAA6B;AACzB,eAAKpB,KAAL,CAAWc,yBAAX,CAAqC,aAArC;AACH,SAFD,MAEO;AACH,eAAKd,KAAL,CAAWqB,2BAAX,CAAuC,aAAvC;AACH;AACJ;;;0CAE2B;AAAA,YAAdD,IAAc,SAAdA,IAAc;AAAA,YAARE,KAAQ,SAARA,KAAQ;AACxB,aAAKtB,KAAL,CAAWe,kBAAX,CAA8BO,KAA9B,EAAqC,KAArC;AACH;;;wCAEmB;AAAA,YAARA,KAAQ,SAARA,KAAQ;AAChB,aAAKtB,KAAL,CAAWe,kBAAX,CAA8BO,KAA9B;AACH;;;qCAEcF,I,EAAM;AACjB,YAAMG,mBAAmB,GAAG;AACxB,0BAAgB,iBADQ;AAExB,yBAAe,6BAFS;AAGxB,wBAAc,kBAHU;AAIxB,0BAAgB,sBAJQ;AAKxB,8BAAoB,EALI;AAMxB,gCAAsB;AANE,SAA5B;AAQA,eAAO,KAAKvB,KAAL,CAAWwB,YAAX,CAAwBJ,IAAxB,KAAiCG,mBAAmB,CAACH,IAAD,CAA3D;AACH;;;+BAEQ;AACL,YAAIK,cAAc,GAAG,KAAKzB,KAAL,CAAW0B,mBAAX,KAAmC,cAAxD;AACA,YAAIC,cAAc,GAAG,KAAK3B,KAAL,CAAW0B,mBAAX,KAAmC,cAAxD;AACA,YAAIE,KAAK,GAAG,KAAK5B,KAAL,CAAW6B,MAAX,CAAkBC,MAAlB,KAA6B,CAAzC;AACA,YAAIC,kBAAkB,GAAG,KAAK/B,KAAL,CAAWgC,YAAX,GAA0B,KAAKhC,KAAL,CAAWgC,YAAX,CAAwBF,MAAxB,GAAiC,CAA3D,GAA+D,KAAxF;AACA,4BACI;AAAK,UAAA,SAAS,EAAC;AAAf,wBACI;AAAK,UAAA,SAAS,EAAC;AAAf,wBACI,yCAAK,KAAKG,cAAL,CAAoB,cAApB,CAAL,CADJ,CADJ,eAII;AAAK,UAAA,SAAS,EAAC,6BAAf;AAA6C,UAAA,EAAE,EAAE,aAAa,KAAKjC,KAAL,CAAWU;AAAzE,wBACI;AAAK,UAAA,SAAS,EAAC;AAAf,wBACI;AAAK,UAAA,SAAS,EAAC;AAAf,wBACI;AAAO,UAAA,SAAS,EAAC;AAAjB,wBACI,6BAAC,6BAAD;AAAU,UAAA,IAAI,EAAC,OAAf;AAAuB,UAAA,EAAE,EAAC,eAA1B;AAA0C,UAAA,IAAI,EAAC,cAA/C;AAA8D,UAAA,KAAK,EAAC,OAApE;AACU,UAAA,OAAO,EAAEiB,cADnB;AAEU,UAAA,QAAQ,EAAE,KAAK1B,gBAFzB;AAGU,UAAA,QAAQ,EAAE,CAAC,KAAKD,KAAL,CAAWiB;AAHhC,UADJ,eAMI;AAAM,UAAA,SAAS,EAAC;AAAhB,UANJ,eAOI;AAAM,UAAA,SAAS,EAAC;AAAhB,WAA8B,KAAKgB,cAAL,CAAoB,aAApB,CAA9B,CAPJ,CADJ,eAUI;AAAM,UAAA,SAAS,EAAC;AAAhB,WACC,KAAKA,cAAL,CAAoB,oBAApB,kBACD,wDAAM;AAAG,UAAA,IAAI,EAAC,GAAR;AAAY,uBAAU,UAAtB;AAAiC,wCAA2B,WAA5D;AACG,UAAA,SAAS,EAAC;AADb,wBAEE;AAAM,UAAA,SAAS,EAAC;AAAhB,UAFF,CAAN,eAII;AAAG,UAAA,SAAS,EAAC,oBAAb;AACG,UAAA,uBAAuB,EAAE;AAACC,YAAAA,MAAM,EAAE,KAAKD,cAAL,CAAoB,oBAApB;AAAT;AAD5B,UAJJ,CAFA,CAVJ,CADJ,eAuBI;AAAK,UAAA,SAAS,EAAC;AAAf,wBACI;AAAO,UAAA,SAAS,EAAC;AAAjB,wBACI,6BAAC,6BAAD;AAAU,UAAA,IAAI,EAAC,OAAf;AAAuB,UAAA,EAAE,EAAC,cAA1B;AAAyC,UAAA,IAAI,EAAC,cAA9C;AAA6D,UAAA,KAAK,EAAC,MAAnE;AACU,UAAA,OAAO,EAAER,cADnB;AAEU,UAAA,QAAQ,EAAE,KAAKxB;AAFzB,UADJ,eAKI;AAAM,UAAA,SAAS,EAAC;AAAhB,UALJ,eAMI;AAAM,UAAA,SAAS,EAAC;AAAhB,WAA8B,KAAKgC,cAAL,CAAoB,YAApB,CAA9B,CANJ,CADJ,eASI;AAAM,UAAA,SAAS,EAAC;AAAhB,WACC,KAAKA,cAAL,CAAoB,kBAApB,kBACD,wDACI;AAAG,UAAA,IAAI,EAAC,GAAR;AAAY,uBAAU,UAAtB;AAAiC,wCAA2B,WAA5D;AACG,UAAA,SAAS,EAAC;AADb,wBAEI;AAAM,UAAA,SAAS,EAAC;AAAhB,UAFJ,CADJ,eAKI;AAAG,UAAA,SAAS,EAAC,oBAAb;AACG,UAAA,uBAAuB,EAAE;AAACC,YAAAA,MAAM,EAAE,KAAKD,cAAL,CAAoB,kBAApB;AAAT;AAD5B,UALJ,CAFA,CATJ,CAvBJ,CADJ,CAJJ,eAoDI;AAAK,UAAA,SAAS,EAAC;AAAf,WACCR,cAAc,iBAEX,wDACI,6BAAC,qBAAD;AACI,UAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWgC,YADtB;AAEI,UAAA,IAAI,EAAE,cAFV;AAGI,UAAA,KAAK,EAAE,KAAKC,cAAL,CAAoB,cAApB,CAHX;AAII,UAAA,QAAQ,EAAE,KAAK9B,YAJnB;AAKI,UAAA,MAAM,EAAE,KAAKC,UALjB;AAMI,UAAA,SAAS,EAAE,CANf;AAOI,UAAA,MAAM,EAAE,KAAKJ,KAAL,CAAW6B,MAPvB;AAQI,UAAA,cAAc,EAAEE,kBARpB;AASI,UAAA,KAAK,EAAEH;AATX,UADJ,CAHJ,CApDJ,CADJ;AAyEH;;;IAvIsDO,gB;;;AA0I3DpC,EAAAA,qCAAqC,CAACqC,SAAtC,GAAkD;AAC9CJ,IAAAA,YAAY,EAAEK,mBAAUC;AADsB,GAAlD;;iBAIe,yBAAQC,8BAAR,EAA6B;AACxCpB,IAAAA,yBAAyB,EAAzBA,8BADwC;AAExCJ,IAAAA,kBAAkB,EAAlBA,uBAFwC;AAGxCD,IAAAA,yBAAyB,EAAzBA,+BAHwC;AAIxCO,IAAAA,2BAA2B,EAA3BA;AAJwC,GAA7B,EAKZtB,qCALY,C",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {OraInput} from \"eshop/components/OraCommonComponents\";\nimport LabeledInput from \"eshop/modules/core/components/hoc/LabeledInput\";\nimport {connect} from \"react-redux\";\nimport {getInvoiceEmailForm} from \"../../selectors\";\nimport {changeInvoiceEmail, changeInvoiceEmailMapping} from \"../../actions/app\";\nimport {registerNextStepCondition, unregisterNextStepCondition} from \"eshop/modules/checkout/actions/data\"\n\nexport class MulticartInvoiceEmailAddressComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.pickInvoiceEmail = this.pickInvoiceEmail.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n    }\n\n    loadTooltipModule() {\n        OPL.UI.loadModules(document.getElementById(\"tooltip-\" + this.props.component), [{\n            path: \"core/modules/tooltips\",\n            options: {\"mouseoverMinWidth\": 0, \"triggerEvent\": \"mouseover\", \"maxWidth\":300},\n        }]);\n    }\n\n    componentDidMount() {\n        this.loadTooltipModule();\n        this.props.registerNextStepCondition(\"invoiceData\");\n        this.props.changeInvoiceEmail(this.props.email);\n    }\n\n    componentDidUpdate() {\n        if (!this.props.contactEmailFilledAndValid && this.props.customerFinished) {\n            this.props.changeInvoiceEmailMapping(\"invoiceEmail\");\n        }\n    }\n\n    pickInvoiceEmail({name}) {\n        this.props.changeInvoiceEmailMapping(name);\n        this.props.changeInvoiceEmail(\"\");\n        if (name === \"invoiceEmail\") {\n            this.props.registerNextStepCondition(\"invoiceData\");\n        } else {\n            this.props.unregisterNextStepCondition(\"invoiceData\");\n        }\n    }\n\n    handleChange({name, value}) {\n        this.props.changeInvoiceEmail(value, false);\n    }\n\n    handleBlur({value}) {\n        this.props.changeInvoiceEmail(value);\n    }\n\n    getDescription(name) {\n        const defaultDescriptions = {\n            'sectionTitle': 'Adres e-faktury',\n            'sameAsAbove': 'Taki sam jak podany powyÅ¼ej',\n            'otherEmail': 'Inny adres email',\n            'invoiceEmail': 'E-mail dla e-faktury',\n            'otherEmailToolip': \"\",\n            'sameAsAboveTooltip': \"\",\n        };\n        return this.props.descriptions[name] || defaultDescriptions[name];\n    }\n\n    render() {\n        let isInvoiceEmail = this.props.invoiceEmailMapping === \"invoiceEmail\";\n        let isContactEmail = this.props.invoiceEmailMapping === \"contactEmail\";\n        let valid = this.props.errors.length === 0;\n        let showValidationMark = this.props.invoiceEmail ? this.props.invoiceEmail.length > 0 : false;\n        return (\n            <div className=\"opl-form u-padding-l u-left  l-col l-col-small-12 l-col-medium-12 l-col-12 u-no-padding-right u-no-padding-left\">\n                <div className=\"l-col l-col-small-12 l-col-medium-12 l-col-12 u-no-padding-l u-spacing-top-l\">\n                    <h3>{this.getDescription('sectionTitle')}</h3>\n                </div>\n                <div className=\"u-padding u-no-padding-left\" id={\"tooltip-\" + this.props.component}>\n                    <div className=\"opl-radiogroup opl-inputgroup opl-inputgroup--vertical\">\n                        <div className=\"l-row u-no-margin\">\n                            <label className=\"o-radio opl-radio u-padding\">\n                                <OraInput type=\"radio\" id=\"switch_right4\" name=\"contactEmail\" value=\"close\"\n                                          checked={isContactEmail}\n                                          onChange={this.pickInvoiceEmail}\n                                          disabled={!this.props.contactEmailFilledAndValid}\n                                />\n                                <span className=\"o-ci\"></span>\n                                <span className=\"o-ci-label\">{this.getDescription('sameAsAbove')}</span>\n                            </label>\n                            <span className=\"u-padding-left u-left\">\n                            {this.getDescription('sameAsAboveTooltip') &&\n                            <span><a href=\"#\" data-type=\"no-click\" data-tooltip-trigger-event=\"mouseover\"\n                                     className=\"o-tooltip__trigger o-tooltip--top u-inline-block\">\n                                    <span className=\"g-icon g-icon--hint g-icon--font g-icon--xs\"/>\n                                </a>\n                                <p className=\"o-tooltip__content\"\n                                   dangerouslySetInnerHTML={{__html: this.getDescription('sameAsAboveTooltip')}}></p>\n                                </span>\n                            }\n                            </span>\n                        </div>\n                        <div className=\"l-row u-no-margin\">\n                            <label className=\"o-radio opl-radio\">\n                                <OraInput type=\"radio\" id=\"switch_left3\" name=\"invoiceEmail\" value=\"open\"\n                                          checked={isInvoiceEmail}\n                                          onChange={this.pickInvoiceEmail}\n                                />\n                                <span className=\"o-ci\"></span>\n                                <span className=\"o-ci-label\">{this.getDescription('otherEmail')}</span>\n                            </label>\n                            <span className=\"u-padding-left u-left\">\n                            {this.getDescription('otherEmailToolip') &&\n                            <span>\n                                <a href=\"#\" data-type=\"no-click\" data-tooltip-trigger-event=\"mouseover\"\n                                   className=\"o-tooltip__trigger o-tooltip--top u-inline-block\">\n                                    <span className=\"g-icon g-icon--hint g-icon--font g-icon--xs\"></span>\n                                </a>\n                                <p className=\"o-tooltip__content\"\n                                   dangerouslySetInnerHTML={{__html: this.getDescription('otherEmailToolip')}}></p>\n                            </span>\n                            }\n                        </span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"l-row u-small-padding-l u-padding-left u-padding-right\">\n                {isInvoiceEmail &&\n\n                    <span>\n                        <LabeledInput\n                            value={this.props.invoiceEmail}\n                            name={\"invoiceEmail\"}\n                            label={this.getDescription('invoiceEmail')}\n                            onChange={this.handleChange}\n                            onBlur={this.handleBlur}\n                            minLength={3}\n                            errors={this.props.errors}\n                            validationMark={showValidationMark}\n                            valid={valid}\n                        />\n                    </span>\n                }\n                </div>\n            </div>\n        )\n    }\n}\n\nMulticartInvoiceEmailAddressComponent.propTypes = {\n    invoiceEmail: PropTypes.string\n};\n\nexport default connect(getInvoiceEmailForm, {\n    changeInvoiceEmailMapping,\n    changeInvoiceEmail,\n    registerNextStepCondition,\n    unregisterNextStepCondition\n})(MulticartInvoiceEmailAddressComponent);\n\n"],
    "file": "MulticartInvoiceEmailAddressComponent.js"
}