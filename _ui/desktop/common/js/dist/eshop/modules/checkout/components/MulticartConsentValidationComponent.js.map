{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/checkout/components/MulticartConsentValidationComponent.jsx"],
    "names": ["MulticartConsentValidationComponent", "props", "getParentSectionId", "removeClass", "parent", "ref", "closest", "attr", "consentsErrorMsg", "errorElem", "consentsErrorList", "consent", "correspondingBa", "bundleAssignments", "error", "isMandatory", "state", "offset", "no", "className", "scrollOffset", "scrollOffsetCalculateFrom", "scrollOffsetCalculateTo", "ScrollableComponent", "defaultProps", "show"],
    "mappings": ";;;;;;;AAAA;AACA;AAMA;;;;;;MAEqBA,mC;;;;;AACjB,iDAAYC,KAAZ,EAAmB;AAAA;AAAA,+BACTA,KADS;AAElB;;;;0CAEmB;AAChB;AACH;;;4CAEqB;AAClB;AACA,6BAAE,MAAM,KAAKC,kBAAL,EAAR,EAAmCC,WAAnC,CAA+C,UAA/C;AACH;;;2CAEoB;AACjB;AACH;;;6CAEsB;AACnB;AACH;;;2CAEoB;AACjB,YAAIC,MAAM,GAAG,qBAAE,KAAKC,GAAP,EAAYC,OAAZ,CAAoB,wBAApB,CAAb;;AAEA,YAAIF,MAAJ,EAAY;AACR,iBAAO,qBAAEA,MAAF,EAAUG,IAAV,CAAe,IAAf,CAAP;AACH;;AACD,eAAO,EAAP;AAEH;;;+BAEQ;AAAA;;AAEL,YAAIC,gBAAgB,GAAG,KAAKP,KAAL,CAAWO,gBAAX,IAA+B,mCAAtD;AACA,YAAMC,SAAS,GAAG,KAAKR,KAAL,CAAWS,iBAA7B;AACA,YAAIC,OAAJ;;AAEA,YAAI,CAAC,CAAC,KAAKV,KAAL,CAAWW,eAAjB,EAAkC;AAC9BD,UAAAA,OAAO,GAAG,uBAAU,KAAKV,KAAL,CAAWU,OAArB,CAAV;AACAA,UAAAA,OAAO,CAACE,iBAAR,GAA4B,CAAC,KAAKZ,KAAL,CAAWW,eAAZ,CAA5B;AACH,SAHD,MAGO;AACHD,UAAAA,OAAO,GAAG,KAAKV,KAAL,CAAWU,OAArB;AACH;;AAED,YAAMG,KAAK,GAAIL,SAAD,IAAe,KAAKR,KAAL,CAAWc,WAA1B,IAAyC,CAAC,4BAAgBJ,OAAhB,EAAyB,KAAKV,KAAL,CAAWe,KAApC,CAAxD,CAbK,CAeL;;AACA,YAAIC,MAAM,GAAG,CAAb;AACA,eAAQ,CAACH,KAAF,gBACH;AAAK,UAAA,GAAG,EAAE,aAAAT,IAAG;AAAA,mBAAI,KAAI,CAACA,GAAL,GAAWA,IAAf;AAAA,WAAb;AAAiC,UAAA,SAAS,EAAE,0BAA0B,KAAKW,KAAL,CAAWE;AAAjF,UADG,gBAEH;AAAK,UAAA,GAAG,EAAE,aAAAb,KAAG;AAAA,mBAAI,KAAI,CAACA,GAAL,GAAWA,KAAf;AAAA,WAAb;AACK,UAAA,SAAS,EAAE,2FAA2F,KAAKJ,KAAL,CAAWkB,SAAtG,GAAkH,uBAAlH,GAA4I,KAAKH,KAAL,CAAWE;AADvK,kBAES,UAFT,gBAGI;AAAG,UAAA,SAAS,EAAC,qEAAb;AACG,gCAAoB,KAAKjB,KAAL,CAAWmB,YADlC;AAEG,+CAAmC,KAAKnB,KAAL,CAAWoB,yBAFjD;AAGG,6CAAiC,KAAKpB,KAAL,CAAWqB;AAH/C,WAIEd,gBAJF,CAHJ,CAFJ;AAWH;;;IA5D4De,6B;;;AA8DjEvB,EAAAA,mCAAmC,CAACwB,YAApC,GAAmD;AAC/CC,IAAAA,IAAI,EAAE,IADyC;AAE/CN,IAAAA,SAAS,EAAE,EAFoC;AAG/CC,IAAAA,YAAY,EAAE;AAHiC,GAAnD",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport $ from \"jquery\";\nimport {cloneDeep} from \"lodash\";\n\nimport {getConsentsCheckoutData} from \"eshop/modules/checkout/selectors\"\nimport {validateConsent} from \"eshop/modules/checkout/utils/utils\";\n\nimport ScrollableComponent from \"eshop/modules/checkout/components/ScrollableComponent\";\n\nexport default class MulticartConsentValidationComponent extends ScrollableComponent {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        super.componentDidMount();\n    }\n\n    componentWillUpdate() {\n        super.componentWillUpdate();\n        $(\"#\" + this.getParentSectionId()).removeClass(\"hasError\");\n    }\n\n    componentDidUpdate() {\n        super.componentDidUpdate()\n    }\n\n    componentWillUnmount() {\n        super.componentWillUnmount();\n    }\n\n    getParentSectionId() {\n        let parent = $(this.ref).closest(\".opl-agreements__group\");\n\n        if (parent) {\n            return $(parent).attr(\"id\")\n        }\n        return \"\";\n\n    }\n\n    render() {\n\n        let consentsErrorMsg = this.props.consentsErrorMsg || \"Dokonaj wyboru aby przejść dalej.\";\n        const errorElem = this.props.consentsErrorList;\n        let consent;\n\n        if (!!this.props.correspondingBa) {\n            consent = cloneDeep(this.props.consent);\n            consent.bundleAssignments = [this.props.correspondingBa];\n        } else {\n            consent = this.props.consent;\n        }\n\n        const error = (errorElem) && this.props.isMandatory && !validateConsent(consent, this.props.state);\n\n        //const error=(errorElem && errorElem.afterValidation) &&!validateConsent(consent, this.props.state);\n        let offset = 0;\n        return (!error) ?\n            <div ref={ref => this.ref = ref} className={\" VALIDATION_COMPONENT\" + this.state.no}></div> :\n            <div ref={ref => this.ref = ref}\n                 className={\"o-icon-text g-icon g-icon--error g-icon--before g-icon--xs-s g-redf-c u-padding-top-s \" + this.props.className + \" VALIDATION_COMPONENT\" + this.state.no}\n                 ref=\"errorDiv\">\n                <p className=\"o-icon-text__text u-font-bold opl-msg--error opl-msg--error-anchor \"\n                   data-scroll-offset={this.props.scrollOffset}\n                   data-scroll-offset-calculate-from={this.props.scrollOffsetCalculateFrom}\n                   data-scroll-offset-calculate-to={this.props.scrollOffsetCalculateTo}\n                >{consentsErrorMsg}</p>\n            </div>;\n    }\n}\nMulticartConsentValidationComponent.defaultProps = {\n    show: true,\n    className: \"\",\n    scrollOffset: 0\n};\n"],
    "file": "MulticartConsentValidationComponent.js"
}