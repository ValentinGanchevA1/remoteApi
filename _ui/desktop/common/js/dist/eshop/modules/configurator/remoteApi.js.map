{
    "version": 3,
    "sources": ["../../../../../es6/eshop/modules/configurator/remoteApi.js"],
    "names": ["availableProductsKey", "val", "getAvailableProductKeyObject", "prepareFilters", "avProductsKey", "deviceCode", "productsKey", "fkPk", "filtersComponentPk", "isCanonicalLink", "OnlineUtils", "component", "getComponentKeyObject", "prepareGetDocumentsParameters", "offers", "processType", "Object", "assign", "prepareGetOfferParameters", "filters", "availableProductsKeyVal", "isInitialFetch", "device", "loyaltyLength", "prepareConvergentOfferParameters", "propositionIds", "prepareCheckAndGetOfferParameters", "msisdn", "removePwaSuflerContextFromSession", "prepareUrl", "url", "bsfContextPath", "prefixWWW", "getOffers", "getOffersWithoutOfferSelector", "getConvergentOffers", "getDocuments", "getOfferFilters", "postToCart", "params", "postAssignmentToCart", "param", "postFixAssignmentToCart", "checkAndGetOffers", "getContractRole", "getFirstOffer"],
    "mappings": "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",
    "sourcesContent": ["import {get, mock, mockRandomError, post, postJson, postJsonObject} from \"eshop/flux/utils/OraApiUtils\";\nimport $ from \"jquery\";\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\n\nconst availableProductsKey = $('#availableProductsKey').val();\n\nconst getAvailableProductKeyObject = () => availableProductsKey ? {availableProductsKey} : {};\n\n\nfunction prepareFilters(avProductsKey,deviceCode) {\n    const productsKey = avProductsKey ? avProductsKey : availableProductsKey;\n    const fkPk = $('#filtersComponentPk').val();\n    return {\n        filtersComponentPk: fkPk,\n        availableProductsKey: productsKey,\n        deviceCode: deviceCode,\n        isCanonicalLink: OnlineUtils.isCanonicalLink()\n    };\n}\nconst component = $('#propositionCarouselId').val();\n\nconst getComponentKeyObject = () => component ? {component} : {};\n\nfunction prepareGetDocumentsParameters(offers, processType) {\n    return Object.assign({},offers,processType)\n}\n\nfunction prepareGetOfferParameters(filters, availableProductsKeyVal, deviceCode, isInitialFetch) {\n    //TODO pobranie PK komponentu do atrybutow klasyfikacyjnych jak w prepareFilters\n    //TODO zrobic cos w stylu Object.assign({},filters,{classAttrPk})\n    //FIXME cos zrobic z tym strzalem bo bez terminalOption nic nie zwraca\n    //FIXME no i do chuja wafla trzeba ogarnac zeby nie zwracalo pierdyliard rzeczy te getOffers\n    const availableProductsKey = availableProductsKeyVal ? {availableProductsKey : availableProductsKeyVal} :  getAvailableProductKeyObject();\n    const device = deviceCode? {deviceCode:deviceCode} : {};\n    return Object.assign({},{\n        processType: filters.processType,\n        loyaltyLength:filters.loyaltyLength[filters.processType],\n        isInitialFetch: isInitialFetch,\n        isCanonicalLink: OnlineUtils.isCanonicalLink()}\n        ,device,availableProductsKey, getComponentKeyObject());\n}\nfunction prepareConvergentOfferParameters(processType,deviceCode,propositionIds) {\n    return {\n        processType,\n        deviceCode,\n        propositionIds\n    };\n}\n\nfunction prepareCheckAndGetOfferParameters(msisdn, filters, availableProductsKeyVal,deviceCode) {\n    OnlineUtils.removePwaSuflerContextFromSession();\n    const availableProductsKey = availableProductsKeyVal ? {availableProductsKey: availableProductsKeyVal} :  getAvailableProductKeyObject();\n    const device = deviceCode ? {deviceCode: deviceCode} : {};\n    return {\n        msisdn: msisdn,\n        processType: filters.processType,\n        loyaltyLength: filters.loyaltyLength[filters.processType],\n        ...device,\n        ...availableProductsKey,\n        ...getComponentKeyObject()\n    };\n}\n\n\nconst prepareUrl = (url) => bsfContextPath  + (typeof prefixWWW !== \"undefined\" ? prefixWWW : \"\")  + url;\n\nexport default {\n    getOffers: (filters, availableProductsKey = \"\", deviceCode, isInitialFetch = false) => get(prepareUrl(\"/offersList/offers\"), prepareGetOfferParameters(filters, availableProductsKey, deviceCode, isInitialFetch)),\n    getOffersWithoutOfferSelector: (filters, availableProductsKey = \"\", deviceCode, isInitialFetch = false) => get(prepareUrl(\"/offersList/offersWithoutOfferSelector\"), prepareGetOfferParameters(filters, availableProductsKey, deviceCode, isInitialFetch)),\n    getConvergentOffers: (processType,deviceCode,propositionIds) => get(prepareUrl(\"/convergentOffersList/offers\"),prepareConvergentOfferParameters(processType,deviceCode,propositionIds)),\n    getDocuments: (offers, processType)           => get(prepareUrl(\"/documents/getDocumentsForProducts\"),prepareGetDocumentsParameters(offers,processType)),\n    getOfferFilters: (availableProductsKey,deviceCode=\"\")                     => get(prepareUrl(\"/filters/offerFilters\"), prepareFilters(availableProductsKey,deviceCode)),\n    postToCart: (params)                          => postJson(prepareUrl(\"/koszyk/oovdodaj\"), params),\n    postAssignmentToCart: (param)                 => post(prepareUrl(\"/koszyk/addServiceTransfer\"), param),\n    postFixAssignmentToCart: (param)              => post(prepareUrl(\"/fix/cart/addServiceTransfer\"), param),\n    checkAndGetOffers: (msisdn, filters, availableProductsKey, deviceCode) => postJson(\n        prepareUrl(\"/offersList/checkAndGetOffers\"),\n        prepareCheckAndGetOfferParameters(msisdn, filters, availableProductsKey, deviceCode)\n    ),\n    getContractRole: (params) => get(prepareUrl(\"/contractRole\"), params),\n    getFirstOffer: (params) => get(prepareUrl(\"/offersList/firstOffer\"), params),\n}\n"],
    "file": "remoteApi.js"
}