{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/configurator/components/AttributesList.jsx"],
    "names": ["AttributesListView", "count", "markForSeparation", "attr", "length", "props", "separate", "hide", "border", "attributes", "fixerClasses", "preprocessForFixer", "lengthOfVisibleAttributes", "map", "a", "dummy", "reduce", "b", "ifApplyPadding", "paddingIfNotEmpty", "f", "visible", "addKeyForReact", "applyFixerClass", "distributeProp", "box", "table", "extractTechnicalValueIfExists", "config", "renderFixedPadding", "React", "Component", "propTypes", "PropTypes", "array", "isRequired", "bool", "paddingFixer", "string", "defaultProps", "render", "features", "ret", "forEach", "fixer", "toAdd", "find", "attribute", "type", "value", "push", "prop", "filter", "key", "dummyExtractor", "extractTechnicalValueFromDataDesc", "trim", "tokens1", "split", "console", "error", "suffix", "tokens2", "x", "parseInt", "y", "technicalValue", "label", "mapStateToProps", "state", "clientContext", "process", "mapDispatchToProps", "dispatch", "AttributesList"],
    "mappings": "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",
    "sourcesContent": ["import React from \"react\";\nimport {connect} from \"react-redux\"\nimport PropTypes from 'prop-types'\nimport Attribute from \"./stateless/Attribute\";\nimport { getClientContext, getSelectedProcessTypeValue } from \"../selectors/filters\"\n\n/**\n * Renders an attribute box\n */\n\nclass AttributesListView extends React.Component {\n\n    render() {\n\n        var count = 0\n        //Last element should not have border below\n        let markForSeparation = (attr, length)=> {\n           if(this.props.separate){\n               if(!attr.hide) {\n                   count++\n                   attr.border = (count != length)\n               }\n           }\n           return attr\n        }\n\n        //this.props.attributes\n        let attributes = this.props.fixerClasses ? preprocessForFixer(this.props.attributes, this.props.fixerClasses): this.props.attributes\n\n        var lengthOfVisibleAttributes = attributes.map(a => a.hide || a.dummy ? 0:1).reduce((a, b)=> a+b, 0)\n\n        var ifApplyPadding = () => {\n            if (this.props.paddingIfNotEmpty && lengthOfVisibleAttributes>0){\n                return true\n            }else if (this.props.fixerClasses && this.props.fixerClasses.map(f=>f.visible).reduce((a,b)=>a || b,false)){\n                return true\n            }else{\n                return false\n            }\n        }\n\n        return (\n        <div>\n            <ul className=\"opl-box__icon-list opl-box__icon-list--break-medium \">\n                {\n                    attributes\n                    .map(addKeyForReact)\n                    .map((attr)=> applyFixerClass(attr,this.props.fixerClasses))\n                    .map((attr)=> distributeProp(attr, \"box\"  , this.props.box))\n                    .map((attr)=> distributeProp(attr, \"table\", this.props.table && !attr.hide))\n                    .map(extractTechnicalValueIfExists)\n                    .map((attr) => markForSeparation(attr,lengthOfVisibleAttributes))\n                    .map((attr) => <Attribute {...attr} config={this.props.config}/>)\n                }\n            </ul>\n            {renderFixedPadding(ifApplyPadding())}\n        </div>\n        )\n\n    }\n}\n\nAttributesListView.propTypes = {\n    attributes: PropTypes.array.isRequired,\n    separate: PropTypes.bool,\n    box: PropTypes.bool,\n    paddingFixer: PropTypes.string,\n    paddingIfNotEmpty: PropTypes.bool,\n    table: PropTypes.bool\n}\n\nAttributesListView.defaultProps = {\n  separate: true,\n  box: true,\n  paddingIfNotEmpty: false,\n  table: false\n}\n\nfunction renderFixedPadding(render){\n\n    if (render) {\n        return(<div className=\"u-padding-l\" ></div>)\n    }else{\n        return null\n    }\n\n}\n\nfunction preprocessForFixer(features, fixerClasses){\n\n    let ret = []\n    fixerClasses.forEach(fixer => {\n      let toAdd = features.find(f => f.attribute === fixer.attribute)\n      toAdd = toAdd || {attribute:fixer.attribute, type:'static', value:'<div></div>', dummy:true, hide: !fixer.visible}\n      ret.push(toAdd)\n    })\n    return ret;\n}\n\nfunction distributeProp(attr, prop, value) {\n    attr[prop] = value\n    return attr\n}\n\n\nfunction applyFixerClass(attr,fixerClasses ){\n    if(fixerClasses){\n       attr.fixer = fixerClasses.filter(f=>f.attribute === attr.attribute)[0].fixer\n    }\n    return attr\n}\n\nfunction addKeyForReact(attr) {\n    attr.key = attr.attribute\n    return attr\n}\n\nfunction extractTechnicalValueIfExists(attr) {\n\n    return [attr]\n        .map(dummyExtractor)\n        .map(extractTechnicalValueFromDataDesc)[0]\n\n}\n\nfunction dummyExtractor(attr) {\n    return attr\n}\n\n\nfunction extractTechnicalValueFromDataDesc(attr){\n    if (attr.attribute === \"data_desc\") {\n        //format x/y GB\n        // x/y - procent wypełnienia bara\n        // x   - wartość prezentowana\n\n        let value = attr.value.trim()\n        let tokens1 = value.split(' ')\n\n        if(tokens1.length != 2){\n            console.error(\"data_desc format error: \" + attr.value)\n            return attr\n        }\n        let suffix = tokens1[1]\n\n        let tokens2 = tokens1[0].split('/')\n        let x = parseInt(tokens2[0] || \"\");\n        let y = parseInt(tokens2[1] || \"\");\n\n        if( tokens2.length != 2 || !x || !y ){\n            console.error(\"data_desc format error: \" + attr.value)\n            return attr\n        }\n\n        let technicalValue = x/y * 100\n        let label = x + \" \" + suffix\n\n        return { ...attr, value: label, technicalValue: technicalValue }\n    }\n\n    return attr\n}\n\n\n\nconst mapStateToProps = state => ({\n    clientContext: getClientContext(state),\n    process: getSelectedProcessTypeValue(state)\n})\n\nconst mapDispatchToProps = dispatch => ({\n//    setClientContext: (event) => dispatch(setClientContext(event.target.checked))\n})\n\nconst AttributesList = connect(mapStateToProps, mapDispatchToProps)(AttributesListView)\n\nexport default AttributesList;\n"],
    "file": "AttributesList.js"
}