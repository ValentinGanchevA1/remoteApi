{
    "version": 3,
    "sources": ["../../../../../../../../es6/eshop/modules/configurator/components/lp/offers/VasPackages.jsx"],
    "names": ["VasPackages", "props", "submitSelectPackagesModal", "bind", "openSelectPackagesModal", "plan", "name", "offer", "rateplanName", "capacity", "getVasPackagesCapacityForProposition", "packets", "getVasPackagesForProposition", "map", "p", "id", "bonuses", "length", "code", "title", "weight", "longDescriptionInJsonFormat", "selected", "getSelectedVasPackagesForProposition", "event", "preventDefault", "stopPropagation", "OraVasPacketPickerComponent", "openPopup", "getSelectPackagesModalInitData", "submit", "toAdd", "toRemove", "forEach", "bonusId", "selectVas", "unselectVas", "selectDefaults", "console", "log", "vases", "defaults", "filter", "vas", "isDefault", "defaultVas", "mobileVasesForProposition", "addons", "vasPackagesIndex", "categorizedBonuses", "services", "groups", "error", "min", "packageBonusCodesJoined", "sort", "join", "capacityGroup", "g", "targetProducts", "propositionId", "selectedVases", "find", "proposition", "bonusCode", "indexOf", "addLabelPlural", "changeLabelPlural", "addLabelSingular", "changeLabelSingular", "vasPackages", "label", "selectedVasPackages", "getBonusCode", "isProductDetailsPage", "vasPackage", "index", "changable", "getChangePackagesLabel", "isDeviceLP", "renderForDeviceLP", "Component", "defaultProps", "VasPackage", "thumbnailIcon", "getLabel", "longDescription", "VasPackageForDeviceLP", "mapStateToProps", "state", "mapDispatchToProps", "dispatch", "vasId"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {selectVas, unselectVas} from \"eshop/modules/configurator/actions/offers\";\nimport {getSelectedVases} from \"eshop/modules/configurator/selectors/offers\";\nimport OraTooltip from \"eshop/modules/core/components/ui/Tooltip\";\nimport {isAccessoryListPage, isProductDetailsPage, isProductListPage} from \"../../../../simfree/selectors\";\nimport OraVasPacketPickerComponent from \"eshop/modules/simfree/components/modals/OraVasPacketPickerComponent\";\n\nclass VasPackages extends Component {\n    constructor(props) {\n        super(props);\n        this.submitSelectPackagesModal = this.submitSelectPackagesModal.bind(this)\n        this.openSelectPackagesModal = this.openSelectPackagesModal.bind(this)\n    }\n\n    getSelectPackagesModalInitData(){\n        return {\n            plan: {\n                name: this.props.offer.rateplanName,\n                capacity: this.getVasPackagesCapacityForProposition()\n            },\n            packets: this.getVasPackagesForProposition().map(p => ({\n                id: p.bonuses && p.bonuses.length === 1 && p.bonuses[0].code,\n                title: p.title,\n                weight: p.weight || 1,\n                ...p.longDescriptionInJsonFormat\n             })),\n             selected: this.getSelectedVasPackagesForProposition()\n        }\n    }\n\n    openSelectPackagesModal(event){\n        event.preventDefault();\n        event.stopPropagation();\n        OraVasPacketPickerComponent.openPopup({...this.getSelectPackagesModalInitData(), submit: this.submitSelectPackagesModal});\n    }\n\n    submitSelectPackagesModal(toAdd, toRemove){\n        toAdd.forEach(bonusId => this.props.selectVas(this.props.offer.id, bonusId, this.props.offer.rateplanName));\n        toRemove.forEach(bonusId =>this.props.unselectVas(this.props.offer.id, bonusId, this.props.offer.rateplanName));\n    }\n\n    componentDidMount() {\n        this.selectDefaults();\n    }\n\n    selectDefaults() {\n        console.log(\"VasPackages selectDefaults\");\n        if (this.getSelectedVasPackagesForProposition(this.props.offer.id).length === 0) {\n            const vases = this.getVasPackagesForProposition();\n            console.log(\"VasPackages selectDefaults\", vases);\n            let defaults = vases && vases.length > 0 && vases.filter(vas => vas.isDefault);\n            console.log(\"VasPackages selectDefaults\", defaults);\n            if (defaults) {\n                defaults.forEach(defaultVas => this.props.selectVas(this.props.offer.id, defaultVas.bonuses && defaultVas.bonuses.length === 1 && defaultVas.bonuses[0].code));\n            }\n        }\n    }\n\n    getVasPackagesForProposition() {\n        const mobileVasesForProposition = this.props.offer.addons;\n        const vasPackagesIndex = \"GratisPackageBonuses\";\n        return (mobileVasesForProposition && mobileVasesForProposition.categorizedBonuses[vasPackagesIndex] && mobileVasesForProposition.categorizedBonuses[vasPackagesIndex].services) || [];\n    }\n\n    getVasPackagesCapacityForProposition() {\n        const mobileVasesForProposition = this.props.offer.addons;\n        const vasPackagesIndex = \"GratisPackageBonuses\";\n        let groups = (mobileVasesForProposition && mobileVasesForProposition.categorizedBonuses[vasPackagesIndex] && mobileVasesForProposition.categorizedBonuses[vasPackagesIndex].groups) || [];\n\n        if (groups.length == 0){\n            console.error(\"Cannot find any group for \" + this.props.offer.id)\n            return 0;\n        } else if (groups.length == 1){\n            return groups[0].min || 0;\n        }\n\n        let packageBonusCodesJoined = this.getVasPackagesForProposition()\n        .filter(p => p.bonuses && p.bonuses.length === 1 && p.bonuses[0].code)\n        .map(p => p.bonuses && p.bonuses.length === 1 && p.bonuses[0].code)\n        .sort()\n        .join();\n\n        let capacityGroup = groups.filter(\n            g => (g.targetProducts || []).sort().join() == packageBonusCodesJoined\n        )[0];\n\n        if(capacityGroup){\n            return capacityGroup.min\n        } else {\n            console.error(\"Cannot find capacity group for: \" + this.props.offer.id + \". Expected target products: \" + packageBonusCodesJoined)\n            return 0;\n        }\n    }\n\n    getSelectedVasPackagesForProposition() {\n        const propositionId = this.props.offer && this.props.offer.id;\n        const selectedVases = this.props.selectedVases;\n        if (selectedVases && selectedVases.find(proposition => proposition.propositionId === propositionId)) {\n            return selectedVases.find(proposition => proposition.propositionId === propositionId).vases;\n        }\n        return [];\n    }\n\n    isSelected(bonusCode) {\n        return this.props.selectedVases && this.props.selectedVases.indexOf(bonusCode) > -1;\n    }\n\n    getBonusCode(vas) {\n        if (vas && vas.bonuses && vas.bonuses.length === 1) {\n            return vas.bonuses[0].code;\n        }\n        return vas.id;\n    }\n    getChangePackagesLabel(){\n        let capacity=this.getVasPackagesCapacityForProposition();\n        let selectedVases = this.getSelectedVasPackagesForProposition();\n\n        if(capacity>1){\n            if(selectedVases.length==0){\n                return this.props.addLabelPlural;\n            }else{\n                return this.props.changeLabelPlural;\n            }\n        }\n        if(selectedVases.length==0){\n            return this.props.addLabelSingular;\n        }else{\n            return this.props.changeLabelSingular;\n        }\n\n\n\n    }\n    componentDidUpdate(){\n        console.log(\"VasPackages componentDidUpdate\");\n    }\n    renderForDeviceLP() {\n        const vasPackages = this.getVasPackagesForProposition();\n        let label = \"Paczka usług w cenie abonamentu: \";\n        if (vasPackages && vasPackages.length > 1) {\n            label = \"Paczki usług w cenie abonamentu: \";\n        }\n        let selectedVases = this.getSelectedVasPackagesForProposition();\n\n        let selectedVasPackages = !!vasPackages && vasPackages.filter(vas => selectedVases && (selectedVases.indexOf(this.getBonusCode(vas)) > -1 || selectedVases.indexOf(vas.id) > -1));\n        if(!selectedVases || selectedVases.length==0){\n            label=\"\";\n        }\n        let capacity=this.getVasPackagesCapacityForProposition();\n        return (\n            <div className={!!label&&\"u-padding-top-s\"}>\n                {!!capacity&&!this.props.isProductDetailsPage&&<div>{label}</div>}\n                {selectedVasPackages && selectedVasPackages.map((vasPackage, index) => [<VasPackageForDeviceLP\n                    key={\"vasPackage\" + index}\n                    {...vasPackage}\n                />, <span>{(index < selectedVasPackages.length - 1) && \", \"}</span>])\n                }\n                {!!capacity&&!!this.props.changable&&<a onClick={this.openSelectPackagesModal} className={\"o-modal__trigger u-block u-padding-s u-padding-top-s\"}>{this.getChangePackagesLabel()}</a>}\n            </div>\n        );\n    }\n\n    render() {\n        if (this.props.isDeviceLP) {\n            return this.renderForDeviceLP();\n        }\n        const vasPackages = this.getVasPackagesForProposition();\n        let capacity=this.getVasPackagesCapacityForProposition();\n\n        let label=\"\";\n        if (!!capacity) {\n            label = capacity + \" paczka w ramach abonamentu\";\n            if (capacity >1 && capacity <5)\n                label = capacity + \" paczki w ramach abonamentu\"\n            else if (capacity >4 )\n                label = capacity + \" paczek w ramach abonamentu\"\n        }\n        let selectedVases = this.getSelectedVasPackagesForProposition();\n        let selectedVasPackages = !!vasPackages && vasPackages.filter(vas => selectedVases && selectedVases.indexOf(this.getBonusCode(vas)) > -1);\n\n        return (\n                <div>\n                    {!!capacity&&\n                    <p className={\"u-margin-l \"+(!!this.props.isProductDetailsPage&& \" u-large-hide u-medium-hide\")}>{label}</p>}\n                    {!!selectedVasPackages && selectedVasPackages.map((vasPackage, index) => <VasPackage\n                        key={\"vasPackage\" + index} {...vasPackage}\n                        selectVas={this.props.selectVas}\n                        unselectVas={this.props.unselectVas}\n                        propositionId={this.props.offer && this.props.offer.id}\n                        selectedVases={this.getSelectedVasPackagesForProposition()}\n                    />)\n                    }\n                    {!!capacity&&\n                    <a onClick={this.openSelectPackagesModal} className={\"o-modal__trigger u-block u-margin-top-l\"}>{this.getChangePackagesLabel()}</a>}\n                </div>\n\n\n        );\n    }\n}\n\nVasPackages.defaultProps = {\n    changeLabelSingular: \"Zmień paczkę \",\n    changeLabelPlural: \"Zmień paczki \",\n    addLabelSingular: \"Wybierz paczkę \",\n    addLabelPlural: \"Wybierz paczki \",\n    changable:true,\n\n}\n\nclass VasPackage extends Component {\n    constructor(props) {\n        super(props);\n        this.getBonusCode = this.getBonusCode.bind(this);\n    }\n\n    getBonusCode() {\n        if (this.props.bonuses && this.props.bonuses.length === 1) {\n            return this.props.bonuses[0].code;\n        }\n        return this.props.id;\n    }\n    getLabel(){\n        switch(this.props.weight){\n            case 2:\n                return <div className={\"opl-packet-box__package\"}>\n                    <span className={\"g-icon--\" + this.props.thumbnailIcon + \" g-icon g-icon--s\"}/>\n                    <span className=\"u-font-bold\">{this.props.title}</span>\n                    <div className=\"opl-packet-box__package-info u-padding-top-l u-padding-m\"><span\n                        className=\"u-font-bold u-font-small\">Office 365 zajmuje miejsce dwóch paczek</span></div>\n                </div>;\n            default:\n                return <div className={\"opl-packet-box__package\"}>\n                    <span className={\"g-icon--\" + this.props.thumbnailIcon + \" g-icon g-icon--s\"}/>\n                    <span className=\"u-font-bold\">{this.props.title}</span>\n                </div>\n        }\n    }\n    render() {\n        return (\n                <OraTooltip labelBlock={this.getLabel()} className={\"u-overflow\"}>\n                    {this.props.longDescription}\n                </OraTooltip>\n        );\n    }\n}\n\nclass VasPackageForDeviceLP extends VasPackage {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const label = <span className=\"u-font-bold\">{this.props.title}</span>;\n        return (<OraTooltip labelSpan={label} className={\"\"}>\n                {this.props.longDescription}\n            </OraTooltip>\n\n        );\n\n    }\n\n}\n\n\nconst mapStateToProps = state => ({\n    selectedVases: getSelectedVases(state),\n    isDeviceLP: isProductDetailsPage(state) || isProductListPage(state) || isAccessoryListPage(state),\n    isProductDetailsPage:isProductDetailsPage(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n    selectVas: (propositionId, vasId, rateplanName) => dispatch(selectVas(propositionId, vasId, rateplanName)),\n    unselectVas: (propositionId, vasId, rateplanName) => dispatch(unselectVas(propositionId, vasId, rateplanName)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VasPackages);\n"],
    "file": "VasPackages.js"
}