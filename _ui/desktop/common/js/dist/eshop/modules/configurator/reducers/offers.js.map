{
    "version": 3,
    "sources": ["../../../../../../es6/eshop/modules/configurator/reducers/offers.js"],
    "names": ["data", "state", "action", "type", "FETCH_OFFERS", "newOffers", "selectedFilters", "payload", "Object", "assign", "firstOfferFromProductFilter", "GET_FIRST_OFFER_RESPONSE", "GET_FIRST_OFFER_ERROR", "selected", "OnlineUtils", "loadFromSessionStorage", "SELECT_OFFER", "SELECT_PROPOSITION_ID", "saveInSessionStorage", "propositionId", "changeOrAddUrlParameterDisabledIfNotCanonical", "CLEAR_OFFER", "changeOrAddUrlParameterDisabledOnCheckout", "selectedPosition", "position", "parseSelectedVasesFromUrlParam", "param", "decodeURI", "saveInSessionStorageAndUrlParameterDisabledOnCheckout", "parseSelectedVasesToUrlParam", "JSON", "parse", "stringify", "selectedVases", "getParameterValueFromUrl", "CLEAR_SELECTED_VASES", "removeFromSessionStorage", "SELECT_VAS", "newState", "vasesForPropos", "find", "p", "vases", "vasId", "push", "addUniqueIntoArray", "cloneArray", "UNSELECT_VAS", "selectedVasesForPropos", "length", "addOrRemoveFromArray", "selectedRateplanBaseProductId", "originalState", "console", "warn", "defaultOffer", "offer", "isDefault", "useDefaultOffer", "undefined", "rateplanBaseProductId", "canonicalConfiguration", "isCanonicalConfiguration", "isCanonicalLink", "log", "saveCanonicalValueInSessionStorage", "saveInStorageOnCanonicalLinks", "servicePlanParameter", "urlParametersUsed", "ADD_FROM_LINK", "serviceplan", "selectedDevice", "deviceId", "selectedDeviceInstalmentsCount", "SET_DEVICE_INSTALMENTS_COUNT_IN_SESSION_STORAGE", "deviceInstalmentsCount", "CLEAR_DEVICE_INSTALMENTS_COUNT_FROM_SESSION_STORAGE", "SELECT_DEVICE_INSTALMENTS_COUNT", "SELECT_PROCESS_TYPE", "deviceInstalmentsConfiguration", "SET_DEVICE_INSTALMENTS_CONFIGURATION", "documents", "SELECT_DOCUMENTS", "newDocuments", "forEach", "d", "filter", "sd", "templateId", "sdf", "documentCode", "df", "contractRole", "GET_CONTRACT_ROLE_RESPONSE", "roles", "contractRoleForRetention", "retentionRoles", "getContractRoleInProgress", "GET_CONTRACT_ROLE_START", "GET_CONTRACT_ROLE_ERROR"],
    "mappings": "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",
    "sourcesContent": ["import {hashFilters} from \"eshop/modules/configurator/utils\";\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport {\n    ADD_FROM_LINK,\n    CLEAR_DEVICE_INSTALMENTS_COUNT_FROM_SESSION_STORAGE,\n    CLEAR_OFFER,\n    FETCH_OFFERS,\n    GET_CONTRACT_ROLE_ERROR,\n    GET_CONTRACT_ROLE_RESPONSE,\n    GET_CONTRACT_ROLE_START,\n    GET_FIRST_OFFER_ERROR,\n    GET_FIRST_OFFER_RESPONSE,\n    SELECT_DEVICE_INSTALMENTS_COUNT,\n    SELECT_DOCUMENTS,\n    SELECT_OFFER,\n    SELECT_PROCESS_TYPE,\n    SELECT_PROPOSITION_ID,\n    SELECT_VAS,\n    SET_DEVICE_INSTALMENTS_CONFIGURATION,\n    SET_DEVICE_INSTALMENTS_COUNT_IN_SESSION_STORAGE,\n    UNSELECT_VAS,\n    CLEAR_SELECTED_VASES,\n} from \"../actionTypes\";\n\n\nexport var data = (state = {}, action) => {\n    switch (action.type) {\n        case FETCH_OFFERS:\n            const newOffers = {};\n            newOffers[hashFilters(action.selectedFilters)] = action.payload;\n            return Object.assign({}, state, newOffers);\n        default:\n        return state;\n    }\n};\n\nexport var firstOfferFromProductFilter = (state = {}, action) => {\n    switch (action.type) {\n        case GET_FIRST_OFFER_RESPONSE:\n            return action.data;\n        case GET_FIRST_OFFER_ERROR:\n            return {};\n        default:\n        return state;\n    }\n};\n\n//before authorization\nexport var selected = (state = OnlineUtils.loadFromSessionStorage(\"selectedPropositionId\") || \"\", action) => {\n    switch (action.type) {\n        case FETCH_OFFERS:\n            return state;\n        case SELECT_OFFER:\n        case SELECT_PROPOSITION_ID:\n            OnlineUtils.saveInSessionStorage(\"selectedPropositionId\", action.propositionId);\n            OnlineUtils.changeOrAddUrlParameterDisabledIfNotCanonical(\"selectedPropositionId\", action.propositionId);\n            return action.propositionId || state;\n        case CLEAR_OFFER:\n        OnlineUtils.saveInSessionStorage(\"selectedPropositionId\", action.propositionId);\n        OnlineUtils.changeOrAddUrlParameterDisabledOnCheckout(\"serviceplan\", \"\");\n            OnlineUtils.changeOrAddUrlParameterDisabledOnCheckout(\"selectedPropositionId\", \"\");\n\n            return \"\";\n        default:\n        return state;\n    }\n};\n\nexport var selectedPosition = (state = OnlineUtils.loadFromSessionStorage(\"selectedPropositionPosition\") || -1,action) => {\n    switch (action.type) {\n        case SELECT_OFFER:\n        case SELECT_PROPOSITION_ID:\n            OnlineUtils.saveInSessionStorage(\"selectedPropositionPosition\",action.position || -1);\n            return action.position || -1;\n        default:\n            return state;\n    }\n};\n\nfunction parseSelectedVasesFromUrlParam(param) {\n    if (!param) {\n        return null;\n    }\n    param=decodeURI(param);\n    OnlineUtils.saveInSessionStorageAndUrlParameterDisabledOnCheckout(\"selectedVases\",parseSelectedVasesToUrlParam(JSON.parse(param)));\n    return JSON.parse(param);\n\n}\nfunction parseSelectedVasesToUrlParam(param) {\n    return JSON.stringify(param);\n\n}\n\nexport const selectedVases = (state=parseSelectedVasesFromUrlParam(OnlineUtils.getParameterValueFromUrl(\"selectedVases\") || OnlineUtils.loadFromSessionStorage(\"selectedVases\")),action) => {\n     switch (action.type) {\n         case CLEAR_SELECTED_VASES:{\n             OnlineUtils.removeFromSessionStorage(\"selectedVases\");\n             return [];\n         }\n         case SELECT_VAS: {\n            let newState = state||[];\n            let vasesForPropos = newState && newState.find(p => p.propositionId === action.propositionId);\n            if (!vasesForPropos) {\n                vasesForPropos = {propositionId: action.propositionId, vases: [action.vasId]};\n                newState.push(vasesForPropos);\n            } else {\n                OnlineUtils.addUniqueIntoArray( action.vasId, vasesForPropos.vases);\n            }\n            OnlineUtils.saveInSessionStorageAndUrlParameterDisabledOnCheckout(\"selectedVases\", parseSelectedVasesToUrlParam(newState));\n\n            return OnlineUtils.cloneArray(newState);\n        }\n        case UNSELECT_VAS: {\n            let newState = state||[];\n            const selectedVasesForPropos = newState && newState.find(p => p.propositionId === action.propositionId);\n            if (selectedVasesForPropos && selectedVasesForPropos.vases.length) {\n                selectedVasesForPropos.vases=OnlineUtils.addOrRemoveFromArray(action.vasId, selectedVasesForPropos.vases);\n                if (selectedVasesForPropos.vases.length === 0) {\n                    newState=OnlineUtils.addOrRemoveFromArray(selectedVasesForPropos, newState);\n                }\n            }\n            OnlineUtils.saveInSessionStorageAndUrlParameterDisabledOnCheckout(\"selectedVases\", parseSelectedVasesToUrlParam(newState));\n            return OnlineUtils.cloneArray(newState);\n        }\n        default:\n            return state;\n    }\n}\n\nexport const selectedRateplanBaseProductId = (state = {}, action) => {\n       let originalState = OnlineUtils.getParameterValueFromUrl(\"serviceplan\") || OnlineUtils.loadFromSessionStorage(\"serviceplan\");\n    switch (action.type) {\n        case FETCH_OFFERS:\n        console.warn(\"selectedRateplanBaseProductId FETCH_OFFERS\");\n            const defaultOffer=action.payload && action.payload.find(offer=> offer.isDefault);\n            if(defaultOffer && !originalState && (action.useDefaultOffer==undefined || action.useDefaultOffer)) {\n                return defaultOffer.rateplanBaseProductId;\n            }\n            const canonicalConfiguration=action.payload && action.payload.find(offer=> offer.isCanonicalConfiguration);\n            if (OnlineUtils.isCanonicalLink() && canonicalConfiguration) {\n                console.log(canonicalConfiguration.rateplanBaseProductId);\n                originalState = canonicalConfiguration.rateplanBaseProductId;\n                OnlineUtils.saveCanonicalValueInSessionStorage(\"serviceplan\", originalState);\n                OnlineUtils.saveInStorageOnCanonicalLinks(\"serviceplan\", originalState);\n            }\n            return originalState;\n        case SELECT_OFFER:\n            const servicePlanParameter = OnlineUtils.getParameterValueFromUrl(\"serviceplan\") || OnlineUtils.loadFromSessionStorage(\"serviceplan\");\n            if (!action.urlParametersUsed && servicePlanParameter && OnlineUtils.isCanonicalLink()) {\n                OnlineUtils.saveInStorageOnCanonicalLinks(\"serviceplan\", servicePlanParameter);\n                return servicePlanParameter;\n            } else {\n                OnlineUtils.saveInStorageOnCanonicalLinks(\"serviceplan\", action.rateplanBaseProductId);\n                return action.rateplanBaseProductId || originalState;\n            }\n        case CLEAR_OFFER:\n        console.warn(\"selectedRateplanBaseProductId CLEAR_OFFER\");\n            OnlineUtils.removeFromSessionStorage(\"serviceplan\");\n            return \"\";\n        case ADD_FROM_LINK:\n            return action.serviceplan;\n        default:\n            return originalState;\n    }\n};\n\nexport var selectedDevice = (state = \"\", action) => {\n    switch (action.type) {\n        case ADD_FROM_LINK:\n        case SELECT_OFFER:\n            return action.deviceId || \"\";\n        default:\n            return state;\n    }\n};\n\nexport var selectedDeviceInstalmentsCount = (state = OnlineUtils.loadFromSessionStorage(\"selectedDeviceInstalmentsCount\") || null, action) => {\n    switch (action.type) {\n        case SET_DEVICE_INSTALMENTS_COUNT_IN_SESSION_STORAGE:\n            if (action.deviceInstalmentsCount != null) {\n                OnlineUtils.saveInSessionStorage(\"selectedDeviceInstalmentsCount\", action.deviceInstalmentsCount);\n                return action.deviceInstalmentsCount;\n            } else {\n                return state;\n            }\n        case CLEAR_DEVICE_INSTALMENTS_COUNT_FROM_SESSION_STORAGE:\n            OnlineUtils.removeFromSessionStorage(\"selectedDeviceInstalmentsCount\");\n            return state;\n        case SELECT_DEVICE_INSTALMENTS_COUNT:\n            return action.deviceInstalmentsCount || null;\n        case SELECT_PROCESS_TYPE:\n            console.warn(\"selectedDeviceInstalmentsCount action:\", action);\n            return null;\n        default:\n            return state;\n    }\n};\nexport var deviceInstalmentsConfiguration = (state = [], action) => {\n    switch (action.type) {\n        case SET_DEVICE_INSTALMENTS_CONFIGURATION:\n            return action.deviceInstalmentsConfiguration || null;\n        default:\n            return state;\n    }\n};\n\nexport var documents = (state = [], action) => {\n    switch (action.type) {\n        case SELECT_DOCUMENTS:\n            let newDocuments = false;\n            action.payload.forEach(d => {\n                if (!newDocuments && !state.filter(sd => sd.templateId === d.templateId).find(sdf => sdf.documentCode === d.documentCode)) {\n                    newDocuments = true;\n                }\n            });\n            newDocuments && state.forEach(sd => {\n                if (!newDocuments && !action.payload.filter(d => d.templateId === sd.templateId).find(df => df.documentCode === sd.documentCode)) {\n                    newDocuments = true;\n                }\n            });\n            if (!action.payload.length || action.payload.length !== state.length) {\n                newDocuments = true;\n            }\n            return newDocuments ? action.payload : state;\n        default:\n            return state;\n    }\n};\n\n\nexport var contractRole = (state = [], action) => {\n   switch (action.type) {\n       case GET_CONTRACT_ROLE_RESPONSE:\n            return action.data.roles;\n       default:\n           return state;\n   }\n};\n\nexport var contractRoleForRetention =  (state = [], action) => {\n   switch (action.type) {\n       case GET_CONTRACT_ROLE_RESPONSE:\n            return action.data.retentionRoles;\n       default:\n           return state;\n   }\n};\n\nexport var getContractRoleInProgress =  (state = false, action) => {\n   switch (action.type) {\n       case GET_CONTRACT_ROLE_START:\n            return true;\n       case GET_CONTRACT_ROLE_RESPONSE:\n            return false;\n       case GET_CONTRACT_ROLE_ERROR:\n            return false;\n       default:\n           return state;\n   }\n};\n"],
    "file": "offers.js"
}