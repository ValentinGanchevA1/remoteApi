{
    "version": 3,
    "sources": ["../../../../../../../../es6/eshop/modules/configurator/components/b2b/lp/OraPropositionCarouselB2B.jsx"],
    "names": ["minHeightBase", "OraPropositionCarouselB2B", "props", "setSalesChannel", "channels", "sales", "height", "getMyHeight", "setState", "minHeight", "isCarouselReady", "state", "elem", "document", "getElementById", "$", "outerHeight", "console", "log", "selectedLoyaltyLengthValue", "isPropositionListCountSetMode", "OnlineUtils", "isAssignment", "processType", "isLoyaltyLengthSelected", "propositionListCount", "offersLoading", "ref", "React", "PureComponent", "mapStateToProps", "data", "loyaltyLength", "offers", "offersInContext", "selectedOfferId", "selectedBaseRatePlanId", "verifiedMsisdn", "verifyMsisdnLoading", "selectedOfferType", "contractRole", "getContractRoleInProgress", "isB2B", "showNet", "isLogged", "addTerminalButtonEnabled", "disableAddToCart", "marketContextPrefixUrl", "mapDispatchToProps", "dispatch", "carouselReady", "carouselPreparing", "selectOffer", "propositionId", "verifyMsisdn", "msisdn", "index", "clearCheckMsisdn", "channel", "selectOfferNoPhone", "pickDevice", "url"],
    "mappings": "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",
    "sourcesContent": ["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {isLogged} from \"eshop/modules/auth/selectors/authorization\"\nimport {\n    getContractRole,\n    getContractRoleInProgress,\n    getOffersDataInContext,\n    getSelectedBaseRatePlanId,\n    getSelectedOfferId,\n} from \"eshop/modules/configurator/selectors/offers\";\nimport {\n    getLoyaltyLengthFiltersForSelect,\n    getMarketContext,\n    getProcessTypeFiltersForSelect,\n    getPropositionListCount,\n    getPropositionListCountSetMode,\n    getSelectedLoyaltyLengthValue,\n    getSelectedOfferType,\n    getVerifiedMsisdnB2B,\n    getDisableAddToCart,\n} from \"eshop/modules/configurator/selectors/filters\"\n\nimport {\n    checkMsisdnAndGetOffersB2B,\n    clearCheckMsisdnB2B} from \"eshop/modules/configurator/actions/filters\"\nimport {carouselPreparing, carouselReady, preSelectOffer, pickDevice, selectOffer} from \"eshop/modules/configurator/actions/offers\"\nimport {getCarouselReady, getOffersLoading, getVerifyMsisdnLoading} from \"eshop/modules/configurator/selectors/metaData\"\nimport {OraLoader} from \"eshop/components/OraCommonComponents\";\nimport MobileCarouselB2B from \"./MobileCarouselB2B\"\nimport {getPriceIsNet} from \"eshop/modules/cart/selectors\"\nimport {setSalesChannel} from \"../../../../auth/actions/authorization\";\nimport {getSelectedProcessTypeValue} from \"../../../selectors/filters\";\nimport OnlineUtils from \"eshop/utils/OnlineUtils\";\nimport {getMarketContextPrefixUrl} from \"eshop/modules/configurator/selectors/metaData\"\nimport OraVasPacketPickerComponent from \"eshop/modules/simfree/components/modals/OraVasPacketPickerComponent\";\n\nconst minHeightBase = 300;\n\nclass OraPropositionCarouselB2B extends React.PureComponent {\n    constructor(props) {\n        super(props);\n    }\n    //height - to prewent carousel from \"blinking\" while reloading\n    componentDidMount() {\n        this.props.setSalesChannel(this.props.channels.sales);\n        let height=this.getMyHeight();\n        if(height<minHeightBase)\n            height=minHeightBase;\n        this.setState({minHeight:height});\n    }\n\n    componentDidUpdate(){\n        let height=this.getMyHeight();\n        if(this.props.isCarouselReady && height !== this.state.minHeight){\n            if(height<minHeightBase)\n                height=minHeightBase;\n\n            if(this.state.minHeight !== height){\n                this.setState({minHeight:height});\n            }\n        }\n    }\n\n    getMyHeight() {\n        const elem = document.getElementById(\"offerB2BcarouselContainer-loader\");\n        if (!elem)\n            return 0;\n        let height=$(elem).outerHeight();\n        if(height<minHeightBase)\n            height=minHeightBase;\n        console.log(\"myHeight=\",height, this.state.minHeight);\n        return height;\n\n    }\n\n    isLoyaltyLengthSelected() {\n        return this.props.selectedLoyaltyLengthValue || this.props.selectedLoyaltyLengthValue === 0;\n    }\n\n    render() {\n        console.log(\"OraPropositionCarouselB2B render\", this.props);\n        if (this.props.isPropositionListCountSetMode === true\n            || (!OnlineUtils.isAssignment(this.props.processType) && !this.isLoyaltyLengthSelected())\n            || this.props.propositionListCount === 0) {\n\n            return (null);\n        }\n        return (\n            <div className={\"u-position-relative\"}>\n                <OraLoader loading={this.props.offersLoading || !this.props.isCarouselReady} key={\"loader\"}\n                           id=\"offerB2BcarouselContainer-loader\" parentId=\"offerb2b-filter-loader\"\n                           useHeightFixing={false}\n                           childrenHeight={this.state.minHeight}\n                           className={\"u-position-relative\"}>\n\n\n                    <div id=\"offerB2BcarouselContainer\" style={{minHeight: this.props.offersLoading?this.state.minHeight:minHeightBase}}\n                         className=\"g-gray1-bg u-position-relative\"\n                         ref={ref => this.ref = ref}>\n                        {<MobileCarouselB2B {...this.props}/>}\n                    </div>\n\n                </OraLoader>\n            </div>\n\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    isPropositionListCountSetMode: getPropositionListCountSetMode(state),\n    propositionListCount: getPropositionListCount(state),\n    data: {\n        processType: getProcessTypeFiltersForSelect(state),\n        loyaltyLength: getLoyaltyLengthFiltersForSelect(state),\n    },\n    offers: ((state) => {let offersInContext = getOffersDataInContext(state); return offersInContext && offersInContext.offers})(state),\n    selectedOfferId: getSelectedOfferId(state),\n    selectedBaseRatePlanId: getSelectedBaseRatePlanId(state),\n    selectedLoyaltyLengthValue: getSelectedLoyaltyLengthValue(state),\n    verifiedMsisdn: getVerifiedMsisdnB2B(state),\n    verifyMsisdnLoading: getVerifyMsisdnLoading(state),\n    offersLoading: getOffersLoading(state),\n    isCarouselReady: getCarouselReady(state),\n    selectedOfferType: getSelectedOfferType(state),\n    contractRole: getContractRole(state)[0],\n    getContractRoleInProgress: getContractRoleInProgress(state),\n    isB2B: getMarketContext(state) === \"B2B\",\n    showNet: getPriceIsNet(state),\n    isLogged: isLogged(state),\n    addTerminalButtonEnabled: !!getSelectedBaseRatePlanId(state),\n    processType: getSelectedProcessTypeValue(state),\n    disableAddToCart: getDisableAddToCart(state),\n    marketContextPrefixUrl:getMarketContextPrefixUrl(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n    carouselReady: () => dispatch(carouselReady()),\n    carouselPreparing: () => dispatch(carouselPreparing()),\n\n    selectOffer: (propositionId) => dispatch(preSelectOffer(propositionId, 1, null)),\n    verifyMsisdn: (msisdn, index) => dispatch(checkMsisdnAndGetOffersB2B(msisdn, index)),\n    clearCheckMsisdn: (index) => dispatch(clearCheckMsisdnB2B(index)),\n    setSalesChannel : (channel) => dispatch(setSalesChannel(channel)),\n    selectOfferNoPhone: (propositionId) => dispatch(selectOffer(propositionId)),\n    pickDevice: (propositionId, url) => dispatch(pickDevice(propositionId, url)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OraPropositionCarouselB2B)\n"],
    "file": "OraPropositionCarouselB2B.js"
}