{
    "version": 3,
    "sources": ["../../../../../es6/eshop/flux/utils/OraEshopAPI.js"],
    "names": ["OraEshopAPI", "prepareFilters", "filters", "availableProductsKey", "val", "$", "extend", "getAvailableProductsKey", "prepareAddToCartData", "plan", "services", "products", "msisdn", "process", "deviceVariantId", "numberVerificationData", "serviceIds", "map", "service", "id", "addToCartDataWithoutMsisdn", "rateplanId", "JSON", "stringify", "Object", "assign", "prepareWZRKConsentsCodes", "consents", "consentsCodes", "filter", "consent", "type", "code", "getOffers", "offerUrl", "bsfContextPath", "then", "OraActions", "server", "loadedOffers", "catch", "error", "getOrderDataNumber", "orderUrl", "loadedOrderNumber", "getFilters", "filtersAPI", "loadedFilters", "getServices", "offerId", "bundleTemplateId", "processType", "vasesAPI", "reqData", "propositionId", "bundle", "loadedServices", "getSimCards", "simAPI", "minimumStockLevel", "loadedSimCards", "getSimCardTypes", "loadedSimCardTypes", "getSimCardTypesError", "validateSimCards", "simList", "validateResult", "validateSimAndImei", "imeiList", "simImeiAPI", "getMsisdnList", "number", "pattern", "msisdnAPI", "loadedMsisdnList", "checkMsisdnType", "checkedMsisdnType", "verifyNumber", "verifiedNumber", "releaseMsisdnList", "msisdnList", "length", "Promise", "resolve", "releasedMsisdnList", "rerollMsisdnList", "bind", "searchMsisdnList", "reserveMsisdn", "reservedMsisdn", "getCart", "cartAPI", "loadedCart", "getTelesalesCampaignData", "tlsCampaignAPI", "loadedCampaignData", "addToCart", "addTocartAPI", "addedToCart", "changeOffer", "bundleNo", "doCheckoutStep", "data", "checkoutStepAPI", "checkoutStepDone", "checkoutStepError", "saveCheckoutStep", "checkoutStepSaved", "calculatePrice", "offer", "calculatePriceAPI", "priceCalculated", "calculateCart", "calculateCartAPI", "cartCalculated", "changeDevice", "url", "from", "document", "location", "href", "encodeURIComponent", "gotoDeviceDetailsPage", "variantId", "getConsent", "deliveryMethods", "consentAPI", "loadedConsents", "getOfferDeviceFilters", "deviceOfferFilterAPI", "params", "loadedDeviceOfferFilter", "getDeviceParameterFilters", "deviceParametersAPI", "loadedDeviceParameterFilter", "getConsentByType", "serviceVariantsCodes", "consentType", "discountAPI", "serviceVariantCodes", "loadedConsentsByType", "getCartConsents", "cartConsentAPI", "loadedCartConsents", "verifyBenefitConsents", "benefitConsentsVerified", "getBenefits", "checked", "loadedBenefits", "getAvailableDeliveryMethods", "deliveryMethodControllerAPI", "availableDeliveryMethods", "validatePostCodeCBS", "postCode", "bundleNumbers", "validatePostCode", "postcode", "validatedPostCodeCBS", "validateStreetByPostCodeAndCity", "city", "term", "cityname", "getStreetsByPostCodeAntCityCBS", "getDeliveryData", "deliveryDataControllerAPI", "loadDeliveryData", "getOrderData", "orderDataControllerAPI", "loadedOrderData", "getAvailableDeliveryData", "availableDeliveryData", "loadAvailableDeliveryData", "getDocumentsForProducts", "productIds", "getDocumentsForProductsAPI", "loadedDocumentsList", "getDocumentsForCart", "getDocumentsForCartAPI", "loadedDocumentsForCart", "getDocumentForConsents", "getDocumentForConsentsAPI", "loadedConsentsDocument", "getDocumentsFromOrder", "orderGuid", "getDocumentsFromOrderAPI", "loadedDocumentsFromOrder", "createDocumentAsyncResultAPI", "getDocumentAsyncResultAPI", "checkCreateDocumentAsyncResult", "status", "checkGetDocumentAsyncResult", "documentCode", "getOrCreateDocument", "checkDocumentExistenceUrl", "result", "createDocument", "getDocument", "createDocumentUrl", "documentDefinitionCodes", "factory", "createdDocument", "loadDocumentError", "checkManualVerificationAsyncResult", "checkManualVerificationAsyncResultAPI", "iterations", "timeout", "response", "cvManualVerificationResult", "cvManualVerificationResultError", "findInLocalStorageUrl", "path", "loadedDocument", "getDocumentUrl", "get", "getDocumentFromOrder", "bundleNumber", "getDocumentFromOrderUri", "getDocumentFromOrderCompleted", "failedToLoadDocumentFromOrder", "removeFromCart", "removeFromCartUrl", "removedFromCart", "checkReserveStatus", "checkReserveStatusUrl", "checkedReserveStatus", "getNearestPoses", "deliveryModeCode", "gpsLatitude", "lat", "gpsLongitude", "lng", "nearestPosesLoaded", "getAssistModeState", "assistModeState", "assistModeStateLoaded", "createAssistStateError", "leaveAssistMode", "assistModeLeave", "assistModeStateChanged", "createAssistModeLeaveError", "enterAssistMode", "sisId", "assistModeEnter", "createAssistModeEnterError", "getEmployeeList", "limit", "lastName", "name", "loginOtsa", "fullBscs", "offset", "employeeListLoaded", "createEmployeeListSearchError", "getPhoneContactData", "phoneContactDataControllerAPI", "loadPhoneContactData", "clearCustomerSession", "clearCustomerSessionAPI", "clearCustomerSessionError", "getDeviceList", "selectedDevice", "selectedDeviceId", "productId", "manufacturers", "console", "log", "prevFilters", "parse", "deviceListLoaded", "createDeviceListSearchError", "getDeviceListMore", "deviceListMoreLoaded", "validateAndOrderItems", "sapIfsReservationDone", "checkAndOrderSerialNumbersError", "getSapFioriCorrectiveInvoiceLink", "sapFioriCorrectiveInvoiceLinkReady", "getSapFioriLinks", "orderId", "sapFioriLinksReady", "sapFioriLinksError", "unlockSaleInSap", "unlockSaleInSapDone", "unlockSaleInSapError", "getPaymentAndFiscalizationDataFromSap", "paymentAndFiscalizationDataLoaded", "paymentAndFiscalizationDataError", "checkUnlockSaleInSapStatus", "checkPaymentStatus", "paymentStatusVerificationSuccess", "createOrderPaymentValidationError", "orderCancel", "orderCancelResponse", "orderCancelError", "printOrderNumber", "printOutDocumentResult", "createOrderNumberPrintError", "printInvoiceNumber", "createInvoicePrintError", "getMNPFormData", "loadedMNPData", "getCustomerAdditionalDocuments", "loadedCustomerAdditionalDocuments", "throwAddToCartError", "errorData", "handleErrorIn200Response", "responseData", "responseJSON", "message", "addMagnumToMultiCart", "voipNumber", "knaNumber", "voiceBundleMsisdn", "dataBundleMsisdn", "secondaryChoiceOffer", "removeMagnumFromMultiCart", "bundleNos", "getChannel", "loadedChannel"],
    "mappings": "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",
    "sourcesContent": ["import OraActions from \"eshop/flux/actions/OraActions\";\nimport {get, getPdf, put, post, postJson, postJsonObject, poll, mock} from \"eshop/flux/utils/OraApiUtils\";\nimport $ from \"jquery\";\n\n/**\n * All API calls for eshop\n **/\nvar OraEshopAPI = (function(OraEshopAPI) {\n\n    // TODO: refactor availableProductsKey as a proper filter\n    function prepareFilters(filters) {\n        var availableProductsKey = $('#availableProductsKey').val();\n        return $.extend(availableProductsKey ? {availableProductsKey: availableProductsKey} : {}, filters);\n    }\n\n    function getAvailableProductsKey() {\n        return $('#availableProductsKey').val();\n    }\n\n    function prepareAddToCartData(plan, services, products, msisdn, process, deviceVariantId, numberVerificationData) {\n        var serviceIds = services.map(service => service.id);\n        let addToCartDataWithoutMsisdn = {\n            'bundle': plan.id,\n            'offer': plan.rateplanId,\n            'services': serviceIds,\n            'products': products,\n            'process': process,\n            'deviceVariant': deviceVariantId,\n            'numberVerificationData': JSON.stringify(numberVerificationData)\n        };\n        return Object.assign(addToCartDataWithoutMsisdn, msisdn ? {'msisdn': msisdn} : {});\n    }\n\n\n    function prepareWZRKConsentsCodes(consents) {\n        var consentsCodes = consents\n            .filter(consent => consent.type === \"WZRK\")\n            .map(consent => consent.code);\n        return {\n            'consentEligsCodes': consentsCodes\n        };\n    }\n\n    OraEshopAPI.getOffers = function(filters, msisdn) {\n        var offerUrl = bsfContextPath + \"/offersList/offers?\";\n        return get(offerUrl, $.extend(prepareFilters(filters), {msisdn: msisdn}))\n            .then(OraActions.server.loadedOffers)\n            .catch(OraActions.error.getOffers);\n    };\n\n    OraEshopAPI.getOrderDataNumber = function() {\n        var orderUrl = bsfContextPath + \"/order/placedOrderSummary\";\n        return get(orderUrl)\n            .then(OraActions.server.loadedOrderNumber);\n    };\n\n    OraEshopAPI.getFilters = function(filters) {\n        var filtersAPI = bsfContextPath + \"/filters/getFilters\";\n        return get(filtersAPI, prepareFilters(filters))\n            .then(OraActions.server.loadedFilters);\n    };\n\n    OraEshopAPI.getServices = function (offerId, bundleTemplateId, processType) {\n        var vasesAPI = bsfContextPath + \"/vases/getVases\";\n        var reqData = {\n            propositionId: offerId,\n            bundle: bundleTemplateId,\n            process: processType\n        };\n        return get(vasesAPI, reqData)\n            .then(OraActions.server.loadedServices);\n    };\n\n    OraEshopAPI.getSimCards = function (offerId, processType) {\n        var simAPI = bsfContextPath + \"/simCard/getSimCards\";\n        var minimumStockLevel = $(\"#minimumSimCardStockLevel\").val();\n        var reqData = {propositionId: offerId, processType: processType, minimumStockLevel: minimumStockLevel};\n        return get(simAPI, reqData)\n            .then(OraActions.server.loadedSimCards);\n    };\n\n    OraEshopAPI.getSimCardTypes = function () {\n        var simAPI = bsfContextPath + \"/simCard/getSimCardTypes\";\n        return get(simAPI)\n            .then(OraActions.server.loadedSimCardTypes)\n            .catch(OraActions.error.getSimCardTypesError);\n    };\n\n    OraEshopAPI.validateSimCards = function (simList) {\n        var simAPI = bsfContextPath +  \"/simCard/addSimCardsToCart\";\n        return postJsonObject(simAPI, simList)\n            .then(OraActions.server.validateResult);\n    };\n\n     OraEshopAPI.validateSimAndImei = function (simList,imeiList) {\n            var simImeiAPI = bsfContextPath +  \"/MobileResources/addSimImeiToCart\";\n\n            return postJsonObject(simImeiAPI, {simList: simList, imeiList: imeiList})\n                .then(OraActions.server.validateResult);\n        };\n\n    OraEshopAPI.getMsisdnList = function(number, pattern) {\n        var msisdnAPI = bsfContextPath + \"/resources/msisdn/getMSISDNs\";\n        return postJson(msisdnAPI, {number: number, pattern: pattern})\n            .then(OraActions.server.loadedMsisdnList);\n    };\n\n    OraEshopAPI.checkMsisdnType = function(number) {\n        var msisdnAPI = bsfContextPath + \"/resources/msisdn/checkMSISDNType\";\n        return postJson(msisdnAPI, {number: number})\n            .then(OraActions.server.checkedMsisdnType);\n    };\n\n    OraEshopAPI.verifyNumber = function(number, processType) {\n        var msisdnAPI = bsfContextPath + \"/resources/msisdn/verifyNumber\";\n        return postJson(msisdnAPI, {number: number, processType: processType})\n            .then(OraActions.server.verifiedNumber)\n            .catch(OraActions.error.verifyNumber);\n    };\n\n\n    OraEshopAPI.releaseMsisdnList = function(msisdnList) {\n        var msisdnAPI = bsfContextPath + \"/resources/msisdn/unreserve\";\n        if (!msisdnList || msisdnList.length === 0)\n            return Promise.resolve();\n        return post(msisdnAPI, {msisdnList: msisdnList })\n            .then(OraActions.server.releasedMsisdnList);\n    };\n\n    OraEshopAPI.rerollMsisdnList = function(number, pattern, msisdnList) {\n        return this.getMsisdnList(number, pattern)\n            .then(this.releaseMsisdnList.bind(this, msisdnList));\n    };\n\n    OraEshopAPI.searchMsisdnList = function(number, pattern, msisdnList) {\n        return this.releaseMsisdnList(msisdnList)\n            .then(this.getMsisdnList.bind(this, number, pattern));\n    };\n\n    OraEshopAPI.reserveMsisdn = function(msisdn) {\n        var msisdnAPI = bsfContextPath + \"/resources/msisdn/reserve\";\n        return postJson(msisdnAPI, {msisdn: msisdn})\n            .then(OraActions.server.reservedMsisdn)\n            .catch(OraActions.error.reserveMsisdn);\n    };\n\n    OraEshopAPI.getCart = function(id) {\n        var cartAPI = bsfContextPath + \"/koszyk/minikoszyk\";\n        return get(cartAPI, {id: id})\n            .then(OraActions.server.loadedCart);\n    };\n\n    OraEshopAPI.getTelesalesCampaignData = function() {\n        var tlsCampaignAPI = bsfContextPath + \"/telesales/campaign/data\";\n        return get(tlsCampaignAPI).then(OraActions.server.loadedCampaignData);\n\n    }\n\n    OraEshopAPI.addToCart = function(plan, services, products, msisdn, process, consents, deviceVariantId, numberVerificationData) {\n        var addTocartAPI = bsfContextPath + \"/koszyk/dodaj\";\n\n        return postJson(addTocartAPI, prepareAddToCartData(plan, services, products, msisdn, process, consents, deviceVariantId, numberVerificationData))\n                .then(OraActions.server.addedToCart)\n                .catch(OraActions.error.addToCart);\n    };\n\n    OraEshopAPI.changeOffer = function(bundleNo, plan, services, products, msisdn, process, consents, deviceVariantId, numberVerificationData) {\n        var addTocartAPI = bsfContextPath + \"/koszyk/change/\"+bundleNo;\n\n        return postJson(addTocartAPI, prepareAddToCartData(plan, services, products, msisdn, process, consents, deviceVariantId, numberVerificationData))\n                    .then(OraActions.server.addedToCart)\n                    .catch(OraActions.error.addToCart);\n    };\n\n    OraEshopAPI.doCheckoutStep = function (data) {\n        var checkoutStepAPI = bsfContextPath + $('#currentCheckoutStepUrl').val();\n        return postJsonObject(checkoutStepAPI, data)\n            .then(OraActions.server.checkoutStepDone)\n            .catch(OraActions.error.checkoutStepError);\n    };\n\n    OraEshopAPI.saveCheckoutStep = function (data) {\n        var checkoutStepAPI = bsfContextPath + $('#currentCheckoutStepUrl').val() + \"/zapisz\";\n        return postJsonObject(checkoutStepAPI, data)\n            .then(OraActions.server.checkoutStepSaved);\n    };\n\n    OraEshopAPI.calculatePrice = function(offer, services, products, process, deviceVariantId) {\n        var calculatePriceAPI = bsfContextPath + \"/koszyk/oblicz\";\n\n        return postJson(calculatePriceAPI, prepareAddToCartData(offer, services, products, null, process, deviceVariantId, null))\n            .then(OraActions.server.priceCalculated)\n            .catch(OraActions.error.calculatePrice);\n    };\n\n    OraEshopAPI.calculateCart = function () {\n        var calculateCartAPI = bsfContextPath + \"/koszyk/przelicz\";\n        return get(calculateCartAPI)\n            .then(OraActions.server.cartCalculated);\n    };\n\n    OraEshopAPI.changeDevice = function (url, offerId, from) {\n        document.location.href = url + \"?propositionId=\" + offerId + \"&from=\" + encodeURIComponent(from);\n    };\n\n    OraEshopAPI.gotoDeviceDetailsPage = function (url, variantId, from) {\n        document.location.href = url + \"?variantId=\" + variantId + \"&from=\" + encodeURIComponent(from);\n    };\n\n    OraEshopAPI.getConsent = function(deliveryMethods) {\n        var consentAPI = bsfContextPath + \"/consents\";\n        return get(consentAPI, {deliveryMethods})\n            .then(OraActions.server.loadedConsents);\n    };\n\n    OraEshopAPI.getOfferDeviceFilters = function(processType) {\n        const deviceOfferFilterAPI = bsfContextPath + \"/device/filters\";\n        const params = {\n            availableProductsKey: getAvailableProductsKey(),\n            processType: processType\n        };\n\n        return get(deviceOfferFilterAPI,params)\n            .then(OraActions.server.loadedDeviceOfferFilter);\n       /* return mock(\"\", [\n                               {\n                                   \"defaultOption\": null,\n                                   \"description\": \"24 miesięcy\",\n                                   \"value\": 24,\n                                   \"propositions\": [\n                                       {\n                                           \"propositionId\" : \"Orange_Telefon_Komorkowy_247560$MOB_CPO_6029_5700_AC_247561\",\n                                           \"lowestPrice\" : 10.99,\n                                           \"name\": \"testowa\"\n                                       },\n                                       {\n                                           \"propositionId\" : \"Orange_Telefon_Komorkowy_247560$MOB_CPO_6029_5700_AC_247560\",\n                                           \"lowestPrice\" : 30.99,\n                                           \"name\": \"testowa 1\"\n\n                                       }\n                                   ]\n                               },\n                               {\n                                   \"defaultOption\": null,\n                                   \"description\": \"12 miesięcy\",\n                                   \"value\": 12,\n                                   \"propositions\": [\n                                       {\n                                           \"propositionId\" : \"Orange_Telefon_Komorkowy_247560$MOB_CPO_6029_5700_AC_2475611\",\n                                           \"lowestPrice\" : 133.99,\n                                           \"name\": \"testowa 12 miesiecy\"\n                                       },\n                                       {\n                                           \"propositionId\" : \"Orange_Telefon_Komorkowy_247560$MOB_CPO_6029_5700_AC_2475601\",\n                                           \"lowestPrice\" : 3330.99,\n                                           \"name\": \"testowa 1 12 miesiecy\"\n\n                                       }\n                                   ]\n                               }\n\n                           ]\n\n                       )\n            .then(OraActions.server.loadedDeviceOfferFilter);*/\n    };\n\n    OraEshopAPI.getDeviceParameterFilters = function(propositionId,processType) {\n        const deviceParametersAPI = bsfContextPath + \"/device/parameters\";\n        const params = {\n            propositionId: propositionId,\n            processType: processType\n        }\n\n        return get(deviceParametersAPI,params)\n                    .then(OraActions.server.loadedDeviceParameterFilter);\n    }\n\n    OraEshopAPI.getConsentByType = function(serviceVariantsCodes, consentType) {\n        var discountAPI = bsfContextPath + \"/consents/byTypeAndServiceVariants\";\n        let params = {\n            serviceVariantCodes: serviceVariantsCodes,\n            consentType: consentType\n        };\n\n        return get(discountAPI, params)\n            .then(OraActions.server.loadedConsentsByType);\n    };\n\n    OraEshopAPI.getCartConsents = function() {\n        var cartConsentAPI = bsfContextPath + \"/koszyk/zgody\";\n        return get(cartConsentAPI)\n            .then(OraActions.server.loadedCartConsents);\n    };\n\n    OraEshopAPI.verifyBenefitConsents = function(consents) {\n       var consentAPI = bsfContextPath + \"/koszyk/modifyConsentsInCart\";\n        return postJsonObject(consentAPI,consents).then(OraActions.server.benefitConsentsVerified);\n\n/*        return mock(\"\",[\n            {\n                consentCode: \"MOB_CE_MOB_CONS_PHONE_CONTACT_MARKETING_MOB_CD_MOB_CONS_PHONE_CONTACT_MARKETING_B2C_MOB_CHL_WWW_ACT_B2C_MOB_CHL_WWW_ACT_POS_MOB\",\n                wasModificationSuccessful: true\n            }\n        ]).then(OraActions.server.benefitConsentsVerified);*/\n    };\n\n    OraEshopAPI.getBenefits = function () {\n      //TODO implement\n        return mock(\"\", [\n            {\n                code: \"1\",\n                checked: false\n            },\n            {\n                code: \"2\",\n                checked: false\n            },\n            {\n                code: \"3\",\n                checked: false\n            }\n        ])\n            .then(OraActions.server.loadedBenefits);\n    };\n\n    OraEshopAPI.getAvailableDeliveryMethods = function() {\n        var deliveryMethodControllerAPI = bsfContextPath + \"/checkout/delivery/delivery-methods\";\n        return get(deliveryMethodControllerAPI, \"\")\n            .then(OraActions.server.availableDeliveryMethods);\n    };\n\n    OraEshopAPI.validatePostCodeCBS = function(postCode, bundleNumbers) {\n        var validatePostCode = bsfContextPath + \"/telefonybezumowy/zamowienie/wiele/miasto\";\n        return get(validatePostCode,{postcode : postCode})\n            .then((data) =>  OraActions.server.validatedPostCodeCBS(data, bundleNumbers));\n    };\n\n    OraEshopAPI.validateStreetByPostCodeAndCity = function(city, postCode, term, bundleNumbers) {\n        var validatePostCode = bsfContextPath + \"/telefonybezumowy/zamowienie/wiele/adresyByCodeAndCity\";\n        return get(validatePostCode,{term : term,cityname : city,postcode : postCode})\n            .then((data) => OraActions.server.getStreetsByPostCodeAntCityCBS(data, bundleNumbers));\n    };\n\n    OraEshopAPI.getDeliveryData = function() {\n        var deliveryDataControllerAPI = bsfContextPath + \"/checkout/delivery/delivery-data\";\n        return get(deliveryDataControllerAPI, \"\")\n            .then(OraActions.server.loadDeliveryData);\n    };\n\n    OraEshopAPI.getOrderData = function() {\n        var orderDataControllerAPI = bsfContextPath + \"/order/placedOrderSummary\";\n        return get(orderDataControllerAPI, \"\")\n            .then(OraActions.server.loadedOrderData);\n    };\n\n    OraEshopAPI.getAvailableDeliveryData = function() {\n        var availableDeliveryData = bsfContextPath + \"/checkout/delivery/availableDeliveryData\";\n        return get(availableDeliveryData,\"\")\n            .then(OraActions.server.loadAvailableDeliveryData);\n        /*return mock(\"\",\n        {\n            korespondencyjny : {\n                firstName: \"Marek\",\n                lastName: \"Afrykanski\",\n                postalCode : \"22400\",\n                town : \"Zamość\",\n                streetName : \"Koszary\",\n                streetNumber : \"69\",\n            },\n            main : {\n                firstName: \"Marek\",\n                lastName: \"Afrykanski\",\n                postalCode : \"05290\",\n                town : \"Kobyłka\",\n                streetName : \"Napoleona\",\n                streetNumber : \"12\",\n                appartmentNo: \"1\"\n            }\n        }).then(OraActions.server.loadAvailableDeliveryData);*/\n    };\n\n    OraEshopAPI.getDocumentsForProducts = function(productIds, processType) {\n        var getDocumentsForProductsAPI = bsfContextPath + \"/documents/getDocumentsForProducts\";\n        var reqData = {productIds: productIds, processType: processType};\n        return get(getDocumentsForProductsAPI, reqData)\n            .then(OraActions.server.loadedDocumentsList);\n    };\n\n    OraEshopAPI.getDocumentsForCart = function() {\n        var getDocumentsForCartAPI = bsfContextPath + \"/documents/getDocumentsForCart\";\n        return get(getDocumentsForCartAPI, \"\")\n            .then(OraActions.server.loadedDocumentsForCart);\n    };\n\n    OraEshopAPI.getDocumentForConsents = function(consents, bundleNo) {\n        var getDocumentForConsentsAPI = bsfContextPath + \"/documents/getDocumentForConsentEligs\";\n        return get(getDocumentForConsentsAPI, prepareWZRKConsentsCodes(consents))\n            .then(OraActions.server.loadedConsentsDocument.bind(null, bundleNo));\n    };\n\n    OraEshopAPI.getDocumentsFromOrder = function(orderGuid) {\n        var getDocumentsFromOrderAPI = bsfContextPath + \"/documents/getDocumentsFromOrder\";\n        return get(getDocumentsFromOrderAPI, {orderGuid: orderGuid}).then(OraActions.server.loadedDocumentsFromOrder);\n    };\n\n    var createDocumentAsyncResultAPI = bsfContextPath + \"/documents/createDocumentAsyncResult\";\n    var getDocumentAsyncResultAPI = bsfContextPath + \"/documents/getDocumentAsyncResult\";\n\n    function checkCreateDocumentAsyncResult() {\n        return poll(createDocumentAsyncResultAPI, null, status => status === true);\n    }\n\n    function checkGetDocumentAsyncResult(documentCode) {\n        return poll(getDocumentAsyncResultAPI, documentCode, status => status === true);\n    }\n\n    OraEshopAPI.getOrCreateDocument = function (documentCode, bundleNo) {\n        var data = {\"documentCode\": documentCode, bundleNo: bundleNo};\n        var checkDocumentExistenceUrl = bsfContextPath + \"/documents/checkDocumentExistence\";\n        return get(checkDocumentExistenceUrl, data)\n            .then((result) => {\n                if(!result){\n                    OraEshopAPI.createDocument(documentCode, bundleNo);\n                } else {\n                    OraEshopAPI.getDocument(documentCode, bundleNo);\n                }\n            });\n    };\n\n\n    OraEshopAPI.createDocument = function (documentCode, bundleNo) {\n        var createDocumentUrl = bsfContextPath + \"/documents/createDocuments\";\n        return get(createDocumentUrl, {documentDefinitionCodes: documentCode, bundleNo: bundleNo, factory: \"MOBILE\"})\n            .then(checkCreateDocumentAsyncResult)\n            .then(OraActions.server.createdDocument.bind(null, documentCode, bundleNo))\n            .catch(OraActions.server.loadDocumentError.bind(null, documentCode, bundleNo));\n    };\n\n    OraEshopAPI.checkManualVerificationAsyncResult = function () {\n        var checkManualVerificationAsyncResultAPI = bsfContextPath + \"/koszyk/danezamawiajacego/checkManualVerificationAsyncResult\";\n        var iterations = 60;\n        var timeout = 10000;\n        return poll(checkManualVerificationAsyncResultAPI, null,  response => response.code !== \"WAITING\", iterations, timeout)\n            .then(OraActions.server.cvManualVerificationResult)\n            .catch(OraActions.error.cvManualVerificationResultError);\n    };\n\n    OraEshopAPI.getDocument = function (documentCode, bundleNo) {\n        let data = {\"documentCodes\": documentCode, bundleNo: bundleNo}\n        var findInLocalStorageUrl = bsfContextPath + \"/documents/findDocumentInLocalStorage\";\n        return get(findInLocalStorageUrl, data)\n            .then((path) => {\n                if (path[documentCode]) {\n                    OraActions.server.loadedDocument(documentCode, bundleNo, path);\n                } else {\n                    let getDocumentUrl = bsfContextPath + \"/documents/getDocuments\";\n\n                    get(getDocumentUrl, data)\n                        .then(checkGetDocumentAsyncResult.bind(null, data))\n                        .then(get.bind(null, findInLocalStorageUrl, data))\n                        .then(OraActions.server.loadedDocument.bind(null, documentCode, bundleNo))\n                        .catch(OraActions.server.loadDocumentError.bind(null, documentCode, bundleNo));\n                }\n            });\n    };\n\n    OraEshopAPI.getDocumentFromOrder = function (documentCode, orderGuid, bundleNumber) {\n        var getDocumentFromOrderUri = bsfContextPath + \"/documents/getDocumentFromOrder\";\n        return poll(getDocumentFromOrderUri, {documentCode: documentCode, orderGuid: orderGuid, bundleNumber: bundleNumber}, response => response.status !== \"LOADING\", 20)\n        .then(OraActions.server.getDocumentFromOrderCompleted)\n        .catch(OraActions.error.failedToLoadDocumentFromOrder.bind(null, documentCode, bundleNumber));\n    }\n\n    /**\n    * If bundleNo is passed, function removes bundle from cart,\n    * if bundleNo is null whole cart is cleaned\n    */\n    OraEshopAPI.removeFromCart = function (bundleNo, id) {\n        var removeFromCartUrl = bsfContextPath + \"/koszyk/usun\" + (bundleNo != null ? \"/\" + bundleNo : \"\");\n        return post(removeFromCartUrl, {id: id})\n            .then(OraActions.server.removedFromCart);\n    };\n\n    OraEshopAPI.checkReserveStatus = function(msisdn) {\n        let checkReserveStatusUrl = bsfContextPath + \"/resources/msisdn/checkReserveStatus\";\n        return post(checkReserveStatusUrl, {msisdn: msisdn})\n            .then(OraActions.server.checkedReserveStatus.bind(null, msisdn));\n    };\n\n    OraEshopAPI.getNearestPoses = function(location, bundleNumbers, deliveryModeCode) {\n        let getNearestPoses = bsfContextPath + \"/checkout/pickup/nearest\";\n        return get(getNearestPoses, {gpsLatitude: location.lat, gpsLongitude: location.lng, deliveryModeCode: deliveryModeCode})\n            .then(OraActions.server.nearestPosesLoaded.bind(null, bundleNumbers));\n    };\n\n    OraEshopAPI.getAssistModeState = function() {\n        let assistModeState = bsfContextPath + \"/assist/state\";\n\n        return get(assistModeState, {})\n            .then(OraActions.server.assistModeStateLoaded)\n            .catch(OraActions.error.createAssistStateError);\n    };\n\n    OraEshopAPI.leaveAssistMode = function() {\n        let assistModeLeave = bsfContextPath + \"/assist/leave\";\n\n        return post(assistModeLeave, {})\n            .then(OraActions.server.assistModeStateChanged)\n            .catch(OraActions.error.createAssistModeLeaveError);\n    };\n\n    OraEshopAPI.enterAssistMode = function(sisId) {\n        let assistModeEnter = bsfContextPath + \"/assist/enter\";\n\n        return post(assistModeEnter, {sisId: sisId})\n            .then(OraActions.server.assistModeStateChanged)\n            .catch(OraActions.error.createAssistModeEnterError);\n    };\n\n    OraEshopAPI.getEmployeeList = function(filters, limit) {\n        let url = bsfContextPath + \"/employee/list\";\n\n        let params = {\n            lastName: filters.lastName,\n            name: filters.name,\n            location: filters.location,\n            loginOtsa: filters.loginOtsa,\n            fullBscs: filters.fullBscs,\n            sisId: filters.sisId,\n            offset: limit.offset,\n            limit: limit.limit\n        };\n\n        return get(url, params)\n            .then(OraActions.server.employeeListLoaded)\n            .catch(OraActions.error.createEmployeeListSearchError);\n    };\n\n    OraEshopAPI.getPhoneContactData = function() {\n        var phoneContactDataControllerAPI = bsfContextPath + \"/checkout/delivery/phoneContact\";\n        return get(phoneContactDataControllerAPI, \"\")\n            .then(OraActions.server.loadPhoneContactData);\n    };\n\n    OraEshopAPI.clearCustomerSession = function() {\n        var clearCustomerSessionAPI = bsfContextPath + \"/koszyk/danezamawiajacego/clearCustomerSession\";\n        return post(clearCustomerSessionAPI, {})\n            .then(OraActions.server.clearCustomerSession)\n            .catch(OraActions.error.clearCustomerSessionError);\n    };\n    //serio Tomek? zrobil takie o dwie funkcje i uciekl\n    OraEshopAPI.getDeviceList = function(filters, limit, processType,selectedDevice) {\n        let url = bsfContextPath + \"/device/list\";\n\n        let params = {\n            propositionId: filters.propositionId,\n            offset: limit.offset,\n            limit: limit.limit,\n            processType: processType,\n            selectedDeviceId: selectedDevice.productId,\n            \"manufacturers[]\": filters.manufacturers\n        };\n        console.log('----GET---- Filters ', filters.manufacturers);\n        var prevFilters = JSON.parse(JSON.stringify(filters));\n\n        return get(url, params)\n            .then(OraActions.server.deviceListLoaded.bind(null, prevFilters))\n            .catch(OraActions.error.createDeviceListSearchError);\n    };\n\n    OraEshopAPI.getDeviceListMore = function(filters, limit, processType, selectedDevice) {\n        let url = bsfContextPath + \"/device/list\";\n\n        let params = {\n            propositionId: filters.propositionId,\n            offset: limit.offset,\n            limit: limit.limit,\n            processType: processType,\n            selectedDeviceId: selectedDevice.productId,\n            \"manufacturers[]\": filters.manufacturers\n        };\n        console.log('----GET---- Filters ', filters.manufacturers);\n        var prevFilters = JSON.parse(JSON.stringify(filters));\n\n        return get(url, params)\n            .then(OraActions.server.deviceListMoreLoaded.bind(null, prevFilters))\n            .catch(OraActions.error.createDeviceListSearchError);\n    };\n\n    OraEshopAPI.validateAndOrderItems = function (data) {\n        const url = bsfContextPath + \"/goodsOrders/serialNumbers\";\n        return postJsonObject(url, data)\n            .then(OraActions.server.sapIfsReservationDone)\n            .catch(OraActions.error.checkAndOrderSerialNumbersError);\n    };\n\n    OraEshopAPI.getSapFioriCorrectiveInvoiceLink = function () {\n        let url = bsfContextPath + \"/goodsOrders/fioriCorrectiveInvoiceLink\" ;\n        return get(url, '')\n            .then(OraActions.server.sapFioriCorrectiveInvoiceLinkReady);\n    };\n\n    OraEshopAPI.getSapFioriLinks = function (orderId) {\n        let url = bsfContextPath + \"/goodsOrders/fioriLinks/\" + orderId;\n        return get(url, '')\n            .then(OraActions.server.sapFioriLinksReady)\n            .catch(OraActions.error.sapFioriLinksError);\n    };\n\n    OraEshopAPI.unlockSaleInSap = function (orderId) {\n        let url = bsfContextPath + \"/goodsOrders/unlockSale/\" + orderId;\n        return put(url, '')\n            .then(OraActions.server.unlockSaleInSapDone)\n            .catch(OraActions.error.unlockSaleInSapError);\n    };\n\n    OraEshopAPI.getPaymentAndFiscalizationDataFromSap = function (orderId) {\n        let url = bsfContextPath + \"/goodsOrders/paymentAndFiscalization/\" + orderId;\n        return get(url,'')\n            .then(OraActions.server.paymentAndFiscalizationDataLoaded)\n            .catch(OraActions.error.paymentAndFiscalizationDataError);\n    };\n\n    OraEshopAPI.checkUnlockSaleInSapStatus = function (orderId) {\n        let url = bsfContextPath + \"/goodsOrders/unlockSale/status/\" + orderId;\n        return get(url, '')\n            .then(OraActions.server.unlockSaleInSapDone)\n            .catch(OraActions.error.unlockSaleInSapError);\n    };\n\n    OraEshopAPI.checkPaymentStatus = function (orderId) {\n        let url = bsfContextPath + '/goodsOrders/paymentStatus/' + orderId;\n        return get(url, '')\n            .then(OraActions.server.paymentStatusVerificationSuccess)\n            .catch(OraActions.error.createOrderPaymentValidationError);\n    };\n\n    OraEshopAPI.orderCancel = function (orderId) {\n        let url = bsfContextPath + '/goodsOrders/cancelOrder/' + orderId;\n        return put(url, '')\n            .then(OraActions.server.orderCancelResponse)\n            .catch(OraActions.error.orderCancelError);\n    };\n\n    OraEshopAPI.printOrderNumber = function (orderId) {\n        let url = bsfContextPath + '/goodsOrders/checkoutPaymentPrintout/' + orderId;\n\n        return getPdf(url)\n            .then(OraActions.server.printOutDocumentResult)\n            .catch(OraActions.error.createOrderNumberPrintError);\n    };\n\n    OraEshopAPI.printInvoiceNumber = function (orderId) {\n        let url = bsfContextPath + '/goodsOrders/invoicePrintout/' + orderId;\n\n        return getPdf(url)\n            .then(OraActions.server.printOutDocumentResult)\n            .catch(OraActions.error.createInvoicePrintError);\n    };\n\n    OraEshopAPI.getMNPFormData = function(){\n            let url = bsfContextPath + \"/mnp/getMNPFormData\";\n            return get(url, \"\")\n                .then(OraActions.server.loadedMNPData);\n    };\n\n    OraEshopAPI.getCustomerAdditionalDocuments = function(){\n        let url = bsfContextPath + \"/customer/getAdditionalDocuments\";\n        return get(url, \"\")\n            .then(OraActions.server.loadedCustomerAdditionalDocuments);\n    };\n\n    function throwAddToCartError (errorData) { \n        OraActions.error.addToCart(errorData);\n        throw errorData;\n    }\n\n    function handleErrorIn200Response (responseData) {\n            let errorData = {responseJSON: {message: responseData.message}}\n            throwAddToCartError(errorData);\n    }\n\n    OraEshopAPI.addMagnumToMultiCart = function (propositionId, deviceVariantId, voipNumber, knaNumber, voiceBundleMsisdn, dataBundleMsisdn, secondaryChoiceOffer) {\n        const url = bsfContextPath + \"/hapi/multiCart/add\";\n        const data = {propositionId, deviceVariantId, voipNumber, knaNumber, voiceBundleMsisdn, dataBundleMsisdn, secondaryChoiceOffer};\n\n        return post(url, data)\n            .then( (responseData) => {\n               if(responseData && responseData.message && typeof responseData.message === \"string\") {\n                    handleErrorIn200Response(responseData) \n                } else {\n                    OraActions.server.addedToCart(responseData);\n                }\n            })\n            .catch(throwAddToCartError);\n    };\n  \n    OraEshopAPI.removeMagnumFromMultiCart = function (bundleNos) {\n        let url = bsfContextPath + \"/multiCart/remove\";\n        return postJsonObject(url, bundleNos)\n            .then(OraActions.server.removedFromCart)\n            .catch(OraActions.error.removeFromCart);\n    };\n\n    OraEshopAPI.getChannel = function(){\n        let url = bsfContextPath + \"/customer/channel\";\n        return get(url, \"\")\n            .then(OraActions.server.loadedChannel);\n    };\n\n    return OraEshopAPI;\n})({});\n\nexport default OraEshopAPI;\n"],
    "file": "OraEshopAPI.js"
}